import{aS as a,j as e,m as t,a9 as s,w as n,aT as l,ap as o,o as i}from"./ui-vendor-ib5n1sau.js";import{a as r}from"./react-vendor-TJBKpoaW.js";import{uploadSingleImagesAPIV2 as d}from"./useHotelHook2-Dg3SXKg3.js";const m=a("input")({display:"none"}),c=({feature:a,handleFeatureChange:c,setImageUpload:u,index:g})=>{const[p,x]=r.useState(!1),[j,h]=r.useState(null),[f,y]=r.useState(null),v=`contained-button-file-${g}`;return r.useEffect((()=>{u(p)}),[p,u]),e.jsxs(t,{children:[e.jsx(s,{label:"Image URL",variant:"outlined",fullWidth:!0,value:a.image||"",onChange:a=>c("image",a.target.value),style:{marginBottom:10},disabled:p}),e.jsxs("label",{htmlFor:v,children:[e.jsx(m,{accept:"image/*",id:v,type:"file",onChange:async a=>{const e=a.target.files[0];if(e){y(null),h(null),x(!0);try{const a=await d([e]),t=null==a?void 0:a.imageUrls[0];c("image",t),x(!1)}catch(t){h("Failed to upload image. Please try again."),x(!1),c("image","")}}},disabled:p}),e.jsx(n,{variant:"contained",component:"span",startIcon:e.jsx(l,{}),disabled:p,style:{marginBottom:10},children:"Upload Image"})]}),p&&e.jsxs(t,{display:"flex",alignItems:"center",mt:1,children:[e.jsx(o,{size:20,sx:{mr:1}}),e.jsx(i,{variant:"body2",color:"textSecondary",children:"Uploading..."})]}),j&&e.jsx(i,{variant:"body2",color:"error",mt:1,children:j}),f&&e.jsx(i,{variant:"body2",color:"error",mt:1,children:f})]})};export{c as I};
