var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(t,s,r)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r;import{j as n,aV as o,L as d,r as c,H as m}from"./react-vendor-tq68JOgp.js";import{u as x}from"./useLoyaltyProgramHook-CaIyt3Hc.js";import{u as g}from"./useUser-CBPm2_WT.js";import{u}from"./index-BZBH8CwT.js";import p from"./ImageGallery-BcI68pjs.js";import{u as h}from"./useMetaHook-9W8m-ygm.js";import"./animation-vendor-DJegggv9.js";import"./vendor-DwD9zxym.js";import"./query-vendor-iDpT9gG9.js";import"./ui-vendor-DiJ4VKpG.js";import"./swiper-vendor-DEzR9mKq.js";import"./date-vendor-9E3U4XI3.js";import"./useUpdatePagesHook-9YRdH3R2.js";import"./Loader-BEd0M6qd.js";const y=()=>{var e;const{data:t,isLoading:s,isError:r}=x(),a=null!=(e=null==t?void 0:t.loyal_guest)?e:{heading:"Become a Loyal Sunstar Guest",description:"A rewarding loyalty program built for our most valued guests — like you, who choose comfort, consistency, and care with every stay."},l=Array.isArray(null==t?void 0:t.tiers)&&t.tiers.length>0?t.tiers:[{level:1,name:"Smart Traveller",requirement_text:"Complete 5 nights in 365 days",benefit_text:"5% discount on future bookings",unlock_after_nights:5},{level:2,name:"Frequent Explorer",requirement_text:"Complete 10 nights in 365 days",benefit_text:"10% discount on all bookings",unlock_after_nights:10},{level:3,name:"Elite Guest",requirement_text:"Complete 20 nights in 365 days",benefit_text:"15% discount on all bookings",unlock_after_nights:20}];return s?n.jsx("div",{className:"content mx-auto p-6 flex flex-col gap-8",children:n.jsxs("div",{className:"space-y-6 mt-10 text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-primary-green",children:"Loading Loyalty Program..."}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Please wait while we fetch program details."})]})}):r?n.jsx("div",{className:"content mx-auto p-6 flex flex-col gap-8",children:n.jsxs("div",{className:"space-y-6 mt-10 text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-red-600",children:"Failed to load Loyalty Program"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Please try again later."})]})}):n.jsxs("div",{className:"content mx-auto p-6 flex flex-col gap-8",children:[n.jsxs("div",{className:"space-y-6 mt-10",children:[n.jsx("h1",{className:"text-4xl font-bold text-primary-green leading-tight",children:a.heading}),n.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:a.description})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:l.map(((e,t)=>n.jsxs("div",{className:"border-2 border-gray-100 rounded-lg p-6 space-y-4 transition-all hover:shadow-lg bg-white",children:[n.jsxs("div",{className:"flex items-center w-[120px] gap-2 text-sm bg-gray-100 text-primary-gray px-4 py-2 rounded-full",children:[n.jsx(o,{className:"w-4 h-4"}),n.jsxs("span",{children:["Level ",e.level]})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("h3",{className:"text-mobile/h3 font-bold text-gray-800",children:e.name}),n.jsx("p",{className:"text-sm text-gray-600 font-medium",children:e.requirement_text})]}),n.jsxs("div",{className:"space-y-3 bg-gray-50 py-8 rounded-lg pt-4 text-center w-full",children:[n.jsx("p",{className:"text-desktop/h5 text-primary-gray text-center",children:e.benefit_text}),n.jsxs("p",{className:"text-center text-sm text-primary-gray italic",children:["Offers unlock after completing ",e.unlock_after_nights," nights."]})]})]},e.level||t)))})]})},j=()=>{const{data:e,isLoading:o,isError:d}=x(),c=Array.isArray(null==e?void 0:e.how_it_works)&&e.how_it_works.length>0?e.how_it_works.map(((e,n)=>{return o=((e,t)=>{for(var s in t||(t={}))a.call(t,s)&&i(e,s,t[s]);if(r)for(var s of r(t))l.call(t,s)&&i(e,s,t[s]);return e})({},e),t(o,s({icon:0===n?"/images/staywithus.svg":1===n?"/images/track.svg":"/images/reward.svg"}));var o})):[{title:"Stay with Us",description:"Book your stay directly through our official website or contact numbers. Every night you stay counts towards your rewards.",icon:"/images/staywithus.svg"},{title:"Track Your Nights",description:"We automatically track your completed nights within a 365-day period. You don't need to sign up again or carry a membership card.",icon:"/images/track.svg"},{title:"Unlock Rewards",description:"Your loyalty starts paying off after just 5 nights. Unlock bigger benefits as you stay more.",icon:"/images/reward.svg"}];return o?n.jsxs("div",{className:"bg-[#38B6B4] py-16 px-6 text-white content mx-auto text-center",children:[n.jsx("h2",{className:"text-mobile/h4 md:text-desktop/h3 font-bold mb-4",children:"Loading How It Works..."}),n.jsx("p",{className:"opacity-80 text-sm",children:"Please wait while we fetch steps."})]}):n.jsx("div",{className:"bg-[#38B6B4]",children:n.jsxs("div",{className:"py-16 px-6 text-white content mx-auto",children:[n.jsx("h2",{className:"text-mobile/h4 md:text-desktop/h3 font-bold mb-12 text-start",children:"How It Works"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:c.map(((e,t)=>n.jsxs("div",{className:"flex flex-col items-start md:items-center text-start bg-white/10 p-6 rounded-2xl",children:[n.jsx("img",{src:e.icon,alt:e.title,className:"w-20 h-20 mb-4",onError:e=>{e.currentTarget.src=0===t?"/images/staywithus.svg":1===t?"/images/track.svg":"/images/reward.svg"}}),n.jsx("h3",{className:"font-semibold text-2xl",children:e.title}),n.jsx("p",{className:"text-sm opacity-90 mt-2 md:text-center",children:e.description})]},t)))})]})})},f=()=>{var e,t,s,r,a,l,i,o,c;const m=localStorage.getItem("user_email"),{data:u}=g(m),{data:p,isLoading:h,isError:y}=x(),j=null!=(e=null==p?void 0:p.title)?e:"Join Sunstar Rewards.",f=null!=(t=null==p?void 0:p.subtitle)?t:"Sunstar’s loyalty program for frequent travelers—earn perks and exclusive benefits every time you stay with us.",v=null!=(r=null==(s=null==p?void 0:p.hero_cta)?void 0:s.text)?r:"See your benefits";null==(a=null==p?void 0:p.hero_cta)||a.link;const b=Number(null==(l=null==u?void 0:u.data)?void 0:l.totalBookings)||0,w=[null==(i=null==u?void 0:u.data)?void 0:i.firstName,null==(o=null==u?void 0:u.data)?void 0:o.lastName].filter(Boolean).join(" ")||(null==(c=null==u?void 0:u.data)?void 0:c.fullName)||(m?m.split("@")[0]:"Guest");return h?n.jsx("div",{className:"bg-gray-50",children:n.jsxs("div",{className:"flex flex-col pt-24 content md:flex-row items-start md:items-center justify-between bg-gray-50 p-8",children:[n.jsxs("div",{className:"mb-6 md:mb-0",children:[n.jsx("h1",{className:"text-mobile/h3 md:text-desktop/h2 font-bold text-primary-green mb-2",children:"Loading..."}),n.jsx("p",{className:"text-gray-500 max-w-md",children:"Loading loyalty program..."})]}),n.jsxs("div",{className:"bg-white border shadow-lg border-gray-100 rounded-xl flex flex-col w-80",children:[n.jsxs("div",{className:"p-6 pb-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("span",{className:"text-primary-green font-semibold text-xl",children:"Sunstar"}),n.jsx("span",{className:"text-primary-green font-semibold",children:w})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx("img",{src:"/images/loyalty-illustration.svg",alt:"Sunstar Rewards",className:"h-[100px]",onError:e=>{e.currentTarget.src="/images/loyalty-illustration.svg"}})})]}),n.jsxs(d,{to:"/user/profile",state:{tab:"loyalty"},className:"bg-primary-green cursor-pointer rounded-b-xl px-6 py-4 flex justify-between items-center text-white font-medium",children:[n.jsxs("span",{children:[b," Stays >"]}),n.jsx("span",{children:v})]})]})]})}):n.jsx("div",{className:"bg-gray-50",children:n.jsxs("div",{className:"flex flex-col pt-24 content md:flex-row items-start md:items-center justify-between bg-gray-50 p-8",children:[n.jsxs("div",{className:"mb-6 md:mb-0",children:[n.jsx("h1",{className:"text-mobile/h3 md:text-desktop/h2 font-bold text-primary-green mb-2",children:j}),n.jsx("p",{className:"text-gray-500 max-w-md",children:f})]}),n.jsxs("div",{className:"bg-white border shadow-lg border-gray-100 rounded-xl flex flex-col w-80",children:[n.jsxs("div",{className:"p-6 pb-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("span",{className:"text-primary-green font-semibold text-xl",children:"Sunstar"}),n.jsx("span",{className:"text-primary-green font-semibold",children:w})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx("img",{src:"/images/sunstar-loyalty-illustration.svg",alt:"Sunstar Rewards",className:"h-[100px]",onError:e=>{e.currentTarget.src="/images/loyalty-illustration.svg"}})})]}),n.jsxs(d,{to:"/user/profile",state:{tab:"loyalty"},className:"bg-primary-green cursor-pointer rounded-b-xl px-6 py-4 flex justify-between items-center text-white font-medium",children:[n.jsxs("span",{children:[b," Stays >"]}),n.jsx("span",{children:v})]})]})]})})},v=()=>{var e;const{setIsNavColor:t}=u(),{data:s}=h(),r=Array.isArray(s)?s.find((e=>"Loyalty Program"===e.page)):null;return c.useEffect((()=>(t(!0),()=>{t(!1)})),[t]),n.jsxs("div",{children:[n.jsxs(m,{children:[n.jsx("title",{children:(null==r?void 0:r.metaTitle)||"Tour & Travel - Sunstar Hotels"}),n.jsx("meta",{name:"description",content:(null==r?void 0:r.metaDescription)||""}),n.jsx("meta",{name:"keywords",content:(null==(e=null==r?void 0:r.metaKeywords)?void 0:e.join(", "))||""})]}),n.jsx(f,{}),n.jsx(y,{}),n.jsx(j,{}),n.jsx("div",{className:"content ",children:n.jsx(p,{})})]})};export{v as default};
