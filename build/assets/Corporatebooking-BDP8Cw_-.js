import{j as e,m as f,l as P,n as E,o as O,r as u,M as F,p as T,q as A,s as q,t as L,X as B,f as D,g as _,h as I}from"./index-C3G9cYjv.js";import{B as w}from"./BannerSection-DIPC3Nr1.js";const R=({features:a})=>e.jsxs("div",{className:"w-full py-10 px-4 content",children:[e.jsx(f.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-mobile/h2 md:text-desktop/h3 font-bold md:font-bold text-black text-center md:text-left mb-8 text-reveal-animation",children:"The most complete business platform"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:a==null?void 0:a.map((r,i)=>e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:i*.1},whileHover:{scale:1.05},className:"border border-teal-400 rounded-lg p-6 flex flex-col items-center md:items-start md:text-left text-center shadow-sm hover:shadow-lg transition-shadow animation-on-scroll",children:[e.jsx(f.h3,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:i*.1+.2},className:"text-mobile/h5 md:text-desktop/h5 font-bold text-black mb-2",children:r.title}),e.jsx(f.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:i*.1+.3},className:"text-mobile/body/2 te md:text-desktop/body/1 text-gray-600 ",children:r.description})]},i))})]}),$=({page:a="Sunstar Enquiry",gid:r=[0]})=>{const{mutate:i,isLoading:m}=P(),o=[{name:"name",placeholder:"Name"},{name:"email",type:"email",placeholder:"Email*"},{name:"phone",placeholder:"Phone",colSpan:"md:col-span-2"},{name:"decisionMaker",placeholder:"Designation"},{name:"companyName",placeholder:"Company Name"},{name:"address",type:"dropdown",placeholder:"Corporate Booking",options:[{value:"general",label:"General Inquiry"},{value:"support",label:"Support"},{value:"sales",label:"Sales"}],required:!0},{name:"enquiry",type:"textarea",placeholder:"Your Enquiry",rows:4,colSpan:"md:col-span-2"}],c=(d,s)=>{i({...d,page:a,gid:r},s)};return e.jsx(E,{title:"Sunstar Enquiry Form",subtitle:"Get Connected (For Corporates & Travel Agents to register their interest)",fields:o,onSubmit:c,isLoading:m})},G=()=>{const{data:a}=O("corporate-booking"),[r,i]=u.useState(null),m=s=>{i(r===s?null:s)},o=a==null?void 0:a.filter((s,l)=>l%2===0),c=a==null?void 0:a.filter((s,l)=>l%2!==0),d=(s,l)=>{const g=r===l;return e.jsxs("div",{onClick:()=>m(l),className:"border-b flex flex-col gap-6 border-gray-300 pb-4 cursor-pointer",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("p",{className:"font-medium text-lg text-gray-800",children:s.question}),e.jsx("div",{className:"mt-1 text-yellow-500",children:g?e.jsx(F,{size:25}):e.jsx(T,{size:25})})]}),e.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${g?"max-h-40 mt-2":"max-h-0"}`,children:e.jsx("p",{className:"text-sm text-gray-600",children:s.answer})})]},l)};return e.jsx("div",{children:e.jsx("section",{className:"py-16 md:px-12 bg-gray-50",children:e.jsxs("div",{className:"content mx-auto",children:[e.jsx("h2",{className:"text-mobile/h3 md:text-desktop/h3  text-gray-800 mb-10",children:"Frequently Asked Questions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[e.jsx("div",{className:"space-y-6",children:o==null?void 0:o.map((s,l)=>d(s,l*2))}),e.jsx("div",{className:"space-y-6",children:c==null?void 0:c.map((s,l)=>d(s,l*2+1))})]})]})})})},M=({open:a,onClose:r})=>{const i=A(),m=q(),o=L(),[c,d]=u.useState("form"),[s,l]=u.useState({name:"",email:"",phone:"",companyName:"",gstNumber:"",city:"",role:"corporate"}),[g,j]=u.useState(""),[p,b]=u.useState(120);u.useEffect(()=>{a||(d("form"),l({name:"",email:"",phone:"",companyName:"",gstNumber:"",city:"",role:"corporate"}),j(""),b(120))},[a]),u.useEffect(()=>{if(c!=="otp"||p<=0)return;const n=setInterval(()=>b(t=>t-1),1e3);return()=>clearInterval(n)},[c,p]);const N=u.useMemo(()=>{const n=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email),t=/^\d{7,}$/.test(s.phone);return!s.name.trim()||!n||!t||i.isPending},[s,i.isPending]),v=u.useMemo(()=>g.trim().length!==6||m.isPending,[g,m.isPending]),k=n=>{n.preventDefault(),i.mutate({name:s.name.trim(),email:s.email.trim().toLowerCase(),phone:s.phone.trim(),role:"corporate"},{onSuccess:t=>{d("otp"),b(120)},onError:t=>{var y,h;const x=((h=(y=t==null?void 0:t.response)==null?void 0:y.data)==null?void 0:h.message)||"Signup failed";console.error(x)}})},C=n=>{n.preventDefault(),m.mutate({email:s.email.trim().toLowerCase(),otp:g.trim()},{onSuccess:t=>{var x;t!=null&&t.ok?(localStorage.setItem("user_email",((x=t==null?void 0:t.data)==null?void 0:x.email)||s.email.trim().toLowerCase()),r==null||r()):console.error((t==null?void 0:t.message)||"Verification failed")},onError:t=>{var y,h;const x=((h=(y=t==null?void 0:t.response)==null?void 0:y.data)==null?void 0:h.message)||"Invalid or expired OTP";console.error(x)}})},S=()=>{p>0||o.mutate({email:s.email.trim().toLowerCase(),phone:s.phone.trim(),name:s.name.trim(),role:"corporate"},{onSuccess:n=>{b(120)},onError:n=>{var t,x;console.error(((x=(t=n==null?void 0:n.response)==null?void 0:t.data)==null?void 0:x.message)||"Failed to resend OTP")}})};return a?e.jsxs("div",{className:"fixed inset-0 z-[1000]",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:r}),e.jsxs("div",{className:"relative mx-auto mt-16 w-[92%] max-w-2xl bg-white rounded-2xl shadow-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:c==="form"?"Corporate Booking Signup":"Enter OTP"}),e.jsx("button",{onClick:r,className:"p-1 rounded-full hover:bg-gray-100",children:e.jsx(B,{className:"w-5 h-5"})})]}),c==="form"?e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",value:s.name,onChange:n=>l(t=>({...t,name:n.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"Corporate Contact Name",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:s.email,onChange:n=>l(t=>({...t,email:n.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"you@company.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e.jsx("input",{type:"tel",value:s.phone,onChange:n=>l(t=>({...t,phone:n.target.value.replace(/\D/g,"")})),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"9876543210",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name (optional)"}),e.jsx("input",{type:"text",value:s.companyName,onChange:n=>l(t=>({...t,companyName:n.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"Company Pvt Ltd"})]}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GST No. (optional)"}),e.jsx("input",{type:"text",value:s.gstNumber,onChange:n=>l(t=>({...t,gstNumber:n.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"22AAAAA0000A1Z5"})]}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City (optional)"}),e.jsx("input",{type:"text",value:s.city,onChange:n=>l(t=>({...t,city:n.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"Gurugram"})]})]}),e.jsx("button",{type:"submit",disabled:N,className:`w-full rounded-lg px-4 py-2 font-semibold text-white transition ${N?"bg-gray-400 cursor-not-allowed":"bg-primary-green hover:brightness-110"}`,children:i.isPending?"Sending OTP...":"Get OTP"}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"By continuing you agree to receive a one-time password on your email."})]}):e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["We sent a 6-digit code to ",e.jsx("b",{children:s.email}),". Enter it below to verify your login."]}),e.jsx("input",{type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:6,value:g,onChange:n=>j(n.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full text-center tracking-[0.5em] text-2xl rounded-lg border border-gray-300 px-3 py-3 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"______",autoFocus:!0}),e.jsx("button",{type:"submit",disabled:v,className:`w-full rounded-lg px-4 py-2 font-semibold text-white transition ${v?"bg-gray-400 cursor-not-allowed":"bg-primary-green hover:brightness-110"}`,children:m.isPending?"Verifying...":"Verify & Continue"}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsx("button",{type:"button",onClick:()=>d("form"),className:"underline underline-offset-2",children:"Change email"}),e.jsx("button",{type:"button",onClick:S,disabled:p>0||o.isPending,className:`underline underline-offset-2 ${p>0?"opacity-50 cursor-not-allowed":""}`,title:p>0?`Resend in ${p}s`:"Resend OTP",children:p>0?`Resend in ${p}s`:o.isPending?"Resending...":"Resend OTP"})]}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Didn’t receive the email? Check your spam folder or try resending."})]})]})]}):null},z=()=>{var d;const{CoorporateBooking:a}=D(),{data:r}=_(),[i,m]=u.useState(!1),o=Array.isArray(r)?r.find(s=>s.page==="corporatebooking"):null;u.useEffect(()=>{window.scrollTo(0,0)},[]);const c=()=>{m(!0)};return e.jsxs("div",{children:[e.jsxs(I,{children:[e.jsx("title",{children:(o==null?void 0:o.metaTitle)||"CoorporateBooking"}),e.jsx("meta",{name:"description",content:(o==null?void 0:o.metaDescription)||""}),e.jsx("meta",{name:"keywords",content:((d=o==null?void 0:o.metaKeywords)==null?void 0:d.join(", "))||""})]}),e.jsx(w,{data:a==null?void 0:a.CoorporateBookingHeadContent,text:"text-mobile/h3 md:text-desktop/h3",lineh:"text-mobile/body/1 md:leading-[50px]",paddTop:"pt-[80px]",imgClass:"px-10",buttton:!0,onButtonClick:c}),e.jsx(w,{data:a==null?void 0:a.CoorporateBookingDescription,text:"text-mobile/h3 md:text-desktop/h3",textC:"black",ptext:"text-mobile/body/2 md:text-[16px] ",lineh:"text-mobile/body/1 md:leading-[50px]",bg:"bg-primary-white",paddTop:"pt-0",imgClass:"px-10"}),e.jsx("hr",{className:"content"}),e.jsx(R,{features:a==null?void 0:a.BusinessPlatformSection}),e.jsx($,{}),e.jsx(G,{}),e.jsx(M,{open:i,onClose:()=>m(!1)})]})};export{z as default};
