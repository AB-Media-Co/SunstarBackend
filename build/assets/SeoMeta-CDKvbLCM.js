import{j as e,ai as a,o as t,a3 as i,m as r,a5 as s,a6 as l,a7 as o,a8 as n,a9 as d,w as c,aM as m,aN as p,aO as x,aP as h,aQ as j,aR as g,ak as u}from"./ui-vendor-ib5n1sau.js";import{a as v}from"./react-vendor-TJBKpoaW.js";import{u as y,a as w,b as f,c as C}from"./useMetaHook-CckP48qx.js";import"./query-vendor-B-W3jWpx.js";import"./index-Bl04lSVd.js";const D=()=>{const D=["home","whysunstar","corporatebooking","contactus","hotels","rooms","privacy policy","blogs","T&C and Cancellation policies","Privacy policies","Loyalty Program","Coorporate Events","Social Events","Wedding Pre Wedding Events","developersowners","career","in-the-media","travel-agent","TourAndTravel"],{data:T,isLoading:b,isError:M}=y(),K=w(),E=f(),P=C(),[A,L]=v.useState({id:"",page:"",metaTitle:"",metaDescription:"",metaKeywords:""}),k=T&&Array.isArray(T)?A.id?D.filter((e=>e===A.page||!T.some((a=>a.page.toLowerCase()===e.toLowerCase())))):D.filter((e=>!T.some((a=>a.page.toLowerCase()===e.toLowerCase())))):D,q=()=>{L({id:"",page:"",metaTitle:"",metaDescription:"",metaKeywords:""})};return e.jsxs(a,{sx:{mt:4},children:[e.jsx(t,{variant:"h4",gutterBottom:!0,children:"SEO Meta Admin Panel"}),0===k.length?e.jsx("div",{className:"text-lg text-red-500 my-10",children:"All predefined  have a meta entry Please Edit  them Now."}):e.jsx(i,{sx:{p:2,mb:4},children:e.jsx("form",{onSubmit:e=>{e.preventDefault();const a=A.metaKeywords.split(",").map((e=>e.trim())).filter(Boolean),t={page:A.page,metaTitle:A.metaTitle,metaDescription:A.metaDescription,metaKeywords:a};A.id?E.mutate({id:A.id,updateData:t}):K.mutate(t),q()},children:e.jsxs(r,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(s,{fullWidth:!0,required:!0,children:[e.jsx(l,{id:"page-label",children:"Page"}),e.jsx(o,{labelId:"page-label",id:"page",value:A.page,label:"Page",onChange:e=>L({...A,page:e.target.value}),children:k.map((a=>e.jsx(n,{value:a,children:a},a)))})]}),e.jsx(d,{label:"Meta Title",value:A.metaTitle,onChange:e=>L({...A,metaTitle:e.target.value}),required:!0}),e.jsx(d,{label:"Meta Description",value:A.metaDescription,onChange:e=>L({...A,metaDescription:e.target.value}),required:!0,multiline:!0,rows:3}),e.jsx(d,{label:"Meta Keywords (comma separated)",value:A.metaKeywords,onChange:e=>L({...A,metaKeywords:e.target.value})}),e.jsxs(r,{sx:{display:"flex",gap:2},children:[e.jsx(c,{type:"submit",variant:"contained",color:"primary",children:A.id?"Update Meta":"Add Meta"}),e.jsx(c,{variant:"outlined",onClick:q,children:"Clear"})]})]})})}),e.jsxs(i,{sx:{p:2},children:[e.jsx(t,{variant:"h5",gutterBottom:!0,children:"Existing Meta Entries"}),b?e.jsx(t,{children:"Loading..."}):M?e.jsx(t,{color:"error",children:"Error loading meta entries."}):e.jsxs(m,{children:[e.jsx(p,{children:e.jsxs(x,{children:[e.jsx(h,{children:"Page"}),e.jsx(h,{children:"Meta Title"}),e.jsx(h,{children:"Meta Description"}),e.jsx(h,{children:"Meta Keywords"}),e.jsx(h,{align:"right",children:"Actions"})]})}),e.jsx(j,{children:T&&T.map((a=>e.jsxs(x,{className:"capitalize",children:[e.jsx(h,{children:a.page}),e.jsx(h,{children:a.metaTitle}),e.jsx(h,{children:a.metaDescription}),e.jsx(h,{children:a.metaKeywords.join(", ")}),e.jsxs(h,{align:"right",children:[e.jsx(c,{variant:"outlined",onClick:()=>(e=>{L({id:e._id,page:e.page,metaTitle:e.metaTitle,metaDescription:e.metaDescription,metaKeywords:e.metaKeywords.join(", ")})})(a),sx:{mr:1},children:e.jsx(g,{})}),e.jsx(c,{variant:"outlined",color:"error",onClick:()=>{return e=a._id,void(window.confirm("Are you sure you want to delete this meta entry?")&&P.mutate(e));var e},children:e.jsx(u,{})})]})]},a._id)))})]})]})]})};export{D as default};
