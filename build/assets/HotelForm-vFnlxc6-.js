import{j as e,ae as a,p as t,aa as s,a9 as n}from"./ui-vendor-ib5n1sau.js";import{a as l,i as o}from"./react-vendor-TJBKpoaW.js";import{d as i}from"./index-Bl04lSVd.js";import{useAddHotel as r,useEditHotel as d,uploadImagesAPIV2 as c}from"./useHotelHook2-Dg3SXKg3.js";import{M as m}from"./MultipleImageUpload-D5e4i9gV.js";import{u}from"./useUpdatePagesHook-BMk10lIP.js";import{I as h}from"./ImageUpload-DjYKuoa9.js";import{u as g}from"./useLocationHook-D4_mpQuS.js";const x=({formData:a,handleAboutUsChange:t,handleAboutUsFeatureChange:s})=>e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"About Us Description:"}),e.jsx("textarea",{name:"description",value:a.aboutUs.description,onChange:t,placeholder:"Enter about us description",className:"w-full md:h-[180px] border rounded-md p-3 focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"About Us Image:"}),e.jsx(h,{feature:a.aboutUs,handleFeatureChange:s,setImageUpload:()=>{},index:0})]})]}),p=({formData:a,setFormData:t,testimonialInput:s,setTestimonialInput:n,handleAddTestimonial:o,handleRemoveTestimonial:i})=>{const[r,d]=l.useState(null),[c,m]=l.useState({name:"",location:"",heading:"",description:""}),u=e=>{const{name:a,value:t}=e.target;m((e=>({...e,[a]:t})))},h=()=>{d(null)};return e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{children:a.testimonials.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.testimonials.map(((s,n)=>e.jsx("div",{className:"border rounded-lg p-6 shadow-md hover:shadow-xl transition-shadow bg-white",children:r===n?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",name:"heading",value:c.heading,onChange:u,placeholder:"Edit Heading",className:"text-xl font-bold text-blue-600 mb-2 border rounded p-2 w-full"}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"font-medium",children:"Name: "}),e.jsx("input",{type:"text",name:"name",value:c.name,onChange:u,className:"border rounded p-2 w-full"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"font-medium",children:"Location: "}),e.jsx("input",{type:"text",name:"location",value:c.location,onChange:u,className:"border rounded p-2 w-full"})]}),e.jsx("textarea",{name:"description",value:c.description,onChange:u,placeholder:"Edit testimonial description",className:"border rounded p-2 w-full mb-2"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:()=>(e=>{const s=[...a.testimonials];s[e]=c,t((e=>({...e,testimonials:s}))),d(null)})(n),className:"bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-4 rounded",children:"Save"}),e.jsx("button",{type:"button",onClick:h,className:"bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded",children:"Cancel"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("h4",{className:"text-xl font-bold text-blue-600 mb-2",children:s.heading}),e.jsxs("p",{className:"text-gray-800 font-medium",children:["Name: ",e.jsx("span",{className:"font-normal",children:s.name})]}),e.jsxs("p",{className:"text-gray-800 font-medium",children:["Location: ",e.jsx("span",{className:"font-normal",children:s.location})]}),e.jsx("p",{className:"text-gray-700 mt-2",children:s.description}),e.jsxs("div",{className:"flex gap-4 mt-4",children:[e.jsx("button",{type:"button",onClick:()=>(e=>{d(e),m({...a.testimonials[e]})})(n),className:"inline-block text-blue-500 hover:underline font-medium",children:"Edit"}),e.jsx("button",{type:"button",onClick:()=>i(n),className:"inline-block text-red-500 hover:underline font-medium",children:"Remove"})]})]})},n)))}):e.jsx("p",{className:"text-gray-600 text-center",children:"No testimonials added yet."})}),e.jsxs("div",{className:"border rounded-lg p-6 shadow-sm bg-gray-50",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Add Testimonial"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Name:"}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:e=>{const{value:a}=e.target;n((e=>({...e,name:a})))},placeholder:"Enter name",className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Location:"}),e.jsx("input",{type:"text",name:"location",value:s.location,onChange:e=>{const{value:a}=e.target;n((e=>({...e,location:a})))},placeholder:"Enter location",className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Heading:"}),e.jsx("input",{type:"text",name:"heading",value:s.heading,onChange:e=>{const{value:a}=e.target;n((e=>({...e,heading:a})))},placeholder:"Enter heading",className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Description:"}),e.jsx("textarea",{name:"description",value:s.description,onChange:e=>{const{value:a}=e.target;n((e=>({...e,description:a})))},placeholder:"Enter testimonial description",className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"})]})]}),e.jsx("button",{type:"button",onClick:o,className:"mt-6 w-full bg-green-500 hover:bg-green-600 text-white font-medium py-3 rounded-md transition-colors",children:"Add Testimonial"})]})]})},b=({formData:a,isUploading:t,handleImagesUpload:s,handleRemoveImageUrl:n})=>e.jsx("div",{className:"space-y-5",children:e.jsx(m,{onUploadSuccess:s,isUploading:t,imagesUrls:a.images,onRemoveImageUrl:n})}),f=({formData:a,handleHotelAddressChange:t,handleTransportChange:s,transportLocations:n,pointsOfInterest:l,locationInputs:o,handleLocationInputChange:i,addLocationItem:r,removeLocationItem:d,handleCityLocationChange:c})=>{const{data:m,isLoading:u,isError:h}=g();return e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-yellow-700",children:"Please fill in the correct location information. Accuracy is important for guest experience."})})]})}),e.jsxs("div",{className:"flex gap-4 w-full",children:[e.jsxs("div",{className:"bg-white border  w-full rounded-lg p-6 shadow-md transition-shadow duration-300",children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Hotel Address"}),e.jsx("input",{type:"text",name:"hotelAddress",value:a.location.hotelAddress,onChange:t,required:!0,placeholder:"Enter hotel address",className:"w-full border rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),e.jsxs("div",{className:"bg-white border  w-full rounded-lg p-6 shadow-md transition-shadow duration-300",children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Select City"}),u?e.jsx("p",{children:"Loading cities..."}):h?e.jsx("p",{children:"Error loading cities"}):e.jsxs("select",{value:a.cityLocation||"",onChange:c,className:"w-full border rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[e.jsx("option",{value:"",children:"Select a city"}),m&&m.map((a=>e.jsx("option",{value:a._id,children:a.name},a._id)))]})]})]}),e.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[e.jsx("h3",{className:"text-xl font-semibold mt-6",children:"Transportation Options"}),e.jsx("div",{className:"flex gap-6 w-full",children:n.map((t=>e.jsxs("div",{className:"bg-white border w-full rounded-lg p-6 shadow-md transition-shadow duration-300",children:[e.jsx("h3",{className:"text-xl font-semibold capitalize",children:"railwayStation"===t?"Railway Station":t}),e.jsx("input",{type:"text",placeholder:"Enter name",value:a.location[t]||"",onChange:e=>s(t,e.target.value),className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"})]},t)))})]}),e.jsx("h3",{className:"text-xl font-semibold mt-6",children:"Points of Interest"}),l.map((t=>e.jsxs("div",{className:"bg-white border rounded-lg p-6 shadow-md transition-shadow duration-300",children:[e.jsx("h3",{className:"text-xl font-semibold capitalize",children:t}),a.location[t]&&a.location[t].length>0&&e.jsx("ul",{className:"mb-4 space-y-2",children:a.location[t].map(((a,s)=>e.jsxs("li",{className:"flex justify-between items-center bg-gray-100 rounded-md p-3",children:[e.jsx("span",{className:"text-gray-800",children:a.name}),e.jsx("button",{type:"button",onClick:()=>d(t,s),className:"text-red-500 hover:underline font-medium",children:"Remove"})]},s)))}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[e.jsx("input",{type:"text",placeholder:"Name",value:o[t].name,onChange:e=>i(t,"name",e.target.value),className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"}),e.jsx("button",{type:"button",onClick:()=>r(t),className:"bg-blue-500 text-white px-4 py-2 rounded-md",children:"Add"})]})]},t)))]})},v=({rating:a,onChange:t,maxRating:s=5})=>e.jsxs("div",{className:"flex relative",children:[Array.from({length:s},((s,n)=>{const l=n+1,o=a>=l,i=!o&&a>=l-.5;return e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 w-1/2 cursor-pointer z-10",onClick:()=>{t(l-.5)}}),e.jsx("div",{className:"absolute inset-y-0 right-0 w-1/2 cursor-pointer z-10",onClick:()=>{t(l)}}),e.jsx("div",{className:"flex",children:o?e.jsx("span",{className:"text-4xl text-yellow-500",children:"★"}):i?e.jsxs("div",{className:"relative text-4xl",children:[e.jsx("span",{className:"text-gray-300",children:"★"}),e.jsx("div",{className:"absolute inset-0 overflow-hidden w-1/2",children:e.jsx("span",{className:"text-yellow-500",children:"★"})})]}):e.jsx("span",{className:"text-4xl text-gray-300",children:"★"})})]},n)})),e.jsx("span",{className:"ml-2 text-lg self-center",children:a.toFixed(1)})]}),j=({initialTime:a,onChange:t,name:s})=>{const[n,o]=l.useState(!1),[i,r]=l.useState(a||""),[d,c]=l.useState(12),[m,u]=l.useState(0),[h,g]=l.useState("AM"),[x,p]=l.useState("hour");l.useEffect((()=>{a&&b(a)}),[a]);const b=e=>{if(e)try{if(e.includes("AM")||e.includes("PM")){const[a,t]=e.split(" "),[s,n]=a.split(":");return c(parseInt(s,10)),u(parseInt(n,10)),void g(t)}const[a,t]=e.split(":"),s=parseInt(a,10);c(s>12?s-12:0===s?12:s),u(parseInt(t,10)),g(s>=12?"PM":"AM")}catch(a){}},f=e=>{g(e);const a=`${d}:${m.toString().padStart(2,"0")} ${e}`;r(a),t&&t({target:{name:s,value:a,type:"text"}})};return e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"w-full border rounded-md p-3 cursor-pointer flex justify-between items-center bg-white",onClick:()=>o(!n),children:[e.jsx("span",{children:i||"Select Time"}),e.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),n&&e.jsxs("div",{className:"absolute z-20 mt-1 p-4 bg-white shadow-xl rounded-lg border",style:{width:"250px"},children:[e.jsxs("div",{className:"mb-4 text-center text-2xl font-bold cursor-pointer",onClick:()=>{p("hour"===x?"minute":"hour")},children:[d,":",m.toString().padStart(2,"0"),e.jsx("span",{className:"ml-2",children:h})]}),e.jsxs("div",{className:"flex justify-center mb-4 space-x-4",children:[e.jsx("button",{className:"px-4 py-1 rounded "+("AM"===h?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>f("AM"),children:"AM"}),e.jsx("button",{className:"px-4 py-1 rounded "+("PM"===h?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>f("PM"),children:"PM"})]}),e.jsxs("div",{className:"relative w-48 h-48 mx-auto mb-4",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-gray-200"}),e.jsx("div",{className:"absolute rounded-full bg-blue-500 h-3 w-3",style:{left:"100px",top:"100px",transform:"translate(-50%, -50%)"}}),e.jsx("div",{className:"absolute w-1 bg-blue-500 rounded-full",style:{...(()=>{if("hour"===x){const e=60;return{transform:`translate(0, 0) rotate(${d%12/12*2*Math.PI-Math.PI/2+Math.PI/2}rad)`,transformOrigin:"bottom center",height:`${e}px`}}{const e=70;return{transform:`translate(0, 0) rotate(${m/60*2*Math.PI-Math.PI/2+Math.PI/2}rad)`,transformOrigin:"bottom center",height:`${e}px`}}})(),left:"100px",bottom:"100px"}}),"hour"===x?Array.from({length:12},((a,t)=>{const s=t+1,n=s/12*2*Math.PI-Math.PI/2,l=80*Math.cos(n)+100,o=80*Math.sin(n)+100;return e.jsx("div",{className:"absolute rounded-full h-8 w-8 flex items-center justify-center cursor-pointer "+(d===s?"bg-blue-500 text-white":"hover:bg-blue-100"),style:{left:`${l}px`,top:`${o}px`,transform:"translate(-50%, -50%)"},onClick:()=>(e=>{c(e),p("minute")})(s),children:s},s)})):Array.from({length:12},((a,n)=>{const l=5*n,o=l/60*2*Math.PI-Math.PI/2,i=80*Math.cos(o)+100,c=80*Math.sin(o)+100;return e.jsx("div",{className:"absolute rounded-full h-8 w-8 flex items-center justify-center cursor-pointer "+(m===l?"bg-blue-500 text-white":"hover:bg-blue-100"),style:{left:`${i}px`,top:`${c}px`,transform:"translate(-50%, -50%)"},onClick:()=>(e=>{u(e);const a=`${d}:${e.toString().padStart(2,"0")} ${h}`;r(a),t&&t({target:{name:s,value:a,type:"text"}})})(l),children:l},l)}))]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300",onClick:()=>o(!1),children:"Cancel"}),e.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",onClick:()=>{const e=`${d}:${m.toString().padStart(2,"0")} ${h}`;r(e),o(!1),t&&t({target:{name:s,value:e,type:"text"}})},children:"Apply"})]})]})]})},y=({formData:l,handleDetailsChange:o,amenities:i,handleAmenitiesChange:r,setFormData:d})=>{const c=e=>{e.target,o(e)};return e.jsxs("div",{className:"space-y-5",children:[e.jsx(a,{control:e.jsx(a,{control:e.jsx(t,{checked:"yes"===l.payAtHotel,onChange:e=>o({target:{name:"payAtHotel",value:e.target.checked?"yes":"no",checked:e.target.checked,type:"checkbox"}}),color:"primary"}),label:"Pay at Hotel"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Name:"}),e.jsx("input",{type:"text",name:"name",value:l.name,onChange:o,required:!0,placeholder:"Enter hotel name",className:"w-full border rounded-md p-3 focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Rating:"}),e.jsx(v,{rating:l.rating,onChange:e=>o({target:{name:"rating",value:e,type:"number"}})})]})]}),e.jsx("div",{className:"border-t pt-6",children:e.jsxs("div",{className:"group",children:[e.jsx("summary",{className:"text-xl font-semibold cursor-pointer list-none flex justify-between items-center",children:"SEO & Meta Data"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Meta Title"}),e.jsx("input",{type:"text",name:"title",value:l.meta.title,onChange:o,placeholder:"Enter meta title",className:"w-full border rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Meta Description"}),e.jsx("input",{type:"text",name:"description",value:l.meta.description,onChange:o,placeholder:"Enter meta description",className:"w-full border rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-blue-300"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Keywords"}),e.jsx("input",{type:"text",name:"keywords",value:l.meta.keywords.join(", "),onChange:o,placeholder:"e.g., hotel in Dehradun, best hotels, luxury stay",className:"w-full border rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-blue-300"}),e.jsx("small",{className:"text-gray-500",children:"Use commas to separate keywords."})]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Continental Plan (Breakfast)"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{type:"number",name:"amount",value:l.continentalPlan.rate.amount,onChange:e=>d({...l,continentalPlan:{...l.continentalPlan,rate:{...l.continentalPlan.rate,amount:Number(e.target.value)}}}),placeholder:"Rate Amount",className:"w-full border rounded-md p-2"}),e.jsxs("select",{name:"period",value:l.continentalPlan.rate.period,onChange:e=>d({...l,continentalPlan:{...l.continentalPlan,rate:{...l.continentalPlan.rate,period:e.target.value}}}),className:"w-full border rounded-md p-2",children:[e.jsx("option",{value:"per person",children:"Per Person"}),e.jsx("option",{value:"per breakfast",children:"Per Breakfast"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Description:"}),e.jsx("textarea",{name:"description",value:l.description,onChange:o,required:!0,placeholder:"Enter description",className:"w-full border rounded-md p-3 focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-center",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium ",children:"Price:"}),e.jsx("input",{type:"number",name:"price",value:l.price,onChange:o,min:"0",placeholder:"Price",className:"w-full border rounded-md p-3 focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Phone Number:"}),e.jsx("input",{type:"number",name:"phoneNumber",value:l.phoneNumber,onChange:o,placeholder:"Phone Number",className:"w-full border rounded-md p-3 focus:ring focus:ring-blue-200"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Amenities:"}),e.jsx(s,{multiple:!0,id:"amenities-select",options:null==i?void 0:i.map((e=>({label:e.label,value:e.value}))),value:l.amenities,onChange:r,isOptionEqualToValue:(e,a)=>e.label===a.label,getOptionLabel:e=>e.label,renderInput:a=>e.jsx(n,{...a,label:"Select amenities",placeholder:"Select amenities"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Check In:"}),e.jsx(j,{initialTime:l.checkIn,onChange:c,name:"checkIn"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Check Out:"}),e.jsx(j,{initialTime:l.checkOut,onChange:c,name:"checkOut"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"soldOut",checked:l.soldOut,onChange:o,className:"mr-2"}),e.jsx("label",{className:"text-gray-700 font-medium",children:"Sold Out"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Hotel Code:"}),e.jsx("input",{type:"text",name:"hotelCode",value:l.hotelCode,onChange:o,required:!0,placeholder:"Enter hotel code",className:"w-full border rounded-md p-3 focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Auth Key:"}),e.jsx("input",{type:"text",name:"authKey",value:l.authKey,onChange:o,required:!0,placeholder:"Enter authentication key",className:"w-full border rounded-md p-3 focus:ring focus:ring-blue-200"})]})]})]})},N=({formData:a,isUploading:t,newSectionHeading:s,setNewSectionHeading:n,handleCarouselImagesUpload:l,handleRemoveCarouselImage:o,handleAddImageSection:i,handleSectionHeadingChange:r,handleRemoveImageSection:d,handleSectionImagesUpload:c,handleRemoveSectionImageUrl:u})=>{var h,g,x;return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Carousel Images"}),e.jsx(m,{onUploadSuccess:e=>l(e),isUploading:t,imagesUrls:null==(h=null==a?void 0:a.imageSections)?void 0:h.carouselImages,onRemoveImageUrl:o})]}),e.jsxs("div",{className:"",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Image Sections"}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 mb-6",children:[e.jsx("input",{type:"text",value:s,onChange:e=>n(e.target.value),placeholder:"Section Heading (e.g., Lobby, King Size Room)",className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"}),e.jsx("button",{type:"button",onClick:i,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md transition-colors",children:"Add Section"})]}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Heading"}),(null==(x=null==(g=null==a?void 0:a.imageSections)?void 0:g.sections)?void 0:x.length)>0?a.imageSections.sections.map(((a,s)=>e.jsxs("div",{className:"p-6 mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4",children:[e.jsx("input",{type:"text",value:a.heading,onChange:e=>r(s,e.target.value),placeholder:"Section Heading",className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"}),e.jsx("button",{type:"button",onClick:()=>d(s),className:"mt-2 sm:mt-0 sm:ml-4 text-red-500 hover:underline",children:"Remove Section"})]}),e.jsx(m,{onUploadSuccess:e=>c(s,e),isUploading:t,imagesUrls:a.images,onRemoveImageUrl:e=>u(s,e)})]},s))):e.jsx("p",{className:"text-gray-600 italic",children:"No image sections added yet."})]})]})},w=({initialData:a=null})=>{var t,s,n,m,h,g,v,j,w,S,C,k,I,A;const U=Boolean(a),P=o(),{amenities:T}=u(),H=e=>{var t;const s=null==(t=null==a?void 0:a.location)?void 0:t[e];return"string"==typeof s?s:Array.isArray(s)&&s.length>0&&s[0].name||""},q=(D=null==a?void 0:a.imageSections)?Array.isArray(D.sections)&&Array.isArray(D.carouselImages)?D:D.images?{sections:[],carouselImages:D.images}:{sections:[],carouselImages:[]}:{sections:[],carouselImages:[]};var D;const[M,E]=l.useState({name:(null==a?void 0:a.name)||"",description:(null==a?void 0:a.description)||"",phoneNumber:(null==a?void 0:a.phoneNumber)||"",location:{hotelAddress:(null==(t=null==a?void 0:a.location)?void 0:t.hotelAddress)||"",metro:H("metro"),airport:H("airport"),railwayStation:H("railwayStation"),attractions:(null==(s=null==a?void 0:a.location)?void 0:s.attractions)||[],restaurants:(null==(n=null==a?void 0:a.location)?void 0:n.restaurants)||[],activities:(null==(m=null==a?void 0:a.location)?void 0:m.activities)||[],nightlife:(null==(h=null==a?void 0:a.location)?void 0:h.nightlife)||[]},meta:{title:(null==(g=null==a?void 0:a.meta)?void 0:g.title)||"",description:(null==(v=null==a?void 0:a.meta)?void 0:v.description)||"",keywords:(null==(j=null==a?void 0:a.meta)?void 0:j.keywords)||[],ogTitle:(null==(w=null==a?void 0:a.meta)?void 0:w.ogTitle)||"",ogDescription:(null==(S=null==a?void 0:a.meta)?void 0:S.ogDescription)||"",ogImage:(null==(C=null==a?void 0:a.meta)?void 0:C.ogImage)||"",canonicalUrl:(null==(k=null==a?void 0:a.meta)?void 0:k.canonicalUrl)||""},amenities:(null==a?void 0:a.amenities)||[],rating:(null==a?void 0:a.rating)||0,price:(null==a?void 0:a.price)||0,discountedPrice:(null==a?void 0:a.discountedPrice)||0,soldOut:(null==a?void 0:a.soldOut)||!1,payAtHotel:(null==a?void 0:a.payAtHotel)||"no",hotelCode:(null==a?void 0:a.hotelCode)||"",authKey:(null==a?void 0:a.authKey)||"",images:(null==a?void 0:a.images)||[],testimonials:(null==a?void 0:a.testimonials)||[],checkIn:(null==a?void 0:a.checkIn)||"",checkOut:(null==a?void 0:a.checkOut)||"",aboutUs:{description:(null==(I=null==a?void 0:a.aboutUs)?void 0:I.description)||"",image:(null==(A=null==a?void 0:a.aboutUs)?void 0:A.img)||""},imageSections:q,cityLocation:(null==a?void 0:a.cityLocation)||"",faqs:(null==a?void 0:a.faqs)||[],addToYourStay:(null==a?void 0:a.addToYourStay)||[],continentalPlan:(null==a?void 0:a.continentalPlan)||{rate:{amount:0,period:"per person"}}}),[L,R]=l.useState({question:"",answer:""}),[Y,$]=l.useState(null),[F,O]=l.useState({question:"",answer:""}),[z,K]=l.useState("details"),[Q,B]=l.useState({attractions:{name:""},restaurants:{name:""},activities:{name:""},nightlife:{name:""}}),[V,_]=l.useState({name:"",location:"",heading:"",description:""}),[W,G]=l.useState(""),[J,X]=l.useState(!1),{mutate:Z}=r(),{mutate:ee}=d(),ae=(e,a)=>{R((t=>({...t,[e]:a})))},te=e=>{const{name:a,value:t}=e.target;O((e=>({...e,[a]:t})))},se=()=>{$(null)};return e.jsx("div",{className:"mx-auto py-16 px-8",children:e.jsxs("div",{className:"bg-white p-8 shadow-lg rounded-lg",children:[e.jsx("h1",{className:"text-3xl font-bold text-center mb-6",children:U?"Edit Hotel":"Add Hotel"}),e.jsx("div",{className:"flex justify-center mb-6 border-b",children:["details","aboutUs","location","headerImages","hotelImages","testimonials","faqs","addToYourStay"].map((a=>e.jsxs("button",{onClick:()=>K(a),className:"relative text-xl px-4 py-2 mx-2 font-medium focus:outline-none transition-colors duration-300",children:[e.jsx("span",{className:z===a?"text-blue-500":"text-gray-500 hover:text-blue-500",children:"hotelImages"===a?"Hotel Images":a.charAt(0).toUpperCase()+a.slice(1)}),e.jsx("span",{className:"absolute left-0 bottom-0 h-0.5 bg-blue-500 transition-all duration-300 "+(z===a?"w-full":"w-0")})]},a)))}),e.jsxs("form",{onSubmit:e=>{e.preventDefault();const a={...M,location:{hotelAddress:M.location.hotelAddress,metro:M.location.metro?[{name:M.location.metro}]:[],airport:M.location.airport?[{name:M.location.airport}]:[],railwayStation:M.location.railwayStation?[{name:M.location.railwayStation}]:[],attractions:M.location.attractions,restaurants:M.location.restaurants,activities:M.location.activities,nightlife:M.location.nightlife},phoneNumber:M.phoneNumber,amenities:M.amenities,rating:Number(M.rating),price:Number(M.price),discountedPrice:Number(M.discountedPrice),aboutUs:{description:M.aboutUs.description,img:M.aboutUs.image},imageSections:M.imageSections,faqs:M.faqs,cityLocation:M.cityLocation,addToYourStay:M.addToYourStay,continentalPlan:M.continentalPlan};U?ee({hotelCode:M.hotelCode,hotelData:a},{onSuccess:()=>{i.success("Hotel updated successfully!"),P("/admin/hotels")},onError:e=>i.error(`Error updating hotel: ${e.message}`)}):Z(a,{onSuccess:()=>{i.success("Hotel added successfully!"),P("/admin/hotels")},onError:e=>i.error(`Error adding hotel: ${e.message}`)})},children:["details"===z&&e.jsx(y,{formData:M,handleDetailsChange:e=>{const{name:a,value:t,type:s,checked:n}=e.target,l="payAtHotel"===a?n?"yes":"no":"checkbox"===s?n:t;["title","description","keywords","ogTitle","ogDescription","ogImage","canonicalUrl"].includes(a)?E((e=>({...e,meta:{...e.meta,[a]:"keywords"===a?t.split(",").map((e=>e.trim())):l}}))):E("amount"===a||"period"===a?e=>({...e,continentalPlan:{...e.continentalPlan,rate:{...e.continentalPlan.rate,[a]:"amount"===a?Number(t):t}}}):e=>({...e,[a]:l}))},amenities:T,handleAmenitiesChange:(e,a)=>{E((e=>({...e,amenities:a})))},setFormData:E}),"location"===z&&e.jsx(f,{formData:M,handleHotelAddressChange:e=>{const{value:a}=e.target;E((e=>({...e,location:{...e.location,hotelAddress:a}})))},handleTransportChange:(e,a)=>{E((t=>({...t,location:{...t.location,[e]:a}})))},transportLocations:["metro","airport","railwayStation"],pointsOfInterest:["attractions","restaurants","activities","nightlife"],locationInputs:Q,handleLocationInputChange:(e,a,t)=>{B((s=>({...s,[e]:{...s[e],[a]:t}})))},addLocationItem:e=>{const{name:a}=Q[e];if(!a.trim())return i.error(`Please provide a name for ${e}`);E((t=>({...t,location:{...t.location,[e]:[...t.location[e]||[],{name:a.trim()}]}}))),B((a=>({...a,[e]:{name:""}})))},removeLocationItem:(e,a)=>{E((t=>{const s=[...t.location[e]||[]];return s.splice(a,1),{...t,location:{...t.location,[e]:s}}}))},handleCityLocationChange:e=>{E((a=>({...a,cityLocation:e.target.value})))}}),"headerImages"===z&&e.jsx(b,{formData:M,isUploading:J,handleImagesUpload:async e=>{var a,t;if(!e.length)return i.error("No images selected");X(!0);try{const a=await c(e),t=Array.isArray(a)?a:[a];E((e=>({...e,images:[...e.images,...t[0].imageUrls]}))),i.success("Images uploaded successfully!")}catch(s){i.error(null==(t=null==(a=null==s?void 0:s.response)?void 0:a.data)?void 0:t.message)}X(!1)},handleRemoveImageUrl:e=>{E((a=>({...a,images:a.images.filter((a=>a!==e))})))}}),"hotelImages"===z&&e.jsx(N,{formData:M,isUploading:J,newSectionHeading:W,setNewSectionHeading:G,handleCarouselImagesUpload:async e=>{var a,t;if(!e.length)return i.error("No images selected for carousel");X(!0);try{const a=await c(e),t=Array.isArray(a)?a:[a];E((e=>({...e,imageSections:{...e.imageSections,carouselImages:[...e.imageSections.carouselImages,...t[0].imageUrls]}}))),i.success("Carousel images uploaded successfully!")}catch(s){i.error(null==(t=null==(a=null==s?void 0:s.response)?void 0:a.data)?void 0:t.message)}X(!1)},handleRemoveCarouselImage:e=>{E((a=>({...a,imageSections:{...a.imageSections,carouselImages:a.imageSections.carouselImages.filter((a=>a!==e))}})))},handleAddImageSection:()=>{if(!W.trim())return i.error("Please provide a heading for the image section");E((e=>({...e,imageSections:{...e.imageSections,sections:[...e.imageSections.sections,{heading:W.trim(),images:[]}]}}))),G("")},handleSectionHeadingChange:(e,a)=>{E((t=>{const s=[...t.imageSections.sections];return s[e].heading=a,{...t,imageSections:{...t.imageSections,sections:s}}}))},handleRemoveImageSection:e=>{E((a=>{const t=[...a.imageSections.sections];return t.splice(e,1),{...a,imageSections:{...a.imageSections,sections:t}}}))},handleSectionImagesUpload:async(e,a)=>{var t,s;if(!a.length)return i.error("No images selected for this section");X(!0);try{const t=await c(a),s=Array.isArray(t)?t:[t];E((a=>{const t=[...a.imageSections.sections];return t[e].images=[...t[e].images,...s[0].imageUrls],{...a,imageSections:{...a.imageSections,sections:t}}})),i.success("Section images uploaded successfully!")}catch(n){i.error(null==(s=null==(t=null==n?void 0:n.response)?void 0:t.data)?void 0:s.message)}X(!1)},handleRemoveSectionImageUrl:(e,a)=>{E((t=>{const s=[...t.imageSections.sections];return s[e].images=s[e].images.filter((e=>e!==a)),{...t,imageSections:{...t.imageSections,sections:s}}}))}}),"testimonials"===z&&e.jsx(p,{formData:M,setFormData:E,testimonialInput:V,setTestimonialInput:_,handleAddTestimonial:()=>{const e={...V};E((a=>({...a,testimonials:[...a.testimonials,e]}))),_({name:"",location:"",heading:"",description:""})},handleRemoveTestimonial:e=>{const a=M.testimonials.filter(((a,t)=>t!==e));E((e=>({...e,testimonials:a})))}}),"aboutUs"===z&&e.jsx(x,{formData:M,handleAboutUsChange:e=>{const{name:a,value:t}=e.target;E((e=>({...e,aboutUs:{...e.aboutUs,[a]:t}})))},handleAboutUsFeatureChange:(e,a)=>{E((t=>({...t,aboutUs:{...t.aboutUs,[e]:a}})))}}),"faqs"===z&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"FAQs"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("input",{type:"text",value:L.question,onChange:e=>ae("question",e.target.value),placeholder:"FAQ Question",className:"flex-1 border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"}),e.jsx("input",{type:"text",value:L.answer,onChange:e=>ae("answer",e.target.value),placeholder:"FAQ Answer",className:"flex-1 border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"}),e.jsx("button",{type:"button",onClick:()=>{if(!L.question.trim()||!L.answer.trim())return i.error("Please fill in both question and answer for the FAQ.");E((e=>({...e,faqs:[...e.faqs,{question:L.question.trim(),answer:L.answer.trim()}]}))),R({question:"",answer:""})},className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md transition-colors",children:"Add FAQ"})]}),M.faqs.length>0?M.faqs.map(((a,t)=>e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-center p-4 border rounded-md",children:Y===t?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",name:"question",value:F.question,onChange:te,placeholder:"Edit question",className:"w-full border rounded-md p-2 mb-2 focus:outline-none focus:ring-2 focus:ring-blue-200"}),e.jsx("input",{type:"text",name:"answer",value:F.answer,onChange:te,placeholder:"Edit answer",className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),e.jsxs("div",{className:"flex gap-2 mt-2 sm:mt-0",children:[e.jsx("button",{type:"button",onClick:()=>(e=>{const a=[...M.faqs];a[e]=F,E((e=>({...e,faqs:a}))),$(null)})(t),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-md transition-colors",children:"Save"}),e.jsx("button",{type:"button",onClick:se,className:"bg-gray-500 hover:bg-gray-600 text-white px-3 py-2 rounded-md transition-colors",children:"Cancel"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold",children:a.question}),e.jsx("p",{className:"text-gray-600",children:a.answer})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>(e=>{$(e),O({...M.faqs[e]})})(t),className:"text-blue-500 hover:underline",children:"Edit"}),e.jsx("button",{type:"button",onClick:()=>(e=>{E((a=>{const t=[...a.faqs];return t.splice(e,1),{...a,faqs:t}}))})(t),className:"text-red-500 hover:underline",children:"Remove"})]})]})},t))):e.jsx("p",{className:"text-gray-600 italic",children:"No FAQs added yet."})]})]}),"addToYourStay"===z&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Add To Your Stay"}),M.addToYourStay.length>0&&M.addToYourStay.map(((a,t)=>{var s,n;return e.jsxs("div",{className:"border p-4 rounded-md space-y-2",children:[e.jsx("input",{type:"text",value:a.heading,onChange:e=>{const a=[...M.addToYourStay];a[t].heading=e.target.value,E({...M,addToYourStay:a})},placeholder:"Heading",className:"w-full border rounded-md p-2"}),e.jsx("textarea",{value:a.description,onChange:e=>{const a=[...M.addToYourStay];a[t].description=e.target.value,E({...M,addToYourStay:a})},placeholder:"Description",className:"w-full border rounded-md p-2"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{type:"number",value:(null==(s=a.rate)?void 0:s.amount)||0,onChange:e=>{const a=[...M.addToYourStay];a[t].rate={...a[t].rate,amount:Number(e.target.value)},E({...M,addToYourStay:a})},placeholder:"Rate Amount",className:"w-full border rounded-md p-2"}),e.jsxs("select",{value:(null==(n=a.rate)?void 0:n.period)||"",onChange:e=>{const a=[...M.addToYourStay];a[t].rate={...a[t].rate,period:e.target.value},E({...M,addToYourStay:a})},className:"w-full border rounded-md p-2",children:[e.jsx("option",{value:"",children:"Default"}),e.jsx("option",{value:"per night",children:"Per Night"}),e.jsx("option",{value:"per day",children:"Per Day"})]})]}),e.jsx("button",{type:"button",onClick:()=>{const e=M.addToYourStay.filter(((e,a)=>a!==t));E({...M,addToYourStay:e})},className:"text-red-500 hover:underline",children:"Remove Entry"})]},t)})),e.jsx("button",{type:"button",onClick:()=>{E({...M,addToYourStay:[...M.addToYourStay,{heading:"",description:"",rate:{amount:0,period:"per night"}}]})},className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md transition-colors",children:"Add New Entry"})]}),e.jsx("div",{className:"mt-8",children:e.jsx("button",{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 rounded-md transition-colors",children:U?"Update Hotel":"Add Hotel"})})]})]})})};export{w as H};
