var ut=Object.defineProperty,mt=Object.defineProperties;var gt=Object.getOwnPropertyDescriptors;var we=Object.getOwnPropertySymbols;var Ye=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable;var Qe=(s,i,t)=>i in s?ut(s,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[i]=t,u=(s,i)=>{for(var t in i||(i={}))Ye.call(i,t)&&Qe(s,t,i[t]);if(we)for(var t of we(i))Ke.call(i,t)&&Qe(s,t,i[t]);return s},p=(s,i)=>mt(s,gt(i));var de=(s,i)=>{var t={};for(var d in s)Ye.call(s,d)&&i.indexOf(d)<0&&(t[d]=s[d]);if(s!=null&&we)for(var d of we(s))i.indexOf(d)<0&&Ke.call(s,d)&&(t[d]=s[d]);return t};var X=(s,i,t)=>new Promise((d,y)=>{var D=N=>{try{A(t.next(N))}catch(C){y(C)}},x=N=>{try{A(t.throw(N))}catch(C){y(C)}},A=N=>N.done?d(N.value):Promise.resolve(N.value).then(D,x);A((t=t.apply(s,i)).next())});import{j as e,x as ce,P as De,y as Ie,r as l,X as He,S as ye,z as ht,A as pt,D as xt,_ as J,E as bt,F as ft}from"./react-vendor-CU6lFo1N.js";import{c as Xe}from"./index-DTQi_YP9.js";import{u as jt,a as vt,b as yt,c as Ct,d as St,e as wt,f as Nt,g as kt,h as Tt,i as Bt,j as Et}from"./use-Career-Page-DbTZ7byX.js";import{u as be}from"./useUpdatePagesHook-Dhdz4rlW.js";import{J as Pt,O as At,Q as re,U as le,q as Y,X as ge,C as rt,Z as oe,aA as lt,aB as Ae,ad as F,_ as se,D as _,o as L,a8 as Z,ao as ue,at as ve,af as Dt,a9 as qe,aa as $e,ab as Ge,ac as Oe,ai as It,t as Wt,a3 as ot,a4 as pe,a7 as ie,ay as fe,an as xe,aC as Ft,aD as Ht,aE as Ze,p as We,v as dt,w as ze,z as et,E as Ot}from"./ui-vendor-BNgsC25r.js";import{I as me}from"./ImageUpload-B1EwwcLz.js";import{u as _t,a as Mt,b as Lt,c as Ut,d as Rt,e as zt,f as qt,g as $t}from"./useDayUseRoomHook-DSOLsE3n.js";import{g as Gt,u as Jt,r as Vt}from"./dev-owners-stats-BnH4F9Fm.js";import{u as Qt,a as Yt,b as Kt,c as Xt,d as Zt,e as es,f as ts}from"./useEventPageHook-CNKFb0tT.js";import{u as ss,a as as,b as ns}from"./useFaqsHooks-DnuVru6m.js";import{uploadImagesAPIV2 as ct}from"./useHotelHook2-4z4wAkLq.js";import{M as is}from"./MultipleImageUpload-WNylHf9L.js";import{u as rs,a as ls,b as os,c as ds,d as cs,e as us}from"./useLoyaltyProgramHook-_BmptM5B.js";import{u as ms,a as gs,b as hs,c as ps}from"./usePartnersHooks-Kf7y4fT3.js";import{u as xs,a as bs,b as fs,c as js,d as vs}from"./useTestimonialHook-yjhinMG0.js";import{u as ys,a as Cs}from"./useTourAndTravel-BCEcUMEC.js";import{u as Ss,a as ws,b as Ns,c as ks,d as Ts,e as Bs}from"./useTravelAgentPage-D9PhvVvY.js";import"./animation-vendor-DE7fCS50.js";import"./vendor-DnuN4cIi.js";import"./query-vendor-B8s5OfyV.js";import"./swiper-vendor-CoL_RVtK.js";import"./date-vendor-BpmxrJb6.js";import"./Loader-XhNNeGJs.js";const Es=(s,i=500)=>{const t=l.useRef(null),d=l.useCallback((...y)=>{t.current&&clearTimeout(t.current),t.current=setTimeout(()=>{s(...y)},i)},[s,i]);return l.useEffect(()=>()=>{t.current&&clearTimeout(t.current)},[]),d},Ps=t=>{var d=t,{label:s}=d,i=de(d,["label"]);return e.jsxs("label",{className:"block group",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:s}),e.jsx("input",p(u({},i),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 ${i.className||""}`}))]})},As=t=>{var d=t,{label:s}=d,i=de(d,["label"]);return e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:s}),e.jsx("textarea",p(u({},i),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 min-h-[90px] resize-none ${i.className||""}`}))]})},Fe=({title:s,cards:i,onAdd:t,adding:d,onUpdate:y,onDelete:D,emptyMessage:x,fields:A=[],onBulk:N})=>{const C=Es((w,E,B)=>{y(w,{[E]:B})}),S=(w,E)=>{var k;const B={label:E.label,value:(k=w[E.name])!=null?k:"",onChange:H=>C(w._id,E.name,H.target.value)};return E.type==="textarea"?e.jsx(As,u({},B),E.name):e.jsx(Ps,u({type:E.type||"text"},B),E.name)};return e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gradient-to-br from-white to-gray-50 p-6 shadow-sm hover:shadow-md transition-shadow duration-300",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:s}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:t,disabled:d,className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-emerald-600 to-emerald-700 px-4 py-2 text-sm font-medium text-white shadow-md hover:shadow-lg disabled:opacity-60",children:d?e.jsxs(e.Fragment,{children:[e.jsx(ce,{size:16,className:"animate-spin"}),"Adding…"]}):e.jsxs(e.Fragment,{children:[e.jsx(De,{size:16}),"Add Card"]})})})]}),e.jsx("ul",{className:"space-y-3",children:i.length>0?i.map(w=>e.jsxs("li",{className:"rounded-lg border border-gray-200 bg-white p-4 hover:shadow-md transition-shadow duration-200",children:[e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:A.map(E=>S(w,E))}),e.jsx("div",{className:"mt-3 flex justify-end",children:e.jsxs("button",{onClick:()=>D(w._id),className:"inline-flex items-center gap-2 rounded-lg bg-red-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-red-700",children:[e.jsx(Ie,{size:14}),"Delete"]})})]},w._id)):e.jsx("li",{className:"rounded-lg border border-dashed border-gray-300 py-8 text-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:x})})})]})},tt=({open:s,onClose:i,children:t,title:d})=>s?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:i}),e.jsxs("div",{className:"relative z-10 w-full max-w-5xl max-h-[90vh] overflow-y-auto rounded-2xl bg-white shadow-2xl animate-in fade-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"sticky top-0 z-20 flex items-center justify-between gap-4 border-b border-gray-200 bg-gradient-to-r from-slate-50 to-white px-6 py-4",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:d}),e.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100",onClick:i,children:e.jsx(He,{size:20,className:"text-gray-600"})})]}),e.jsx("div",{className:"p-6",children:t})]})]}):null,Ce=t=>{var d=t,{label:s}=d,i=de(d,["label"]);return e.jsxs("label",{className:"block group",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:s}),e.jsx("input",p(u({},i),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 ${i.className||""}`}))]})},Se=t=>{var d=t,{label:s}=d,i=de(d,["label"]);return e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:s}),e.jsx("textarea",p(u({},i),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 min-h-[90px] resize-none ${i.className||""}`}))]})},Ne=({title:s,children:i,onSave:t,saving:d,icon:y})=>e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gradient-to-br from-white to-gray-50 p-6 shadow-sm hover:shadow-md transition-shadow duration-300",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[y&&e.jsx(y,{size:24,className:"text-blue-600"}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:s})]}),t&&e.jsx("button",{onClick:t,disabled:d,className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-2 text-sm font-medium text-white shadow-md hover:shadow-lg hover:from-blue-700 hover:to-blue-800 disabled:opacity-60",children:d?e.jsxs(e.Fragment,{children:[e.jsx(ce,{size:16,className:"animate-spin"}),"Saving…"]}):e.jsxs(e.Fragment,{children:[e.jsx(ye,{size:16}),"Save"]})})]}),e.jsx("div",{className:"space-y-4",children:i})]}),ke=()=>e.jsx("div",{className:"my-8 h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent"}),Ds=()=>{const[s,i]=l.useState(!1),{data:t,isFetching:d}=jt({enabled:s}),y=vt(),D=yt(),x=Ct(),A=St(),N=wt(),C=Nt(),S=kt(),w=Tt(),E=Bt(),B=Et(),[k,H]=l.useState({heading:"",description:""}),[m,o]=l.useState({heading:"",description:""}),[h,c]=l.useState({heading:"",description:""}),[g,n]=l.useState({heading:"",description:"",email:""}),b=l.useMemo(()=>{var a,r;return(r=(a=t==null?void 0:t.benefits)==null?void 0:a.cards)!=null?r:[]},[t]),j=l.useMemo(()=>{var a;return(a=t==null?void 0:t.simpleCards)!=null?a:[]},[t]);l.useEffect(()=>{var a,r,f,v,I,O,z,q,te,V,T,P,U,Q,ae,he,Je,Ve;t&&(H({heading:(r=(a=t==null?void 0:t.hero)==null?void 0:a.heading)!=null?r:"",description:(v=(f=t==null?void 0:t.hero)==null?void 0:f.description)!=null?v:""}),o({heading:(O=(I=t==null?void 0:t.benefits)==null?void 0:I.heading)!=null?O:"",description:(q=(z=t==null?void 0:t.benefits)==null?void 0:z.description)!=null?q:""}),c({heading:(V=(te=t==null?void 0:t.joinTeam)==null?void 0:te.heading)!=null?V:"",description:(P=(T=t==null?void 0:t.joinTeam)==null?void 0:T.description)!=null?P:""}),n({heading:(Q=(U=t==null?void 0:t.readyToJoin)==null?void 0:U.heading)!=null?Q:"",description:(he=(ae=t==null?void 0:t.readyToJoin)==null?void 0:ae.description)!=null?he:"",email:(Ve=(Je=t==null?void 0:t.readyToJoin)==null?void 0:Je.email)!=null?Ve:""}))},[t]);const W=a=>X(void 0,null,function*(){const r=a.map(f=>f.trim()).filter(Boolean).map(f=>{const[v,...I]=f.split(":");return I.length?{heading:v.trim(),description:I.join(":").trim()}:{heading:"Item",description:f}});try{yield Xe.post("/api/careers/benefit-cards/bulk",{cards:r})}catch(f){yield Promise.all(r.map(v=>N.mutateAsync(v)))}}),M=a=>X(void 0,null,function*(){const r=a.map(f=>f.trim()).filter(Boolean).map(f=>{const[v,...I]=f.split(":");return I.length?{title:v.trim(),description:I.join(":").trim()}:{title:f.split(" ").slice(0,3).join(" "),description:f}});try{yield Xe.post("/api/careers/simple-cards/bulk",{cards:r})}catch(f){yield Promise.all(r.map(v=>w.mutateAsync(v)))}}),[R,$]=l.useState(null),[G,K]=l.useState(""),ee=()=>X(void 0,null,function*(){const a=G.split(`
`);R==="benefit"&&(yield W(a)),R==="simple"&&(yield M(a)),K(""),$(null)});return e.jsxs("div",{children:[e.jsx("button",{onClick:()=>i(!0),className:"myGlobalButton",children:"Manage Career Page"}),e.jsxs(tt,{open:s,onClose:()=>i(!1),title:"Manage Careers Page",children:[d&&e.jsxs("div",{className:"mb-6 rounded-lg border border-amber-200 bg-gradient-to-r from-amber-50 to-orange-50 p-4 flex items-center gap-3",children:[e.jsx(ce,{size:18,className:"text-amber-600 animate-spin"}),e.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Loading latest data…"})]}),e.jsx(Ne,{title:"Hero Section",onSave:()=>y.mutate(k),saving:y.isPending,children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsx(Ce,{label:"Heading",value:k.heading,onChange:a=>H(r=>p(u({},r),{heading:a.target.value}))}),e.jsx(Se,{label:"Description",value:k.description,onChange:a=>H(r=>p(u({},r),{description:a.target.value}))})]})}),e.jsx(ke,{}),e.jsx(Ne,{title:"Benefits Section Header",onSave:()=>D.mutate(m),saving:D.isPending,children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsx(Ce,{label:"Heading",value:m.heading,onChange:a=>o(r=>p(u({},r),{heading:a.target.value}))}),e.jsx(Se,{label:"Description",value:m.description,onChange:a=>o(r=>p(u({},r),{description:a.target.value}))})]})}),e.jsx(Fe,{title:"Benefit Cards",cards:b,onAdd:()=>N.mutate({heading:"New Benefit",description:"Describe the benefit…"}),adding:N.isPending,onUpdate:(a,r)=>C.mutate({cardId:a,updateData:r}),onDelete:a=>S.mutate(a),emptyMessage:"No benefit cards yet. Create one to get started!",fields:[{name:"heading",label:"Card Heading",type:"text"},{name:"description",label:"Card Description",type:"textarea"}]}),e.jsx(ke,{}),e.jsx(Ne,{title:"Join Team Section",onSave:()=>x.mutate(h),saving:x.isPending,children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsx(Ce,{label:"Heading",value:h.heading,onChange:a=>c(r=>p(u({},r),{heading:a.target.value}))}),e.jsx(Se,{label:"Description",value:h.description,onChange:a=>c(r=>p(u({},r),{description:a.target.value}))})]})}),e.jsx(ke,{}),e.jsx(Ne,{title:"Ready to Join Section",onSave:()=>A.mutate(g),saving:A.isPending,children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsx(Ce,{label:"Heading",value:g.heading,onChange:a=>n(r=>p(u({},r),{heading:a.target.value}))}),e.jsx(Se,{label:"Description",value:g.description,onChange:a=>n(r=>p(u({},r),{description:a.target.value}))}),e.jsx(Ce,{label:"Contact Email",type:"email",value:g.email,onChange:a=>n(r=>p(u({},r),{email:a.target.value}))})]})}),e.jsx(ke,{}),e.jsx(Fe,{title:"Bottom Simple Cards",cards:j,onAdd:()=>w.mutate({title:"New Card",description:"New point…"}),adding:w.isPending,onUpdate:(a,r)=>E.mutate({cardId:a,updateData:r}),onDelete:a=>B.mutate(a),emptyMessage:"No simple cards yet. Add highlights about your company!",fields:[{name:"title",label:"Title",type:"text"},{name:"description",label:"Description",type:"textarea"}]})]}),e.jsx(tt,{open:!!R,onClose:()=>$(null),title:R==="benefit"?"Bulk Add Benefit Cards":"Bulk Add Simple Cards",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Enter one item per line.",e.jsx("br",{}),e.jsx("span",{className:"font-medium",children:"Benefit:"})," ",e.jsx("code",{children:"Heading: Description"})," or just ",e.jsx("code",{children:"Description"}),e.jsx("br",{}),e.jsx("span",{className:"font-medium",children:"Simple:"})," ",e.jsx("code",{children:"Title: Description"})," or just ",e.jsx("code",{children:"Description"})]}),e.jsx(Se,{label:"Items",placeholder:`Integrity: We always do what's right
Respect for All: We respect everyone
Excellence: We serve with heart and honesty`,value:G,onChange:a=>K(a.target.value)}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{className:"rounded-lg px-4 py-2 bg-gray-100 hover:bg-gray-200",onClick:()=>$(null),children:"Cancel"}),e.jsx("button",{className:"rounded-lg px-4 py-2 bg-emerald-600 text-white hover:bg-emerald-700",onClick:ee,disabled:!G.trim(),children:"Add Items"})]})]})})]})},Is=()=>{var $,G,K,ee,a,r;const{ContactUsDetail:s,updateContactUs:i}=be(),[t,d]=l.useState(!1),[y,D]=l.useState((s==null?void 0:s.phoneNumber)||""),[x,A]=l.useState((s==null?void 0:s.emailId)||""),[N,C]=l.useState((($=s==null?void 0:s.OtherEnquieirs)==null?void 0:$.reservations)||""),[S,w]=l.useState(((G=s==null?void 0:s.OtherEnquieirs)==null?void 0:G.corporateSales)||""),[E,B]=l.useState(((K=s==null?void 0:s.OtherEnquieirs)==null?void 0:K.traveAgentSales)||""),[k,H]=l.useState(((ee=s==null?void 0:s.OtherEnquieirs)==null?void 0:ee.marketing)||""),[m,o]=l.useState(((a=s==null?void 0:s.OtherEnquieirs)==null?void 0:a.careers)||""),[h,c]=l.useState(((r=s==null?void 0:s.OtherEnquieirs)==null?void 0:r.hotelDevelopment)||""),[g,n]=l.useState(""),b=Pt(),j=At(b.breakpoints.down("sm")),W=()=>{var f,v,I,O,z,q;D((s==null?void 0:s.phoneNumber)||""),A((s==null?void 0:s.emailId)||""),C(((f=s==null?void 0:s.OtherEnquieirs)==null?void 0:f.reservations)||""),w(((v=s==null?void 0:s.OtherEnquieirs)==null?void 0:v.corporateSales)||""),B(((I=s==null?void 0:s.OtherEnquieirs)==null?void 0:I.traveAgentSales)||""),H(((O=s==null?void 0:s.OtherEnquieirs)==null?void 0:O.marketing)||""),o(((z=s==null?void 0:s.OtherEnquieirs)==null?void 0:z.careers)||""),c(((q=s==null?void 0:s.OtherEnquieirs)==null?void 0:q.hotelDevelopment)||""),d(!0)},M=()=>{d(!1),n("")},R=()=>{if(!y||!x){n("Please fill in all required fields.");return}i({phoneNumber:y,emailId:x,OtherEnquieirs:{reservations:N,corporateSales:S,traveAgentSales:E,marketing:k,careers:m,hotelDevelopment:h}}),d(!1)};return e.jsxs("div",{children:[e.jsx("div",{className:"myGlobalButton",onClick:W,children:"Contact Us Page"}),e.jsxs(re,{open:t,onClose:M,fullScreen:j,maxWidth:"sm",fullWidth:!0,children:[e.jsxs(le,{sx:{m:0,p:2},children:[e.jsx(Y,{variant:"h6",children:"Contact Details"}),e.jsx(ge,{"aria-label":"close",onClick:M,sx:{position:"absolute",right:8,top:8,color:f=>f.palette.grey[500]},children:e.jsx(rt,{})})]}),e.jsxs(oe,{dividers:!0,children:[g&&e.jsx(lt,{severity:"error",sx:{mb:2},children:g}),e.jsxs(Ae,{spacing:2,children:[e.jsx(F,{label:"Phone Number",value:y,onChange:f=>D(f.target.value),fullWidth:!0,required:!0}),e.jsx(F,{label:"Email",value:x,onChange:f=>A(f.target.value),fullWidth:!0,required:!0,type:"email",helperText:"Enter a valid email address (e.g., example@example.com)"}),e.jsx("h1",{className:"text-desktop/h4 py-4",children:"  Other Enquiries"}),e.jsx(F,{label:"Reservations",value:N,onChange:f=>C(f.target.value),fullWidth:!0}),e.jsx(F,{label:"Corporate Sales",value:S,onChange:f=>w(f.target.value),fullWidth:!0}),e.jsx(F,{label:"Travel Agent Sales",value:E,onChange:f=>B(f.target.value),fullWidth:!0}),e.jsx(F,{label:"Marketing",value:k,onChange:f=>H(f.target.value),fullWidth:!0}),e.jsx(F,{label:"Careers",value:m,onChange:f=>o(f.target.value),fullWidth:!0}),e.jsx(F,{label:"Hotel Development",value:h,onChange:f=>c(f.target.value),fullWidth:!0})]})]}),e.jsxs(se,{sx:{p:2},children:[e.jsx(_,{onClick:M,color:"inherit",children:"Cancel"}),e.jsx(_,{onClick:R,variant:"contained",color:"primary",children:"Update"})]})]})]})},Ws=()=>{const{CoorporateBooking:s,updtateCoorporateBooking:i}=be(),[t,d]=l.useState({CoorporateBookingHeadContent:{title:"",description:"",image:""},CoorporateBookingDescription:{title:"",description:"",image:""},BusinessPlatformSection:[],BenefitsSection:[]}),[y,D]=l.useState(!1),[x,A]=l.useState(!1),[N,C]=l.useState(!1);l.useEffect(()=>{var o,h,c,g,n,b;s&&d({CoorporateBookingHeadContent:{title:((o=s.CoorporateBookingHeadContent)==null?void 0:o.title)||"",description:((h=s.CoorporateBookingHeadContent)==null?void 0:h.description)||"",image:((c=s.CoorporateBookingHeadContent)==null?void 0:c.image)||""},CoorporateBookingDescription:{title:((g=s.CoorporateBookingDescription)==null?void 0:g.title)||"",description:((n=s.CoorporateBookingDescription)==null?void 0:n.description)||"",image:((b=s.CoorporateBookingDescription)==null?void 0:b.image)||""},BusinessPlatformSection:s.BusinessPlatformSection||[],BenefitsSection:s.BenefitsSection||[]})},[s]);const S=(o,h,c)=>{d(g=>p(u({},g),{[o]:p(u({},g[o]),{[h]:c})}))},w=(o,h)=>S("CoorporateBookingHeadContent",o,h),E=(o,h)=>S("CoorporateBookingDescription",o,h),B=(o,h,c)=>{d(g=>{const n=[...g.BenefitsSection];return n[o]=p(u({},n[o]),{[h]:c}),p(u({},g),{BenefitsSection:n})})},k=()=>{d(o=>o.BenefitsSection.length>=6?o:p(u({},o),{BenefitsSection:[...o.BenefitsSection,{title:"",description:""}]}))},H=o=>{d(h=>p(u({},h),{BenefitsSection:h.BenefitsSection.filter((c,g)=>g!==o)}))},m=o=>{o.preventDefault(),i(t),C(!1)};return e.jsxs("div",{children:[e.jsx("div",{className:"myGlobalButton",onClick:()=>C(!0),children:"Corporate Booking Page"}),e.jsxs(re,{open:N,onClose:()=>C(!1),fullWidth:!0,maxWidth:"md",children:[e.jsx(le,{children:"Corporate Booking"}),e.jsxs("form",{onSubmit:m,children:[e.jsxs(oe,{children:[e.jsxs(L,{sx:{mb:4},children:[e.jsx(Y,{variant:"h5",gutterBottom:!0,children:"Head Content"}),e.jsxs(Z,{container:!0,spacing:2,direction:"column",children:[e.jsx(Z,{item:!0,children:e.jsx(F,{label:"Title",fullWidth:!0,value:t.CoorporateBookingHeadContent.title,onChange:o=>S("CoorporateBookingHeadContent","title",o.target.value)})}),e.jsxs(Z,{item:!0,children:[e.jsx(me,{feature:t.CoorporateBookingHeadContent,handleFeatureChange:w,index:0,setImageUpload:D}),t.CoorporateBookingHeadContent.image&&e.jsx(L,{mt:1,children:e.jsx("img",{src:t.CoorporateBookingHeadContent.image,alt:"Preview",style:{width:50,height:50,objectFit:"cover",borderRadius:4}})})]}),e.jsx(Z,{item:!0,children:e.jsx(F,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:t.CoorporateBookingHeadContent.description,onChange:o=>S("CoorporateBookingHeadContent","description",o.target.value)})})]})]}),e.jsxs(L,{sx:{mb:4},children:[e.jsx(Y,{variant:"h5",gutterBottom:!0,children:"Description Content"}),e.jsxs(Z,{container:!0,spacing:2,direction:"column",children:[e.jsx(Z,{item:!0,children:e.jsx(F,{label:"Title",fullWidth:!0,value:t.CoorporateBookingDescription.title,onChange:o=>S("CoorporateBookingDescription","title",o.target.value)})}),e.jsxs(Z,{item:!0,children:[e.jsx(me,{feature:t.CoorporateBookingDescription,handleFeatureChange:E,index:1,setImageUpload:A}),t.CoorporateBookingDescription.image&&e.jsx(L,{mt:1,children:e.jsx("img",{src:t.CoorporateBookingDescription.image,alt:"Preview",style:{width:50,height:50,objectFit:"cover",borderRadius:4}})})]}),e.jsx(Z,{item:!0,children:e.jsx(F,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:t.CoorporateBookingDescription.description,onChange:o=>S("CoorporateBookingDescription","description",o.target.value)})})]})]}),e.jsxs(L,{sx:{mb:2},children:[e.jsx(Y,{variant:"h5",gutterBottom:!0,children:"Benefits Section"}),t.BenefitsSection.map((o,h)=>e.jsx(L,{sx:{mb:2,border:"1px solid #ccc",borderRadius:1,p:2},children:e.jsxs(Z,{container:!0,spacing:2,direction:"column",children:[e.jsx(Z,{item:!0,children:e.jsx(F,{label:"Title",fullWidth:!0,value:o.title,onChange:c=>B(h,"title",c.target.value)})}),e.jsx(Z,{item:!0,children:e.jsx(F,{label:"Description",fullWidth:!0,multiline:!0,minRows:2,value:o.description,onChange:c=>B(h,"description",c.target.value)})}),e.jsx(Z,{item:!0,children:e.jsx(ge,{onClick:()=>H(h),color:"error",children:e.jsx(ue,{})})})]})},h)),e.jsx(_,{variant:"outlined",onClick:k,disabled:t.BenefitsSection.length>=6,children:"Add Benefit"})]})]}),e.jsx(se,{children:y||x?e.jsx(ve,{}):e.jsxs(e.Fragment,{children:[e.jsx(_,{onClick:()=>C(!1),children:"Cancel"}),e.jsx(_,{type:"submit",variant:"contained",color:"primary",children:"Save Changes"})]})})]})]})]})},Fs=({open:s,onClose:i,title:t,children:d})=>s?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:i}),e.jsxs("div",{className:"relative z-10 w-full max-w-5xl max-h-[92vh] overflow-hidden rounded-2xl bg-white shadow-2xl animate-in fade-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"sticky top-0 z-20 flex items-center justify-between gap-4 border-b border-gray-200 bg-gradient-to-r from-slate-50 to-white px-6 py-4",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:t}),e.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100",onClick:i,children:e.jsx(He,{size:20,className:"text-gray-600"})})]}),e.jsx("div",{className:"overflow-y-auto p-6 max-h-[calc(92vh-60px)]",children:d})]})]}):null,_e=t=>{var d=t,{label:s}=d,i=de(d,["label"]);return e.jsxs("label",{className:"block group",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:s}),e.jsx("input",p(u({},i),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 ${i.className||""}`}))]})},Me=t=>{var d=t,{label:s}=d,i=de(d,["label"]);return e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:s}),e.jsx("textarea",p(u({},i),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 min-h-[90px] resize-none ${i.className||""}`}))]})},Le=({title:s,children:i,onSave:t,saving:d,actions:y})=>e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gradient-to-br from-white to-gray-50 p-6 shadow-sm hover:shadow-md transition-shadow duration-300",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:s}),e.jsxs("div",{className:"flex items-center gap-2",children:[y,t&&e.jsx("button",{onClick:t,disabled:d,className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-2 text-sm font-medium text-white shadow-md hover:shadow-lg disabled:opacity-60",children:d?e.jsxs(e.Fragment,{children:[e.jsx(ce,{size:16,className:"animate-spin"}),"Saving…"]}):e.jsxs(e.Fragment,{children:[e.jsx(ye,{size:16}),"Save"]})})]})]}),e.jsx("div",{className:"space-y-4",children:i})]}),Te=()=>e.jsx("div",{className:"my-8 h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent"}),Hs=()=>{const[s,i]=l.useState(!1),{data:t,isFetching:d}=_t({enabled:s}),y=Mt(),D=Lt(),x=Ut(),A=Rt(),N=zt(),C=qt(),S=$t(),[w,E]=l.useState({heading:"",description:""}),[B,k]=l.useState({heading:"",description:""}),H=l.useMemo(()=>{var g;return(g=t==null?void 0:t.benefits)!=null?g:[]},[t]),[m,o]=l.useState("");l.useEffect(()=>{var g,n,b,j,W,M,R,$,G,K;t&&(E({heading:(n=(g=t==null?void 0:t.hero)==null?void 0:g.heading)!=null?n:"",description:(j=(b=t==null?void 0:t.hero)==null?void 0:b.description)!=null?j:""}),k({heading:(M=(W=t==null?void 0:t.descCard)==null?void 0:W.heading)!=null?M:"",description:($=(R=t==null?void 0:t.descCard)==null?void 0:R.description)!=null?$:""}),o(((K=(G=t==null?void 0:t.tandc)==null?void 0:G.points)!=null?K:[]).join(`
`)))},[t]);const h=()=>{const g=m.split(`
`).map(n=>n.trim()).filter(Boolean);C.mutate({points:g})},c=()=>{const g=m.split(`
`).map(n=>n.trim()).filter(Boolean);S.mutate({hero:w,descCard:B,tandc:{points:g}})};return e.jsxs("div",{children:[e.jsx("button",{className:"myGlobalButton",onClick:()=>i(!0),children:"Manage Day Use Rooms"}),e.jsxs(Fs,{open:s,onClose:()=>i(!1),title:"Manage Day-Use Rooms Content",children:[d&&e.jsxs("div",{className:"mb-6 rounded-lg border border-amber-200 bg-gradient-to-r from-amber-50 to-orange-50 p-4 flex items-center gap-3",children:[e.jsx(ce,{size:18,className:"text-amber-600 animate-spin"}),e.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Loading latest data…"})]}),e.jsx(Le,{title:"Hero",onSave:()=>y.mutate(w),saving:y.isPending,children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsx(_e,{label:"Heading",value:w.heading,onChange:g=>E(n=>p(u({},n),{heading:g.target.value}))}),e.jsx(Me,{label:"Description",value:w.description,onChange:g=>E(n=>p(u({},n),{description:g.target.value}))})]})}),e.jsx(Te,{}),e.jsx(Le,{title:"Description Card",onSave:()=>D.mutate(B),saving:D.isPending,children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsx(_e,{label:"Heading",value:B.heading,onChange:g=>k(n=>p(u({},n),{heading:g.target.value}))}),e.jsx(Me,{label:"Description",value:B.description,onChange:g=>k(n=>p(u({},n),{description:g.target.value}))})]})}),e.jsx(Te,{}),e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gradient-to-br from-white to-gray-50 p-6 shadow-sm hover:shadow-md transition-shadow duration-300",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Benefits"}),e.jsx("button",{onClick:()=>x.mutate({title:"New benefit"}),disabled:x.isPending,className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-emerald-600 to-emerald-700 px-4 py-2 text-sm font-medium text-white shadow-md hover:shadow-lg disabled:opacity-60",children:x.isPending?e.jsxs(e.Fragment,{children:[e.jsx(ce,{size:16,className:"animate-spin"}),"Adding…"]}):e.jsxs(e.Fragment,{children:[e.jsx(De,{size:16}),"Add Benefit"]})})]}),e.jsx("ul",{className:"space-y-3",children:H.length>0?H.map(g=>e.jsx("li",{className:"rounded-lg border border-gray-200 bg-white p-4 hover:shadow-md transition-shadow duration-200",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-[1fr_auto]",children:[e.jsx(_e,{label:"Title",value:g.title,onChange:n=>A.mutate({benefitId:g._id,title:n.target.value})}),e.jsx("div",{className:"flex items-end justify-end",children:e.jsxs("button",{onClick:()=>N.mutate(g._id),className:"inline-flex items-center gap-2 rounded-lg bg-red-600 px-3 py-2 text-sm font-medium text-white hover:bg-red-700",children:[e.jsx(Ie,{size:14}),"Delete"]})})]})},g._id)):e.jsx("li",{className:"rounded-lg border border-dashed border-gray-300 py-8 text-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"No benefits yet. Add your first one!"})})})]}),e.jsx(Te,{}),e.jsxs(Le,{title:"Terms & Conditions (Points)",actions:e.jsxs("button",{onClick:()=>o(g=>(g?g+`
`:"")+"• Example: Valid govt. ID required at check-in."),className:"inline-flex items-center gap-2 rounded-lg border border-emerald-200 px-4 py-2 text-sm font-medium text-emerald-700 hover:bg-emerald-50",children:[e.jsx(ht,{size:16}),"Add Example Line"]}),onSave:h,saving:C.isPending,children:[e.jsx(Me,{label:"Points (one per line)",placeholder:`Valid government ID required at check-in.
Standard check-in after 8 AM; last check-out by 8 PM.
Rates vary by duration and availability.`,value:m,onChange:g=>o(g.target.value),className:"min-h-[140px]"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Tip: Write each point on a new line. Bullets will be rendered on the frontend."})]}),e.jsx(Te,{}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("button",{onClick:c,disabled:S.isPending,className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 px-5 py-2.5 text-sm font-semibold text-white shadow-md hover:shadow-lg disabled:opacity-60",children:S.isPending?e.jsxs(e.Fragment,{children:[e.jsx(ce,{size:16,className:"animate-spin"}),"Saving All…"]}):e.jsxs(e.Fragment,{children:[e.jsx(ye,{size:16}),"Save All Changes"]})})})]})]})},Os=()=>{const[s,i]=l.useState(!1);return l.useEffect(()=>{if(!s)return;const t=d=>d.key==="Escape"&&i(!1);return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[s]),e.jsxs("div",{children:[e.jsx("button",{className:"myGlobalButton ",onClick:()=>i(!0),children:"Manage Dev & Owners Stats"}),s&&e.jsx(_s,{onClose:()=>i(!1)})]})},_s=({onClose:s})=>{const[i,t]=l.useState({approvedCount:0,rejectedCount:0,revivedCount:0}),[d,y]=l.useState(!0),[D,x]=l.useState(!1),[A,N]=l.useState(""),[C,S]=l.useState(!1),w=l.useCallback(()=>X(void 0,null,function*(){var k,H,m;try{y(!0);const o=yield Gt();t({approvedCount:(k=o==null?void 0:o.approvedCount)!=null?k:0,rejectedCount:(H=o==null?void 0:o.rejectedCount)!=null?H:0,revivedCount:(m=o==null?void 0:o.revivedCount)!=null?m:0}),N("")}catch(o){N((o==null?void 0:o.message)||"Failed to load stats")}finally{y(!1)}}),[]);l.useEffect(()=>{w()},[w]);const E=()=>X(void 0,null,function*(){try{x(!0),S(!1);const k={approvedCount:Number(i.approvedCount)||0,rejectedCount:Number(i.rejectedCount)||0,revivedCount:Number(i.revivedCount)||0},H=yield Jt(k);t(H),N(""),S(!0),setTimeout(()=>S(!1),1200)}catch(k){N((k==null?void 0:k.message)||"Save failed")}finally{x(!1)}}),B=()=>X(void 0,null,function*(){if(window.confirm("Reset all counts to 0?"))try{const k=yield Vt();t(k),N("")}catch(k){N((k==null?void 0:k.message)||"Reset failed")}});return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:s}),e.jsxs("div",{className:"relative w-full max-w-2xl rounded-2xl bg-white shadow-2xl ring-1 ring-black/5",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"Dev & Owners Stats"}),e.jsx("button",{className:"px-3 py-1.5 rounded-md bg-gray-100 hover:bg-gray-200 active:scale-[0.98]",onClick:s,"aria-label":"Close",children:"Close"})]}),e.jsxs("div",{className:"px-6 py-5",children:[A&&e.jsx("div",{className:"mb-4 rounded-md border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:A}),d?e.jsx(Ms,{}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsx(Ue,{label:"Approved",value:i.approvedCount,tone:"emerald",onChange:k=>t(H=>p(u({},H),{approvedCount:k}))}),e.jsx(Ue,{label:"Rejected",value:i.rejectedCount,tone:"amber",onChange:k=>t(H=>p(u({},H),{rejectedCount:k}))}),e.jsx(Ue,{label:"Revived",value:i.revivedCount,tone:"indigo",onChange:k=>t(H=>p(u({},H),{revivedCount:k}))})]}),e.jsxs("div",{className:"mt-5 flex flex-wrap gap-2",children:[e.jsx("button",{onClick:E,disabled:D,className:"rounded-lg px-4 py-2 bg-cyan-600 text-white hover:bg-cyan-700 disabled:opacity-60 active:scale-[0.99]",children:D?"Saving…":"Save Counts"}),e.jsx("button",{onClick:B,className:"rounded-lg px-4 py-2 bg-gray-100 hover:bg-gray-200 active:scale-[0.99]",children:"Reset to 0"}),C&&e.jsx("span",{className:"text-sm text-emerald-700 bg-emerald-50 border border-emerald-200 px-2 py-1 rounded-md",children:"Saved ✓"})]})]})]})]})]})},st={emerald:{ring:"ring-emerald-200",bg:"bg-emerald-50",text:"text-emerald-700",inputRing:"focus:ring-emerald-400",chip:"bg-emerald-100 hover:bg-emerald-200 text-emerald-700"},amber:{ring:"ring-amber-200",bg:"bg-amber-50",text:"text-amber-700",inputRing:"focus:ring-amber-400",chip:"bg-amber-100 hover:bg-amber-200 text-amber-800"},indigo:{ring:"ring-indigo-200",bg:"bg-indigo-50",text:"text-indigo-700",inputRing:"focus:ring-indigo-400",chip:"bg-indigo-100 hover:bg-indigo-200 text-indigo-700"}},Ue=({label:s,value:i,onChange:t,tone:d="emerald"})=>{const y=st[d]||st.emerald;return e.jsxs("div",{className:`rounded-xl border p-4 ring-1 ${y.ring}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`text-sm ${y.text}`,children:s}),e.jsx("span",{className:"text-xs text-gray-400",children:"editable"})]}),e.jsx("div",{className:"flex items-end justify-between gap-3",children:e.jsx("input",{type:"number",min:0,value:i!=null?i:0,onChange:D=>t(Math.max(0,Number(D.target.value))),className:`w-28 rounded-md border border-gray-300 px-3 py-2 outline-none focus:ring-2 ${y.inputRing}`})})]})},Ms=()=>e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[0,1,2].map(s=>e.jsxs("div",{className:"rounded-xl border p-4",children:[e.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded mb-3 animate-pulse"}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-10 w-28 bg-gray-200 rounded animate-pulse"})]})]},s))});function je(y){var D=y,{children:s,value:i,index:t}=D,d=de(D,["children","value","index"]);return e.jsx("div",p(u({role:"tabpanel",hidden:i!==t,id:`event-tabpanel-${t}`,"aria-labelledby":`event-tab-${t}`},d),{children:i===t&&e.jsx(L,{sx:{p:3},children:s})}))}const Ls=()=>{var te,V;const[s,i]=l.useState(!1),[t,d]=l.useState(0),[y,D]=l.useState("eventandconf"),[x,A]=l.useState("view"),N=[{slug:"eventandconf",name:"Event and Conference (Parent)",type:"parent"},{slug:"socialevent",name:"Social Events",type:"child"},{slug:"corporateevent",name:"Corporate Events",type:"child"},{slug:"weddingprewedding",name:"Wedding & Pre-Wedding",type:"child"}];Qt(!1);const{data:C,isLoading:S,refetch:w}=Yt(y);Kt(),Xt();const{mutate:E,isPending:B}=Zt(),{mutate:k,isPending:H}=es();ts();const[m,o]=l.useState({pageSlug:"",pageName:"",pageType:"parent",active:!0,heroSection:{heading:"",subheading:"",description:""},ourEvents:[],celebrationsSeamless:{title:"",description:"",benefits:[]},descriptionText:"",celebrationTypes:{heading:"",description:"",types:[]},meta:{title:"",description:"",keywords:[],ogImage:""}}),[h,c]=l.useState(!1);l.useEffect(()=>{C!=null&&C.data&&x==="view"&&o({pageSlug:C.data.pageSlug||"",pageName:C.data.pageName||"",pageType:C.data.pageType||"parent",active:C.data.active||!1,heroSection:C.data.heroSection||{heading:"",subheading:"",description:""},ourEvents:C.data.ourEvents||[],celebrationsSeamless:C.data.celebrationsSeamless||{title:"",description:"",benefits:[]},descriptionText:C.data.descriptionText||"",celebrationTypes:C.data.celebrationTypes||{heading:"",description:"",types:[]},meta:C.data.meta||{title:"",description:"",keywords:[],ogImage:""}})},[C,x]);const g=()=>i(!0),n=()=>{i(!1),A("view"),d(0)},b=T=>{D(T.target.value),A("view")},j=()=>{E({slug:y,section:"heroSection",sectionData:m.heroSection},{onSuccess:()=>w()})},W=()=>{m.pageType==="parent"&&E({slug:y,section:"ourEvents",sectionData:m.ourEvents},{onSuccess:()=>w()})},M=()=>{m.pageType==="parent"&&E({slug:y,section:"celebrationsSeamless",sectionData:m.celebrationsSeamless},{onSuccess:()=>w()})},R=()=>{m.pageType==="child"&&E({slug:y,section:"descriptionText",sectionData:{value:m.descriptionText}},{onSuccess:()=>w()})},$=()=>{m.pageType==="child"&&E({slug:y,section:"celebrationTypes",sectionData:m.celebrationTypes},{onSuccess:()=>w()})},G=()=>{k(y,{onSuccess:()=>w()})},K=()=>{o(T=>p(u({},T),{ourEvents:[...T.ourEvents,{image:"",title:"",description:""}]}))},ee=T=>{o(P=>p(u({},P),{ourEvents:P.ourEvents.filter((U,Q)=>Q!==T)}))},a=(T,P,U)=>{o(Q=>p(u({},Q),{ourEvents:Q.ourEvents.map((ae,he)=>he===T?p(u({},ae),{[P]:U}):ae)}))},r=()=>{o(T=>p(u({},T),{celebrationTypes:p(u({},T.celebrationTypes),{types:[...T.celebrationTypes.types,{image:"",title:""}]})}))},f=T=>{o(P=>p(u({},P),{celebrationTypes:p(u({},P.celebrationTypes),{types:P.celebrationTypes.types.filter((U,Q)=>Q!==T)})}))},v=(T,P,U)=>{o(Q=>p(u({},Q),{celebrationTypes:p(u({},Q.celebrationTypes),{types:Q.celebrationTypes.types.map((ae,he)=>he===T?p(u({},ae),{[P]:U}):ae)})}))},I=()=>{o(T=>p(u({},T),{celebrationsSeamless:p(u({},T.celebrationsSeamless),{benefits:[...T.celebrationsSeamless.benefits,{title:"",description:""}]})}))},O=T=>{o(P=>p(u({},P),{celebrationsSeamless:p(u({},P.celebrationsSeamless),{benefits:P.celebrationsSeamless.benefits.filter((U,Q)=>Q!==T)})}))},z=(T,P,U)=>{o(Q=>p(u({},Q),{celebrationsSeamless:p(u({},Q.celebrationsSeamless),{benefits:Q.celebrationsSeamless.benefits.map((ae,he)=>he===T?p(u({},ae),{[P]:U}):ae)})}))},q=((te=N.find(T=>T.slug===y))==null?void 0:te.type)||"parent";return e.jsxs("div",{children:[e.jsx("button",{className:"myGlobalButton",onClick:g,children:"Event & Conference Pages"}),e.jsxs(re,{open:s,onClose:n,maxWidth:"lg",fullWidth:!0,children:[e.jsx(le,{sx:{borderBottom:1,borderColor:"divider",pb:2},children:e.jsxs(L,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsx("span",{children:"Manage Event & Conference Pages"}),(C==null?void 0:C.data)&&e.jsx(Dt,{label:C.data.active?"Active":"Inactive",color:C.data.active?"success":"default",size:"small"})]})}),e.jsxs(oe,{dividers:!0,sx:{minHeight:"500px"},children:[e.jsxs(qe,{fullWidth:!0,margin:"normal",sx:{mb:3},children:[e.jsx($e,{children:"Select Page"}),e.jsx(Ge,{value:y,onChange:b,label:"Select Page",children:N.map(T=>e.jsx(Oe,{value:T.slug,children:T.name},T.slug))})]}),S?e.jsx(L,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"300px",children:e.jsx(ve,{})}):C!=null&&C.data?e.jsxs(e.Fragment,{children:[e.jsx(L,{mb:2,children:e.jsx(It,{control:e.jsx(Wt,{checked:C.data.active,onChange:G,disabled:H}),label:C.data.active?"Page is Active":"Page is Inactive"})}),e.jsxs(ot,{value:t,onChange:(T,P)=>d(P),sx:{mb:2},children:[e.jsx(pe,{label:"Hero Section"}),q==="parent"&&e.jsx(pe,{label:"Our Events"}),q==="parent"&&e.jsx(pe,{label:"Celebrations Seamless"}),q==="child"&&e.jsx(pe,{label:"Description"}),q==="child"&&e.jsx(pe,{label:"Celebration Types"})]}),e.jsx(je,{value:t,index:0,children:e.jsxs(ie,{elevation:2,sx:{p:3},children:[e.jsx(F,{fullWidth:!0,label:"Heading",margin:"normal",value:m.heroSection.heading,onChange:T=>o(P=>p(u({},P),{heroSection:p(u({},P.heroSection),{heading:T.target.value})}))}),e.jsx(F,{fullWidth:!0,label:"Subheading",margin:"normal",value:m.heroSection.subheading,onChange:T=>o(P=>p(u({},P),{heroSection:p(u({},P.heroSection),{subheading:T.target.value})}))}),e.jsx(F,{fullWidth:!0,label:"Description",margin:"normal",multiline:!0,rows:3,value:m.heroSection.description,onChange:T=>o(P=>p(u({},P),{heroSection:p(u({},P.heroSection),{description:T.target.value})}))}),e.jsx(_,{variant:"contained",startIcon:e.jsx(fe,{}),onClick:j,disabled:B,sx:{mt:2},children:"Save Hero Section"})]})}),q==="parent"&&e.jsxs(je,{value:t,index:1,children:[e.jsx(L,{mb:2,children:e.jsx(_,{variant:"outlined",startIcon:e.jsx(xe,{}),onClick:K,children:"Add Event"})}),m.ourEvents.map((T,P)=>e.jsxs(ie,{elevation:2,sx:{p:2,mb:2,position:"relative"},children:[e.jsx(ge,{onClick:()=>ee(P),sx:{position:"absolute",top:8,right:8},color:"error",children:e.jsx(ue,{})}),e.jsx(me,{feature:T,handleFeatureChange:(U,Q)=>a(P,U,Q),setImageUpload:c,index:`our-event-${P}`}),e.jsx(F,{fullWidth:!0,label:"Title",margin:"normal",value:T.title,onChange:U=>a(P,"title",U.target.value)}),e.jsx(F,{fullWidth:!0,label:"Description",margin:"normal",multiline:!0,rows:2,value:T.description,onChange:U=>a(P,"description",U.target.value)})]},P)),e.jsx(_,{variant:"contained",startIcon:e.jsx(fe,{}),onClick:W,disabled:B||h,sx:{mt:2},children:h?"Uploading Image...":"Save Our Events"})]}),q==="parent"&&e.jsxs(je,{value:t,index:2,children:[e.jsxs(ie,{elevation:2,sx:{p:3,mb:2},children:[e.jsx(F,{fullWidth:!0,label:"Title",margin:"normal",value:m.celebrationsSeamless.title,onChange:T=>o(P=>p(u({},P),{celebrationsSeamless:p(u({},P.celebrationsSeamless),{title:T.target.value})}))}),e.jsx(F,{fullWidth:!0,label:"Description",margin:"normal",multiline:!0,rows:4,value:m.celebrationsSeamless.description,onChange:T=>o(P=>p(u({},P),{celebrationsSeamless:p(u({},P.celebrationsSeamless),{description:T.target.value})}))})]}),e.jsx(L,{mb:2,children:e.jsx(_,{variant:"outlined",startIcon:e.jsx(xe,{}),onClick:I,children:"Add Benefit"})}),(V=m.celebrationsSeamless.benefits)==null?void 0:V.map((T,P)=>e.jsxs(ie,{elevation:2,sx:{p:2,mb:2,position:"relative"},children:[e.jsx(ge,{onClick:()=>O(P),sx:{position:"absolute",top:8,right:8},color:"error",children:e.jsx(ue,{})}),e.jsx(F,{fullWidth:!0,label:"Benefit Title",margin:"normal",value:T.title,onChange:U=>z(P,"title",U.target.value)}),e.jsx(F,{fullWidth:!0,label:"Benefit Description",margin:"normal",multiline:!0,rows:2,value:T.description,onChange:U=>z(P,"description",U.target.value)})]},P)),e.jsx(_,{variant:"contained",startIcon:e.jsx(fe,{}),onClick:M,disabled:B,sx:{mt:2},children:"Save Celebrations Seamless"})]}),q==="child"&&e.jsx(je,{value:t,index:1,children:e.jsxs(ie,{elevation:2,sx:{p:3},children:[e.jsx(F,{fullWidth:!0,label:"Description Text",margin:"normal",multiline:!0,rows:6,value:m.descriptionText,onChange:T=>o(P=>p(u({},P),{descriptionText:T.target.value})),helperText:"Main paragraph text for this page"}),e.jsx(_,{variant:"contained",startIcon:e.jsx(fe,{}),onClick:R,disabled:B,sx:{mt:2},children:"Save Description"})]})}),q==="child"&&e.jsxs(je,{value:t,index:2,children:[e.jsxs(ie,{elevation:2,sx:{p:3,mb:2},children:[e.jsx(F,{fullWidth:!0,label:"Section Heading",margin:"normal",value:m.celebrationTypes.heading,onChange:T=>o(P=>p(u({},P),{celebrationTypes:p(u({},P.celebrationTypes),{heading:T.target.value})}))}),e.jsx(F,{fullWidth:!0,label:"Section Description",margin:"normal",multiline:!0,rows:2,value:m.celebrationTypes.description,onChange:T=>o(P=>p(u({},P),{celebrationTypes:p(u({},P.celebrationTypes),{description:T.target.value})}))})]}),e.jsx(L,{mb:2,children:e.jsx(_,{variant:"outlined",startIcon:e.jsx(xe,{}),onClick:r,children:"Add Celebration Type"})}),m.celebrationTypes.types.map((T,P)=>e.jsxs(ie,{elevation:2,sx:{p:2,mb:2,position:"relative"},children:[e.jsx(ge,{onClick:()=>f(P),sx:{position:"absolute",top:8,right:8},color:"error",children:e.jsx(ue,{})}),e.jsx(me,{feature:T,handleFeatureChange:(U,Q)=>v(P,U,Q),setImageUpload:c,index:`celebration-type-${P}`}),e.jsx(F,{fullWidth:!0,label:"Title",margin:"normal",value:T.title,onChange:U=>v(P,"title",U.target.value)})]},P)),e.jsx(_,{variant:"contained",startIcon:e.jsx(fe,{}),onClick:$,disabled:B||h,sx:{mt:2},children:h?"Uploading Image...":"Save Celebration Types"})]}),e.jsx(je,{value:t,index:3,children:e.jsxs(ie,{elevation:2,sx:{p:3},children:[e.jsx(F,{fullWidth:!0,label:"Meta Title",margin:"normal",value:m.meta.title,onChange:T=>o(P=>p(u({},P),{meta:p(u({},P.meta),{title:T.target.value})}))}),e.jsx(F,{fullWidth:!0,label:"Meta Description",margin:"normal",multiline:!0,rows:2,value:m.meta.description,onChange:T=>o(P=>p(u({},P),{meta:p(u({},P.meta),{description:T.target.value})}))}),e.jsx(L,{mt:2,children:e.jsx(me,{feature:{image:m.meta.ogImage},handleFeatureChange:(T,P)=>o(U=>p(u({},U),{meta:p(u({},U.meta),{ogImage:P})})),setImageUpload:c,index:"meta-og-image"})}),e.jsx(_,{variant:"contained",startIcon:e.jsx(fe,{}),onClick:()=>E({slug:y,section:"meta",sectionData:m.meta},{onSuccess:()=>w()}),disabled:B,sx:{mt:2},children:"Save Meta Tags"})]})})]}):e.jsx(lt,{severity:"info",children:"This page doesn't exist yet. Content will be created when you save."})]}),e.jsx(se,{sx:{p:2,borderTop:1,borderColor:"divider"},children:e.jsx(_,{onClick:n,children:"Close"})})]})]})},Us=()=>{const[s,i]=l.useState([]),[t,d]=l.useState([]),[y,D]=l.useState(!1),[x,A]=l.useState("Day Stays Rooms"),N=["Day Stays Rooms","Events & Conference","corporate-booking","Career"],{data:C,isLoading:S,error:w}=ss(x),{mutate:E}=as(),{mutate:B}=ns();l.useEffect(()=>{C&&Array.isArray(C)&&i(C)},[C]);const k=n=>{A(n.target.value)},H=(n,b,j)=>{const W=[...s];W[n]=p(u({},W[n]),{[b]:j}),i(W)},m=()=>{i([...s,{question:"",answer:""}])},o=n=>{const b=s[n];b._id&&d(j=>[...j,b._id]),i(j=>j.filter((W,M)=>M!==n))},h=()=>{const n=s.filter(b=>!b._id&&b.question&&b.answer).map(b=>p(u({},b),{page:x}));if(n.length===0&&t.length===0){alert("Please add at least one new FAQ with a question and answer.");return}n.length>0&&E(n),t.forEach(b=>B(b)),d([]),D(!1)},c=()=>D(!0),g=()=>D(!1);return e.jsxs("div",{children:[e.jsx("div",{className:"myGlobalButton",onClick:c,children:"Manage FAQs"}),e.jsxs(re,{open:y,onClose:g,maxWidth:"md",fullWidth:!0,children:[e.jsx(le,{children:"Manage FAQs"}),e.jsxs(oe,{dividers:!0,children:[e.jsxs(qe,{fullWidth:!0,margin:"normal",children:[e.jsx($e,{children:"Choose Page"}),e.jsx(Ge,{value:x,onChange:k,label:"Choose Page",children:N.map(n=>e.jsx(Oe,{value:n,className:"",children:n},n))})]}),S&&e.jsx("p",{children:"Loading..."}),w&&e.jsxs("p",{children:["Error: ",w.message]}),s.map((n,b)=>e.jsxs(ie,{sx:{p:2,mb:2,position:"relative"},elevation:3,children:[e.jsx(ge,{onClick:()=>o(b),sx:{position:"absolute",top:8,right:8},color:"error",children:e.jsx(ue,{})}),e.jsx(F,{label:"Question",fullWidth:!0,margin:"normal",value:n.question,onChange:j=>H(b,"question",j.target.value)}),e.jsx(F,{label:"Answer",fullWidth:!0,margin:"normal",value:n.answer,onChange:j=>H(b,"answer",j.target.value)})]},b)),e.jsx(_,{variant:"outlined",onClick:m,sx:{mr:2},children:"Add FAQ"})]}),e.jsxs(se,{children:[e.jsx(_,{onClick:g,children:"Cancel"}),e.jsx(_,{variant:"contained",onClick:h,children:"Add Multiple FAQs"})]})]})]})},Rs=[{value:"default",label:"Default (Global)"},{value:"travelAgent",label:"Travel Agent"},{value:"career",label:"Career"}],zs=()=>{const{galleryImages:s,addGalleryImages:i}=be(),[t,d]=l.useState(!1),[y,D]=l.useState([]),[x,A]=l.useState([]),[N,C]=l.useState(!1),[S,w]=l.useState(0),[E,B]=l.useState(""),[k,H]=l.useState(null),[m,o]=l.useState("#ffffff"),[h,c]=l.useState("default"),g=["#4DB8B6","#4DD0E2","#C4C4C4","#FDD304","#F1B300","#FFE566","#FFE359","#00E0FF","#BDD9D8"];l.useEffect(()=>{if(!s)return;const a=(s==null?void 0:s[h])||(s==null?void 0:s.default)||s,r=Array.isArray(a==null?void 0:a.images)?a.images:[],f=Array.isArray(a==null?void 0:a.content)?a.content:[];D(r),A(f)},[s,h]);const n=a=>X(void 0,null,function*(){if(a.length===0){J.error("No images selected");return}d(!0);try{const r=yield ct(a),v=(Array.isArray(r)?r:[r])[0].imageUrls||[];D(I=>[...I,...v]),J.success("Images uploaded successfully!")}catch(r){console.error("Error uploading images:",r),J.error("Error uploading images")}finally{d(!1)}}),b=a=>{D(r=>r.filter(f=>f!==a))},j=()=>C(!0),W=()=>{C(!1),R()},M=(a,r)=>{w(r),R()},R=()=>{H(null),B(""),o("#ffffff")},$=()=>{if(!E.trim()){J.error("Please enter some content");return}const a={type:"div",content:E,bg:m};k!==null?(A(r=>r.map((f,v)=>v===k?a:f)),J.success("Content updated successfully!")):(A(r=>[...r,a]),J.success("Content added successfully!")),R()},G=a=>{const r=x[a];H(a),B(r.content||""),o(r.bg||"#ffffff")},K=a=>{A(r=>r.filter((f,v)=>v!==a)),J.success("Content deleted successfully!")},ee=()=>X(void 0,null,function*(){try{yield i({massonaryGrid:{images:y,content:x},path:h}),J.success(`Gallery updated for "${h}"!`),W()}catch(a){console.error("Error saving gallery:",a),J.error("Failed to update gallery")}});return e.jsxs("div",{children:[e.jsx("div",{className:"myGlobalButton",onClick:j,children:"Edit Gallery"}),e.jsx(Ft,{open:N,onClose:W,"aria-labelledby":"gallery-modal-title",children:e.jsxs(L,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:1400,height:700,bgcolor:"background.paper",boxShadow:24,p:4,overflow:"auto"},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 gap-4 flex-wrap",children:[e.jsx(Y,{variant:"h5",id:"gallery-modal-title",children:"Edit Gallery"}),e.jsx(F,{select:!0,size:"small",label:"Path",value:h,onChange:a=>c(a.target.value),sx:{minWidth:220},helperText:"Choose grid scope (keeps data separate)",children:Rs.map(a=>e.jsx(Oe,{value:a.value,children:a.label},a.value))}),e.jsx(_,{variant:"contained",onClick:ee,startIcon:e.jsx(ye,{size:18}),disabled:t,children:"Save All Changes"})]}),e.jsxs(ot,{value:S,onChange:M,children:[e.jsx(pe,{label:"Upload Images"}),e.jsx(pe,{label:"Manage Content"})]}),e.jsxs("div",{className:"mt-4",children:[S===0&&e.jsxs("div",{children:[e.jsxs(Y,{variant:"h6",className:"mb-4",children:["Image Gallery (",h,")"]}),e.jsx(is,{onUploadSuccess:n,isUploading:t,imagesUrls:y,onRemoveImageUrl:b})]}),S===1&&e.jsxs("div",{children:[e.jsxs(Y,{variant:"h6",className:"mb-4",children:[k!==null?"Edit Content":"Add New Content"," (",h,")"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(F,{fullWidth:!0,multiline:!0,rows:3,value:E,onChange:a=>B(a.target.value),placeholder:"Enter your content here..."}),e.jsxs("div",{children:[e.jsx(Y,{children:"Color"}),e.jsx("div",{className:"flex gap-2 mt-2",children:g.map(a=>e.jsx("div",{className:`w-8 h-8 rounded-full cursor-pointer border-2 ${m===a?"border-black":"border-transparent"}`,style:{backgroundColor:a},onClick:()=>o(a)},a))}),e.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[e.jsx("div",{className:"w-24 h-24 rounded border",style:{backgroundColor:m}}),e.jsxs("div",{className:"space-x-2",children:[e.jsx(_,{variant:"contained",onClick:$,children:k!==null?"Update":"Add"}),k!==null&&e.jsx(_,{variant:"outlined",onClick:R,children:"Cancel"})]})]})]})]}),e.jsxs("div",{className:"border-l pl-4",children:[e.jsx(Y,{variant:"h6",className:"mb-4",children:"Existing Content"}),e.jsx("div",{className:"space-y-4",children:x.map((a,r)=>e.jsxs("div",{className:"p-4 rounded relative",style:{backgroundColor:a.bg},children:[e.jsx("p",{children:a.content}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[e.jsx("button",{onClick:()=>G(r),className:"p-1 hover:bg-black/10 rounded",children:e.jsx(pt,{size:16})}),e.jsx("button",{onClick:()=>K(r),className:"p-1 hover:bg-black/10 rounded",children:e.jsx(xt,{size:16})})]})]},r))})]})]})]})]}),e.jsx(se,{children:e.jsx(_,{onClick:W,children:"Close"})})]})})]})},Re={image:"",heading:"",description:""},qs=()=>{const{heroSectionUpdate:s,updateHerosection:i,homePageDescription:t,updateHomepageDescriptionData:d,whatMakesUsShineData:y,upsertWhatMakesUsShine:D}=be(),[x,A]=l.useState({heading:"",description:"",image:""}),[N,C]=l.useState(null),[S,w]=l.useState(""),[E,B]=l.useState({heading:"",description:""}),[k,H]=l.useState({heading:"",description:""}),[m,o]=l.useState([Re,Re,Re]),[h,c]=l.useState(null),[g,n]=l.useState(!1);l.useEffect(()=>{s&&A({heading:s.heading||"",description:s.description||"",image:s.image||""})},[s]),l.useEffect(()=>{t&&B({heading:t.heading||"",description:t.description||""})},[t]),l.useEffect(()=>{y&&(H({heading:y.heading||"",description:y.description||""}),Array.isArray(y.items)&&y.items.length===3&&o(y.items.map(a=>({image:a.image||"",heading:a.heading||"",description:a.description||""}))))},[y]),l.useEffect(()=>()=>{S&&URL.revokeObjectURL(S)},[S]);const b=()=>n(!0),j=()=>{if(n(!1),S)try{URL.revokeObjectURL(S)}catch(a){}C(null),w(""),c(null)},W=a=>{const{name:r,value:f}=a.target;A(v=>p(u({},v),{[r]:f}))},M=a=>{if(!a)return;if(S)try{URL.revokeObjectURL(S)}catch(f){}const r=URL.createObjectURL(a);C(a),w(r)},R=a=>{const{name:r,value:f}=a.target;B(v=>p(u({},v),{[r]:f}))},$=a=>{const{name:r,value:f}=a.target;H(v=>p(u({},v),{[r]:f}))},G=(a,r,f)=>{o(v=>{const I=[...v];return I[a]=p(u({},I[a]),{[r]:f}),I})},K=()=>X(void 0,null,function*(){var a,r;try{let f=u({},x);if(N){const v=yield ct([N]),I=(v==null?void 0:v.url)||((a=v==null?void 0:v[0])==null?void 0:a.url)||((r=v==null?void 0:v.imageUrls)==null?void 0:r[0])||"";I&&(f.image=I)}yield i({heroSection:f}),yield d({homePageDescription:E}),n(!1)}catch(f){console.error("Error updating basic content:",f)}}),ee=()=>X(void 0,null,function*(){try{if(!(k.heading.trim()&&k.description.trim()&&m.length===3&&m.every(r=>r.image&&r.heading.trim()&&r.description.trim()))){console.warn("Please fill all shine fields and all 3 items");return}yield D({heading:k.heading,description:k.description,items:m})}catch(a){console.error("Saving Shine failed:",a)}});return e.jsxs("div",{children:[e.jsx("div",{onClick:b,className:"h-[150px] max-w-md bg-white rounded-xl text-center shadow-lg hover:shadow-xl cursor-pointer font-semibold p-10 text-2xl",children:"Home Page Data"}),e.jsxs(re,{open:g,onClose:j,fullWidth:!0,maxWidth:"md",children:[e.jsxs(le,{sx:{m:0,p:2},children:["Home Page Data",e.jsx(ge,{"aria-label":"close",onClick:j,sx:{position:"absolute",right:8,top:8,color:a=>a.palette.grey[500]},children:e.jsx(rt,{})})]}),e.jsxs(oe,{dividers:!0,children:[e.jsxs(L,{sx:{mb:3},children:[e.jsx("h1",{className:"text-desktop/h4 p",children:"Hero Section Data"}),e.jsx(F,{name:"heading",label:"Hero Heading",value:x.heading,onChange:W,fullWidth:!0,margin:"normal"}),e.jsx(F,{name:"description",label:"Hero Description",value:x.description,onChange:W,fullWidth:!0,margin:"normal",multiline:!0,rows:4}),e.jsxs(Ae,{direction:"row",spacing:2,alignItems:"center",sx:{mt:1},children:[e.jsxs(_,{variant:"outlined",component:"label",children:["Upload Hero Image",e.jsx("input",{type:"file",accept:"image/*",hidden:!0,onChange:a=>{var r;return M(((r=a.target.files)==null?void 0:r[0])||null)}})]}),(S||x.image)&&e.jsx(Ht,{title:"Preview",arrow:!0,children:e.jsx("img",{src:S||x.image,alt:"hero-preview",style:{height:48,width:80,objectFit:"cover",borderRadius:6,border:"1px solid #eee"},onError:a=>a.currentTarget.style.display="none"})})]})]}),e.jsx(Ze,{sx:{my:3}}),e.jsxs(L,{sx:{mb:3},children:[e.jsx("h1",{className:"text-desktop/h4 py-4",children:"Home Page Description"}),e.jsx(F,{label:"Home Page Heading",variant:"outlined",name:"heading",fullWidth:!0,value:E.heading,onChange:R,sx:{mb:2}}),e.jsx(F,{label:"Home Page Description",variant:"outlined",name:"description",fullWidth:!0,multiline:!0,rows:4,value:E.description,onChange:R,sx:{mb:2}})]}),e.jsx(Ze,{sx:{my:3}}),e.jsxs(L,{children:[e.jsx("h1",{className:"text-desktop/h4 py-2",children:"What Makes Us Shine"}),e.jsxs(Z,{container:!0,spacing:2,sx:{mb:2},children:[e.jsx(Z,{item:!0,xs:12,md:6,children:e.jsx(F,{label:"Shine Main Heading",name:"heading",fullWidth:!0,value:k.heading,onChange:$})}),e.jsx(Z,{item:!0,xs:12,md:6,children:e.jsx(F,{label:"Shine Main Description",name:"description",fullWidth:!0,value:k.description,onChange:$})})]}),e.jsx(Z,{container:!0,spacing:2,children:m.map((a,r)=>e.jsx(Z,{item:!0,xs:12,md:4,children:e.jsxs(We,{variant:"outlined",sx:{height:"100%"},children:[a.image?e.jsx(dt,{component:"img",height:"140",image:a.image,alt:`shine-${r}`,onError:f=>f.currentTarget.style.display="none"}):e.jsx(L,{sx:{height:140,bgcolor:"action.hover",display:"flex",alignItems:"center",justifyContent:"center",color:"text.secondary"},children:"No Image"}),e.jsx(ze,{children:e.jsxs(Ae,{spacing:1,children:[e.jsx(me,{feature:a,index:r,setImageUpload:f=>c(f?r:null),handleFeatureChange:(f,v)=>G(r,f,v)}),e.jsx(F,{label:`Item ${r+1} Heading`,value:a.heading,onChange:f=>G(r,"heading",f.target.value),fullWidth:!0}),e.jsx(F,{label:`Item ${r+1} Description`,value:a.description,onChange:f=>G(r,"description",f.target.value),fullWidth:!0,multiline:!0,rows:3})]})})]})},r))}),e.jsx(Ae,{direction:"row",justifyContent:"flex-end",sx:{mt:2},children:e.jsx(_,{variant:"contained",onClick:ee,children:"Save “What Makes Us Shine”"})})]})]}),e.jsxs(se,{sx:{p:2},children:[e.jsx(_,{onClick:j,variant:"outlined",children:"Cancel"}),e.jsx(_,{onClick:K,variant:"contained",children:"Save Hero & Description"})]})]})]})},$s=()=>({level:"",name:"",requirement_text:"",benefit_text:"",unlock_after_nights:0,style:{}}),at=()=>({title:"",description:"",icon:""}),Be={title:"Join Sunstar Rewards.",subtitle:"Sunstar's loyalty program for frequent travelers—earn perks and exclusive benefits every time you stay with us.",hero_cta:{text:"See your benefits",link:"/benefits"},loyal_guest:{heading:"Become a Loyal Sunstar Guest",description:"A rewarding loyalty program built for our most valued guests — like you, who choose comfort, consistency, and care with every stay."},tiers:[{level:1,name:"Smart Traveller",requirement_text:"Complete 5 nights in 365 days",benefit_text:"5% discount on future bookings",unlock_after_nights:5},{level:2,name:"Frequent Explorer",requirement_text:"Complete 10 nights in 365 days",benefit_text:"10% discount on all bookings",unlock_after_nights:10},{level:3,name:"Elite Guest",requirement_text:"Complete 20 nights in 365 days",benefit_text:"15% discount on all bookings",unlock_after_nights:20}],how_it_works:[{title:"Stay with Us",description:"Book your stay directly through our official website or contact numbers. Every night you stay counts towards your rewards.",icon:"bed"},{title:"Track Your Nights",description:"We automatically track your completed nights within a 365-day period. You do not need to sign up again or carry a membership card.",icon:"clock"},{title:"Unlock Rewards",description:"Your loyalty starts paying off after just 5 nights. Unlock bigger benefits as you stay more.",icon:"medal"}],sidebar_widget:{member_type:"Guest",stays:0}},Ee=({label:s,section:i,count:t,setExpandedSection:d,expandedSection:y})=>e.jsxs("button",{onClick:()=>d(y===i?null:i),className:"w-full flex items-center justify-between p-4 hover:bg-slate-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:s}),t!==void 0&&e.jsx("span",{className:"text-xs bg-slate-200 text-slate-600 px-2 py-1 rounded-full",children:t})]}),e.jsx(ft,{size:18,className:`text-slate-400 transition-transform ${y===i?"rotate-180":""}`})]}),ne=({label:s,value:i,onChange:t,placeholder:d,type:y="text",rows:D=1})=>e.jsxs("label",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:s}),D>1?e.jsx("textarea",{value:i,onChange:t,placeholder:d,rows:D,className:"px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-300 focus:border-transparent resize-none"}):e.jsx("input",{type:y,value:i,onChange:t,placeholder:d,className:"px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-300 focus:border-transparent"})]});function Gs(){var $,G,K,ee;const{data:s,isLoading:i,isError:t}=rs(),d=(s==null?void 0:s.data)||s,y=ls(),D=os();ds();const x=cs(),A=us(),[N,C]=l.useState(!1),[S,w]=l.useState(null),[E,B]=l.useState("banner"),[k,H]=l.useState(!1),m=l.useRef(null),o=()=>{w(JSON.parse(JSON.stringify(d||Be))),C(!0)},h=()=>C(!1);l.useEffect(()=>(N?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[N]),l.useEffect(()=>{N&&d&&!S&&w(JSON.parse(JSON.stringify(d)))},[N,d,S]),l.useEffect(()=>{N&&m.current&&setTimeout(()=>{var a;return(a=m.current)==null?void 0:a.focus()},50)},[N]),l.useEffect(()=>{const a=r=>{r.key==="Escape"&&C(!1)};return N&&window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[N]);const c=(a,r)=>{w(f=>{const v=u({},f||{}),I=a.split(".");let O=v;for(let z=0;z<I.length-1;z++){const q=I[z];O[q]||(O[q]={}),O=O[q]}return O[I[I.length-1]]=r,v})},g=()=>X(this,null,function*(){var r,f,v,I;const a=(()=>{const O=S?u({},S):JSON.parse(JSON.stringify(Be));O.tiers=Array.isArray(O.tiers)?[...O.tiers]:[];const z=O.tiers.reduce((q,te)=>Math.max(q,Number(te.level||0)),0);return p(u({},$s()),{level:z+1})})();w(O=>{const z=u({},O||{});return z.tiers=Array.isArray(z.tiers)?[...z.tiers,a]:[a],z});try{const O=yield D.mutateAsync(a);O&&w(O)}catch(O){w(q=>{const te=u({},q||{});return te.tiers=(te.tiers||[]).filter(V=>Number(V.level)!==Number(a.level)||V.name!==a.name),te});const z=(I=(v=(f=(r=O==null?void 0:O.response)==null?void 0:r.data)==null?void 0:f.message)!=null?v:O==null?void 0:O.message)!=null?I:"Error adding tier";J.error(z)}}),n=(a,r,f)=>{w(v=>{const I=u({},v||{});return I.tiers=(I.tiers||[]).map((O,z)=>z===a?p(u({},O),{[r]:f}):O),I})},b=a=>X(this,null,function*(){var O,z,q,te;const r=((S==null?void 0:S.tiers)||[])[a];if(!r)return;const f=Number(r.level);if(!(Array.isArray(d==null?void 0:d.tiers)&&d.tiers.some(V=>Number(V.level)===f))){w(V=>{const T=u({},V||{});return T.tiers=(T.tiers||[]).filter((P,U)=>U!==a),T});return}if(!confirm(`Delete tier level ${f} from server? This cannot be undone.`))return;const I=S?JSON.parse(JSON.stringify(S)):null;w(V=>{const T=u({},V||{});return T.tiers=(T.tiers||[]).filter((P,U)=>U!==a),T});try{const V=yield x.mutateAsync(f);V?(w(V),J.success("Tier deleted")):J.success("Tier deleted (server)")}catch(V){I&&w(I);const T=(te=(q=(z=(O=V==null?void 0:V.response)==null?void 0:O.data)==null?void 0:z.message)!=null?q:V==null?void 0:V.message)!=null?te:"Error deleting tier";J.error(T)}}),j=()=>{w(a=>{const r=u({},a||{});return r.how_it_works=Array.isArray(r.how_it_works)?[...r.how_it_works,at()]:[at()],r})},W=(a,r,f)=>{w(v=>{const I=u({},v||{});return I.how_it_works=(I.how_it_works||[]).map((O,z)=>z===a?p(u({},O),{[r]:f}):O),I})},M=a=>{w(r=>{const f=u({},r||{});return f.how_it_works=(f.how_it_works||[]).filter((v,I)=>I!==a),f})},R=()=>X(this,null,function*(){var a,r,f,v,I;if(!S||!S.title||!((a=S.loyal_guest)!=null&&a.heading)){J.error("Please provide page title and Loyal Guest heading");return}H(!0);try{const O=yield y.mutateAsync(S);O&&w(O),J.success("Loyalty Program saved"),C(!1)}catch(O){const z=(I=(v=(f=(r=O==null?void 0:O.response)==null?void 0:r.data)==null?void 0:f.message)!=null?v:O==null?void 0:O.message)!=null?I:"Save failed";J.error(z)}finally{H(!1)}});return i?e.jsx("button",{disabled:!0,className:"px-4 py-2 bg-slate-300 text-slate-600 rounded-lg text-sm font-medium",children:"Loading..."}):e.jsxs("div",{children:[e.jsx("button",{onClick:o,className:`myGlobalButton ${t?"bg-red-600 text-white":"bg-slate-700 "}`,children:"Loyalty Program"}),N&&S!==null&&e.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-start justify-center p-4 pt-8",role:"dialog","aria-modal":"true",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:h}),e.jsxs("div",{className:"relative z-10 w-full max-w-3xl max-h-[85vh] bg-white rounded-2xl shadow-xl overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-gradient-to-r from-slate-50 to-white",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Loyalty Program Settings"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Manage tiers, benefits, and program details"})]}),e.jsx("button",{ref:m,onClick:h,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx(He,{size:20,className:"text-slate-600"})})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"divide-y divide-slate-200",children:[e.jsxs("div",{className:"border-b border-slate-200",children:[e.jsx(Ee,{label:"Banner & Hero",section:"banner",setExpandedSection:B,expandedSection:E}),E==="banner"&&e.jsxs("div",{className:"p-6 bg-slate-50 space-y-4",children:[e.jsx(ne,{label:"Heading",value:S.title||"",onChange:a=>c("title",a.target.value),placeholder:"Enter main heading"}),e.jsx(ne,{label:"Description",value:S.subtitle||"",onChange:a=>c("subtitle",a.target.value),placeholder:"Enter subtitle or description",rows:3})]})]}),e.jsxs("div",{className:"border-b border-slate-200",children:[e.jsx(Ee,{label:"Loyal Guest Section",section:"loyal",setExpandedSection:B,expandedSection:E}),E==="loyal"&&e.jsxs("div",{className:"p-6 bg-slate-50 space-y-4",children:[e.jsx(ne,{label:"Section Heading",value:(($=S.loyal_guest)==null?void 0:$.heading)||"",onChange:a=>c("loyal_guest.heading",a.target.value),placeholder:"e.g., Become a Loyal Sunstar Guest"}),e.jsx(ne,{label:"Section Description",value:((G=S.loyal_guest)==null?void 0:G.description)||"",onChange:a=>c("loyal_guest.description",a.target.value),placeholder:"Describe the loyalty program benefits",rows:3})]})]}),e.jsxs("div",{className:"border-b border-slate-200",children:[e.jsx(Ee,{label:"Membership Tiers",section:"tiers",count:((K=S.tiers)==null?void 0:K.length)||0,setExpandedSection:B,expandedSection:E}),E==="tiers"&&e.jsxs("div",{className:"p-6 bg-slate-50 space-y-4",children:[e.jsxs("button",{onClick:g,className:"w-full flex items-center justify-center gap-2 py-2 px-4 border-2 border-dashed border-slate-300 rounded-lg hover:border-slate-400 hover:bg-slate-100 transition-colors text-slate-700 font-medium text-sm",children:[e.jsx(De,{size:16})," Add Tier"]}),e.jsxs("div",{className:"space-y-3",children:[(S.tiers||[]).map((a,r)=>{var f;return e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(ne,{label:"Level",type:"number",value:(f=a.level)!=null?f:"",onChange:v=>n(r,"level",Number(v.target.value)),placeholder:"e.g., 1"}),e.jsx(ne,{label:"Tier Name",value:a.name||"",onChange:v=>n(r,"name",v.target.value),placeholder:"e.g., Smart Traveller"})]}),e.jsx(ne,{label:"Requirement",value:a.requirement_text||"",onChange:v=>n(r,"requirement_text",v.target.value),placeholder:"e.g., Complete 5 nights in 365 days"}),e.jsx(ne,{label:"Benefit",value:a.benefit_text||"",onChange:v=>n(r,"benefit_text",v.target.value),placeholder:"e.g., 5% discount on all bookings"}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:()=>b(r),className:"flex items-center gap-2 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors text-sm font-medium",children:[e.jsx(Ie,{size:16})," Remove"]})})]},r)}),(!S.tiers||S.tiers.length===0)&&e.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No tiers configured yet"})]})]})]}),e.jsxs("div",{className:"border-b border-slate-200",children:[e.jsx(Ee,{label:"How It Works",section:"howitworks",count:((ee=S.how_it_works)==null?void 0:ee.length)||0,setExpandedSection:B,expandedSection:E}),E==="howitworks"&&e.jsxs("div",{className:"p-6 bg-slate-50 space-y-4",children:[e.jsxs("button",{onClick:j,className:"w-full flex items-center justify-center gap-2 py-2 px-4 border-2 border-dashed border-slate-300 rounded-lg hover:border-slate-400 hover:bg-slate-100 transition-colors text-slate-700 font-medium text-sm",children:[e.jsx(De,{size:16})," Add Step"]}),e.jsxs("div",{className:"space-y-3",children:[(S.how_it_works||[]).map((a,r)=>e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(ne,{label:"Title",value:a.title||"",onChange:f=>W(r,"title",f.target.value),placeholder:"Step heading"}),e.jsx(ne,{label:"Icon Key",value:a.icon||"",onChange:f=>W(r,"icon",f.target.value),placeholder:"e.g., bed, clock, medal"})]}),e.jsx(ne,{label:"Description",value:a.description||"",onChange:f=>W(r,"description",f.target.value),placeholder:"Explain this step",rows:2}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:()=>M(r),className:"flex items-center gap-2 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors text-sm font-medium",children:[e.jsx(Ie,{size:16})," Remove"]})})]},r)),(!S.how_it_works||S.how_it_works.length===0)&&e.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No steps configured yet"})]})]})]})]})}),e.jsxs("div",{className:"p-6 border-t border-slate-200 bg-gradient-to-r from-slate-50 to-white flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{confirm("Seed example data?")&&A.mutate(Be,{onSuccess:()=>{J.success("Seeded with default data"),C(!1)}})},className:"flex items-center gap-2 px-4 py-2 text-slate-700 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors font-medium text-sm",children:"Seed Data"}),e.jsxs("button",{onClick:()=>{w(JSON.parse(JSON.stringify(d||Be))),J.success("Reverted to last saved")},className:"flex items-center gap-2 px-4 py-2 text-slate-700 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors font-medium text-sm",children:[e.jsx(bt,{size:16})," Revert"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:h,className:"px-4 py-2 text-slate-700 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors font-medium text-sm",children:"Cancel"}),e.jsx("button",{onClick:R,disabled:k,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium text-sm",children:k?e.jsxs(e.Fragment,{children:[e.jsx(ce,{size:16,className:"animate-spin"})," Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ye,{size:16})," Save Program"]})})]})]})]})]})]})}const Js=({open:s,handleClose:i,initialData:t,onSave:d})=>{const[y,D]=l.useState(""),[x,A]=l.useState([]),[N,C]=l.useState("");l.useEffect(()=>{t&&(D(t.heading||""),A(t.valueData||[]),C(t.heroSectionDescription||""))},[t]);const S=m=>{D(m.target.value)},w=m=>{C(m.target.value)},E=(m,o,h)=>{const c=[...x];c[m]=p(u({},c[m]),{[o]:h}),A(c)},B=()=>{const m={title:"",description:""};A([...x,m])},k=m=>{const o=x.filter((h,c)=>c!==m);A(o)},H=()=>{const m=N.trim().split(/\s+/).length,o=x.some(c=>c.description.trim().split(/\s+/).length>50);if(m>110||o){alert("Hero section description should not exceed 80 words and value descriptions should not exceed 50 words");return}d({heading:y,valueData:x,heroSectionDescription:N}),i()};return e.jsxs(re,{open:s,onClose:i,maxWidth:"md",fullWidth:!0,children:[e.jsx(le,{children:"Why Sunstar Page"}),e.jsx(oe,{dividers:!0,children:e.jsxs(L,{sx:{},children:[e.jsx("h1",{className:"text-desktop/h4 py-6",children:"Hero Section Description"}),e.jsx(F,{label:"Hero Section Description",variant:"outlined",fullWidth:!0,value:N,onChange:w,sx:{mb:3},helperText:`${N.trim().split(/\s+/).length}/110 words`,error:N.trim().split(/\s+/).length>110}),e.jsx("h1",{className:"text-desktop/h4 pb-10",children:"Our Value Section"}),e.jsx(F,{label:"Heading",variant:"outlined",fullWidth:!0,value:y,onChange:S,sx:{mb:3}}),x.map((m,o)=>e.jsx(ie,{sx:{p:2,mb:2},children:e.jsxs(L,{display:"flex",alignItems:"center",children:[e.jsx(F,{label:"Title",variant:"outlined",value:m.title,onChange:h=>E(o,"title",h.target.value),sx:{mr:2,flex:1}}),e.jsx(F,{label:"Description",variant:"outlined",value:m.description,onChange:h=>E(o,"description",h.target.value),sx:{mr:2,flex:2},helperText:`${m.description.trim().split(/\s+/).length}/50 words`,error:m.description.trim().split(/\s+/).length>50}),e.jsx(ge,{color:"error",onClick:()=>k(o),"aria-label":"delete",children:e.jsx(ue,{})})]})},m._id||o)),e.jsx(_,{variant:"contained",startIcon:e.jsx(xe,{}),onClick:B,sx:{mb:3},children:"Add Value"})]})}),e.jsxs(se,{children:[e.jsx(_,{onClick:i,children:"Cancel"}),e.jsx(_,{variant:"contained",color:"secondary",onClick:H,children:"Save Changes"})]})]})},Vs=()=>{const{whysunstarValue:s,updateWhySunstarValueection:i}=be(),[t,d]=l.useState(!1),[y,D]=l.useState(null);l.useEffect(()=>{s&&D(s)},[s]);const x=()=>{d(!0)},A=()=>{d(!1)},N=C=>{i(C),D(C)};return e.jsxs("div",{children:[e.jsx("div",{className:"myGlobalButton",onClick:x,children:"Why Sunstar Page"}),y&&e.jsx(Js,{open:t,handleClose:A,initialData:y,onSave:N})]})},Qs=()=>{const[s,i]=l.useState(!1),{data:t=[],isLoading:d,isError:y,refetch:D}=ms(),x=gs(),A=hs(),N=ps(),[C,S]=l.useState(!1),[w,E]=l.useState(!1),[B,k]=l.useState({image:"",description:""}),[H,m]=l.useState(!1),[o,h]=l.useState(!1),[c,g]=l.useState(null),[n,b]=l.useState({image:"",description:""}),[j,W]=l.useState(!1),[M,R]=l.useState(!1),$=()=>{k({image:"",description:""}),S(!1)},G=()=>X(void 0,null,function*(){var v,I;if(!(!((v=B.image)!=null&&v.trim())||!((I=B.description)!=null&&I.trim())))try{E(!0),yield x.mutateAsync({imageUrl:B.image.trim(),description:B.description.trim()}),$(),D()}catch(O){console.error(O)}finally{E(!1)}}),K=v=>{g(v),b({image:v.imageUrl||"",description:v.description||""}),h(!0)},ee=()=>X(void 0,null,function*(){var v,I;if(c!=null&&c._id)try{R(!0),yield A.mutateAsync({id:c._id,data:{imageUrl:(v=n.image)==null?void 0:v.trim(),description:(I=n.description)==null?void 0:I.trim()}}),h(!1),g(null),D()}catch(O){console.error(O)}finally{R(!1)}}),a=v=>X(void 0,null,function*(){try{yield N.mutateAsync(v),D()}catch(I){console.error(I)}}),r=(v,I)=>k(O=>p(u({},O),{[v]:I})),f=(v,I)=>b(O=>p(u({},O),{[v]:I}));return e.jsxs(L,{children:[e.jsx("div",{className:"myGlobalButton",onClick:()=>i(!0),children:"Partner Logos"}),e.jsxs(re,{open:s,onClose:()=>i(!1),fullWidth:!0,maxWidth:"md",children:[e.jsx(le,{children:"Partner Logos"}),e.jsxs(oe,{dividers:!0,children:[e.jsxs(L,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2,mt:1,children:[e.jsx(Y,{variant:"h6",sx:{fontWeight:600},children:"Manage Partners"}),C?null:e.jsx(_,{startIcon:e.jsx(xe,{}),variant:"contained",onClick:()=>S(!0),children:"Add Partner"})]}),C&&e.jsxs(We,{sx:{mb:3,p:2},children:[e.jsxs(ze,{children:[e.jsx(Y,{variant:"subtitle1",gutterBottom:!0,children:"Add New Partner"}),e.jsx(F,{label:"Description",fullWidth:!0,multiline:!0,minRows:2,sx:{mb:2},value:B.description,onChange:v=>r("description",v.target.value),disabled:w||H}),e.jsx(me,{feature:{image:B.image},handleFeatureChange:r,setImageUpload:m,index:0}),B.image?e.jsxs(L,{mt:2,children:[e.jsx(Y,{variant:"caption",children:"Preview:"}),e.jsx(L,{component:"img",src:B.image,alt:"preview",sx:{width:160,height:90,objectFit:"cover",border:"1px solid #ddd",borderRadius:1}})]}):null]}),e.jsxs(et,{sx:{justifyContent:"flex-end"},children:[e.jsx(_,{onClick:$,disabled:w||H,children:"Cancel"}),e.jsx(_,{variant:"contained",onClick:G,disabled:w||H||!B.image||!B.description,children:w?e.jsx(ve,{size:20}):"Save"})]})]}),d?e.jsxs(L,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(ve,{size:22}),e.jsx(Y,{children:"Loading partners…"})]}):y?e.jsx(Y,{color:"error",children:"Failed to load partners"}):t.length===0?e.jsx(Y,{color:"text.secondary",children:"No partners added yet."}):e.jsx(Z,{container:!0,spacing:2,children:t.map((v,I)=>e.jsx(Z,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(We,{children:[v.imageUrl?e.jsx(dt,{component:"img",height:"160",image:v.imageUrl,alt:v.description||"Partner"}):null,e.jsx(ze,{sx:{minHeight:80},children:e.jsx(Y,{variant:"body2",children:v.description})}),e.jsxs(et,{children:[e.jsx(_,{startIcon:e.jsx(Ot,{}),onClick:()=>K(v),children:"Edit"}),e.jsx(_,{startIcon:e.jsx(ue,{}),color:"error",onClick:()=>a(v._id),disabled:N.isPending,children:"Delete"})]})]})},v._id||I))})]}),e.jsx(se,{children:e.jsx(_,{onClick:()=>i(!1),children:"Close"})})]}),e.jsxs(re,{open:o,onClose:()=>h(!1),fullWidth:!0,maxWidth:"sm",children:[e.jsx(le,{children:"Edit Partner"}),e.jsxs(oe,{children:[e.jsx(F,{label:"Description",fullWidth:!0,multiline:!0,minRows:2,sx:{my:2},value:n.description,onChange:v=>f("description",v.target.value),disabled:M||j}),e.jsx(me,{feature:{image:n.image},handleFeatureChange:f,setImageUpload:W,index:1}),n.image?e.jsxs(L,{mt:2,children:[e.jsx(Y,{variant:"caption",children:"Preview:"}),e.jsx(L,{component:"img",src:n.image,alt:"preview",sx:{width:160,height:90,objectFit:"cover",border:"1px solid #ddd",borderRadius:1}})]}):null]}),e.jsxs(se,{children:[e.jsx(_,{onClick:()=>h(!1),disabled:M||j,children:"Cancel"}),e.jsx(_,{variant:"contained",onClick:ee,disabled:M||j||!n.description||!n.image,children:M?e.jsx(ve,{size:22}):"Save"})]})]})]})},Ys=()=>{var k,H;const{shineSection:s,updateShineSection:i}=be(),[t,d]=l.useState(!1),[y,D]=l.useState(!1),[x,A]=l.useState({heading:s==null?void 0:s.heading,description:s==null?void 0:s.description,features:s==null?void 0:s.features});l.useEffect(()=>{A(s)},[s]);const N=m=>{A(o=>p(u({},o),{heading:m.target.value}))},C=m=>{A(o=>p(u({},o),{description:m.target.value}))},S=(m,o,h)=>{const c=[...x.features];c[m][o]=h,A(g=>p(u({},g),{features:c}))},w=()=>{A(m=>p(u({},m),{features:[...m.features,{title:"",description:"",image:""}]}))},E=m=>{const o=x.features.filter((h,c)=>c!==m);A(h=>p(u({},h),{features:o}))},B=()=>X(void 0,null,function*(){var h,c;if(!(x!=null&&x.heading)||!(x!=null&&x.description)){alert("Heading and description are required.");return}if(!(x!=null&&x.features)||x.features.length===0){alert("At least one feature is required.");return}const m=((h=x==null?void 0:x.description)==null?void 0:h.trim().split(/\s+/).length)||0,o=(c=x==null?void 0:x.features)==null?void 0:c.some(g=>{var b;return(((b=g==null?void 0:g.description)==null?void 0:b.trim().split(/\s+/).length)||0)>130});if(m>130||o){alert("Descriptions should not exceed 130 words");return}try{const g=x.features.filter(b=>b.title||b.description||b.image).map(b=>({title:b.title||"",description:b.description||"",image:b.image||""})),n={heading:x.heading,description:x.description,features:g};yield i(n)}catch(g){console.error("Error updating shine section:",g)}});return e.jsxs("div",{children:[e.jsx("div",{onClick:()=>d(!0),className:"myGlobalButton",children:"Shine Section"}),e.jsxs(re,{open:t,onClose:()=>d(!1),maxWidth:"md",fullWidth:!0,children:[e.jsx(le,{children:"Shine Section"}),e.jsx(oe,{dividers:!0,children:e.jsxs("div",{style:{padding:20},children:[e.jsx(F,{label:"Heading",variant:"outlined",fullWidth:!0,value:x==null?void 0:x.heading,onChange:N,style:{marginBottom:20}}),e.jsx(F,{label:"Description",variant:"outlined",fullWidth:!0,multiline:!0,rows:4,value:x==null?void 0:x.description,onChange:C,style:{marginBottom:20},helperText:`${((k=x==null?void 0:x.description)==null?void 0:k.trim().split(/\s+/).length)||0}/130 words`,error:(((H=x==null?void 0:x.description)==null?void 0:H.trim().split(/\s+/).length)||0)>130}),e.jsx(Z,{container:!0,spacing:3,children:x!=null&&x.features&&(x==null?void 0:x.features.length)>0?x==null?void 0:x.features.map((m,o)=>e.jsx(Z,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(We,{elevation:3,style:{padding:16,marginBottom:20},children:[e.jsx(ge,{color:"error",onClick:()=>E(o),style:{marginBottom:10},children:e.jsx(ue,{})}),e.jsx(F,{label:"Feature Title",variant:"outlined",fullWidth:!0,value:m.title,onChange:h=>S(o,"title",h.target.value),style:{marginBottom:10}}),e.jsx(F,{label:"Feature Description",variant:"outlined",fullWidth:!0,multiline:!0,rows:3,value:m.description,onChange:h=>S(o,"description",h.target.value),style:{marginBottom:10},helperText:`${m.description.trim().split(/\s+/).length}/130 words`,error:m.description.trim().split(/\s+/).length>130}),e.jsx(me,{feature:m,handleFeatureChange:(h,c)=>S(o,h,c),setImageUpload:D,index:o}),m.image&&e.jsx("img",{src:m.image,alt:`Feature ${o}`,style:{width:"100%",marginBottom:10}})]})},m._id)):e.jsx(Y,{variant:"body1",color:"textSecondary",children:"No features available."})}),e.jsx(_,{variant:"contained",color:"primary",startIcon:e.jsx(xe,{}),onClick:w,style:{marginTop:20,marginRight:10},children:"Add Feature"})]})}),e.jsxs(se,{children:[e.jsx(_,{onClick:()=>d(!1),color:"secondary",children:"Cancel"}),e.jsx(_,{variant:"contained",onClick:()=>{B(),d(!1)},color:"primary",disabled:y,children:"Update Shine Section"})]})]})]})},Ks=["","home","whysunstar","coorporatebooking","developera and owners","event and conference","social event","Weddings & Special Occasions","Corporate Events","career","travel-agent","tours and travel"],Xs=()=>{const[s,i]=l.useState(""),{data:t=[],isLoading:d,error:y}=xs({page:s});bs();const D=fs(),x=js(),A=vs(),[N,C]=l.useState({clientHeading:"",clients:[]}),[S,w]=l.useState([]),[E,B]=l.useState(!1);l.useEffect(()=>{C({clientHeading:"",clients:t.map(n=>({_id:n._id,name:n.name,location:n.location,heading:n.heading,description:n.description}))}),w([])},[t]);const k=n=>{i(n.target.value)},H=()=>B(!0),m=()=>B(!1),o=(n,b,j)=>{const W=[...N.clients];W[n]=p(u({},W[n]),{[b]:j}),C(p(u({},N),{clients:W}))},h=()=>{C(p(u({},N),{clients:[...N.clients,{name:"",location:"",heading:"",description:""}]}))},c=n=>{const b=N.clients[n];b._id&&w(j=>[...j,b._id]),C(p(u({},N),{clients:N.clients.filter((j,W)=>W!==n)}))},g=()=>{if(N.clients.some(j=>j.description.trim().split(/\s+/).length>50)){J.error("Each description must be 50 words or fewer.");return}N.clients.filter(j=>j._id).forEach(j=>{D.mutate({id:j._id,updateData:{name:j.name,location:j.location,heading:j.heading,description:j.description,page:s}})});const b=N.clients.filter(j=>!j._id).map(j=>({name:j.name,location:j.location,heading:j.heading,description:j.description,page:s}));b.length&&x.mutate(b),S.forEach(j=>A.mutate(j)),B(!1),J.success("Testimonials saved successfully")};return e.jsxs("div",{children:[e.jsx("div",{className:"myGlobalButton",onClick:H,children:"Edit Testimonials"}),e.jsxs(re,{open:E,onClose:m,fullWidth:!0,maxWidth:"md",children:[e.jsxs(le,{children:['Edit Testimonials for "',s||"Default",'"']}),e.jsxs(oe,{dividers:!0,children:[e.jsxs(qe,{fullWidth:!0,margin:"normal",children:[e.jsx($e,{children:"Choose Page"}),e.jsx(Ge,{labelId:"page-select-label",value:s,label:"Choose Page",onChange:k,displayEmpty:!0,renderValue:n=>n===""?"Default Testimonials":n,children:Ks.map(n=>e.jsx(Oe,{value:n,className:"capitalize",children:n===""?"Default Testimonials":n},n))})]}),N.clients.map((n,b)=>e.jsx(ie,{sx:{p:2,mb:2},children:e.jsxs(L,{display:"flex",flexDirection:"column",gap:2,children:[e.jsx(F,{label:"Name",value:n.name,onChange:j=>o(b,"name",j.target.value)}),e.jsx(F,{label:"Location",value:n.location,onChange:j=>o(b,"location",j.target.value)}),e.jsx(F,{label:"Heading",value:n.heading,onChange:j=>o(b,"heading",j.target.value)}),e.jsx(F,{label:"Description",multiline:!0,rows:3,value:n.description,onChange:j=>o(b,"description",j.target.value),helperText:`${n.description.trim().split(/\s+/).length}/50 words`,error:n.description.trim().split(/\s+/).length>50}),e.jsx(_,{variant:"outlined",color:"error",startIcon:e.jsx(ue,{}),onClick:()=>c(b),children:"Delete"})]})},n._id||b)),e.jsx(_,{variant:"contained",startIcon:e.jsx(xe,{}),onClick:h,children:"Add Testimonial"})]}),e.jsxs(se,{children:[e.jsx(_,{onClick:m,children:"Cancel"}),e.jsx(_,{variant:"contained",onClick:g,children:"Save Changes"})]})]})]})},Pe={hero:{title:"",desc:""},advantages:[]};function Zs(s,i){return JSON.stringify(s)===JSON.stringify(i)}const ea=()=>{const[s,i]=l.useState(!1),[t,d]=l.useState(Pe),[y,D]=l.useState(null),x=l.useRef(null),{data:A,isLoading:N,isFetching:C,refetch:S}=ys(),w=Cs();l.useEffect(()=>{s&&S()},[s,S]),l.useEffect(()=>{var c,g,n,b;if(A){const j={hero:{title:(g=(c=A.hero)==null?void 0:c.title)!=null?g:"",desc:(b=(n=A.hero)==null?void 0:n.desc)!=null?b:""},advantages:Array.isArray(A.advantages)?A.advantages.map(W=>{var M,R;return{title:(M=W.title)!=null?M:"",desc:(R=W.desc)!=null?R:"",types:Array.isArray(W.types)?W.types.map($=>{var G,K;return{title:(G=$.title)!=null?G:"",desc:(K=$.desc)!=null?K:""}}):[]}}):[]};d(j),D(j)}else!N&&!A&&(d(Pe),D(Pe))},[A,N]),l.useEffect(()=>{function c(g){g.key==="Escape"&&i(!1)}return s&&window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[s]);function E(c){x.current&&!x.current.contains(c.target)&&i(!1)}const B=(c,g)=>{d(n=>p(u({},n),{hero:p(u({},n.hero),{[c]:g})}))},k=(c,g,n)=>{d(b=>{const j=[...b.advantages||[]];return j[c]=p(u({},j[c]),{[g]:n}),p(u({},b),{advantages:j})})},H=(c,g,n,b)=>{d(j=>{const W=[...j.advantages||[]],M=[...W[c].types||[]];return M[g]=p(u({},M[g]),{[n]:b}),W[c]=p(u({},W[c]),{types:M}),p(u({},j),{advantages:W})})},m=()=>{if(!t.hero.title||t.hero.title.trim()==="")return J.error("Hero title is required"),!1;for(let c=0;c<(t.advantages||[]).length;c++){const g=t.advantages[c];if(!g.title||g.title.trim()==="")return J.error(`Section #${c+1} title is required`),!1;for(let n=0;n<(g.types||[]).length;n++){const b=g.types[n];if(!b.title||b.title.trim()==="")return J.error(`Type #${n+1} in section #${c+1} needs a title`),!1}}return!0},o=()=>X(void 0,null,function*(){var c,g;if(m())try{yield w.mutateAsync(t),J.success("Tour & Travel content saved"),D(t),i(!1)}catch(n){console.error(n),J.error(((g=(c=n==null?void 0:n.response)==null?void 0:c.data)==null?void 0:g.message)||"Failed to save")}}),h=!Zs(t,y);return e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"myGlobalButton",onClick:()=>i(!0),"aria-haspopup":"dialog","aria-expanded":s,children:"Tours & Travel"}),s&&e.jsx("div",{className:"tt-modal-overlay",onMouseDown:E,style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},"aria-modal":"true",role:"dialog","aria-label":"Edit Tours and Travel content",children:e.jsxs("div",{ref:x,className:"tt-modal",onMouseDown:c=>c.stopPropagation(),style:{background:"#fff",width:"min(1000px, 96%)",maxHeight:"90vh",overflowY:"auto",borderRadius:8,padding:20,boxShadow:"0 10px 30px rgba(0,0,0,0.2)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[e.jsx("h2",{style:{margin:0},children:"Edit Tours & Travel"}),e.jsx("div",{children:e.jsx("button",{onClick:()=>i(!1),"aria-label":"Close",style:{background:"transparent",border:"none",fontSize:18,cursor:"pointer"},children:"✕"})})]}),N||C?e.jsx("div",{style:{padding:20},children:"Loading content…"}):e.jsxs("div",{children:[e.jsxs("section",{style:{marginBottom:18},children:[e.jsx("h3",{style:{marginBottom:8},children:"Hero"}),e.jsxs("label",{style:{display:"block",marginBottom:6},children:[e.jsxs("div",{style:{fontSize:13,marginBottom:4},children:["Title ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{type:"text",value:t.hero.title,onChange:c=>B("title",c.target.value),placeholder:"Hero title",style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #ddd"}})]}),e.jsxs("label",{style:{display:"block"},children:[e.jsx("div",{style:{fontSize:13,marginBottom:4},children:"Description"}),e.jsx("textarea",{value:t.hero.desc,onChange:c=>B("desc",c.target.value),placeholder:"Hero description",rows:3,style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #ddd"}})]})]}),e.jsxs("section",{children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:e.jsx("h3",{style:{marginBottom:8},children:"Advantages"})}),(t.advantages||[]).length===0&&e.jsx("div",{style:{color:"#666",padding:"8px 0"},children:"No advantage sections yet. Add one to begin."}),(t.advantages||[]).map((c,g)=>e.jsxs("div",{style:{border:"1px solid #eee",padding:12,borderRadius:6,marginBottom:12},children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between",gap:8},children:e.jsxs("div",{style:{flex:1},children:[e.jsxs("label",{style:{display:"block",marginBottom:6},children:[e.jsxs("div",{style:{fontSize:13,marginBottom:4},children:["Section title ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{type:"text",value:c.title,onChange:n=>k(g,"title",n.target.value),placeholder:"Section title",style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #ddd"}})]}),e.jsxs("label",{style:{display:"block"},children:[e.jsx("div",{style:{fontSize:13,marginBottom:4},children:"Section description"}),e.jsx("textarea",{value:c.desc,onChange:n=>k(g,"desc",n.target.value),placeholder:"Section description",rows:2,style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #ddd"}})]})]})}),e.jsxs("div",{style:{marginTop:10},children:[Array.isArray(c.types)&&c.types.length===0&&e.jsx("div",{style:{color:"#666",marginTop:8},children:"No types yet for this section."}),c.types&&c.types.map((n,b)=>e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:8,marginTop:8,alignItems:"start"},children:e.jsxs("div",{children:[e.jsx("input",{type:"text",value:n.title,onChange:j=>H(g,b,"title",j.target.value),placeholder:"Type title",style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #ddd",marginBottom:6}}),e.jsx("textarea",{value:n.desc,onChange:j=>H(g,b,"desc",j.target.value),placeholder:"Type description (optional)",rows:2,style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #ddd"}})]})},b))]})]},g))]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[e.jsx("button",{onClick:()=>{d(y!=null?y:Pe)},disabled:!h,style:{padding:"8px 12px",borderRadius:6,border:"1px solid #ccc",background:h?"#fff":"#f5f5f5",cursor:h?"pointer":"not-allowed"},children:"Reset"}),e.jsx("button",{onClick:o,disabled:w.isLoading||!h,style:{padding:"8px 14px",borderRadius:6,border:"none",background:w.isLoading||!h?"#aaa":"#0070f3",color:"#fff",cursor:w.isLoading||!h?"not-allowed":"pointer"},children:w.isLoading?"Saving…":"Save"})]})]})]})})]})},nt=({open:s,onClose:i,children:t,title:d,footer:y})=>s?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:i}),e.jsxs("div",{className:"relative z-10 w-full max-w-5xl max-h-[92vh] overflow-hidden rounded-2xl bg-white shadow-2xl animate-in fade-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"sticky top-0 z-20 flex items-center justify-between gap-4 border-b border-gray-200 bg-gradient-to-r from-slate-50 to-white px-6 py-4",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:d}),e.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100",onClick:i,children:e.jsx(He,{size:20,className:"text-gray-600"})})]}),e.jsx("div",{className:"overflow-y-auto p-6 max-h-[calc(92vh-60px)]",children:t}),y&&e.jsx("div",{className:"border-t border-gray-200 bg-white px-6 py-4",children:y})]})]}):null,ta=t=>{var d=t,{label:s}=d,i=de(d,["label"]);return e.jsxs("label",{className:"block group",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:s}),e.jsx("input",p(u({},i),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 ${i.className||""}`}))]})},it=t=>{var d=t,{label:s}=d,i=de(d,["label"]);return e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:s}),e.jsx("textarea",p(u({},i),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 min-h-[90px] resize-none ${i.className||""}`}))]})},sa=({title:s,children:i,onSave:t,saving:d,actions:y})=>e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gradient-to-br from-white to-gray-50 p-6 shadow-sm hover:shadow-md transition-shadow duration-300",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:s}),e.jsxs("div",{className:"flex gap-2 items-center",children:[y,t&&e.jsx("button",{onClick:t,disabled:d,className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-2 text-sm font-medium text-white shadow-md hover:shadow-lg disabled:opacity-60",children:d?e.jsxs(e.Fragment,{children:[e.jsx(ce,{size:16,className:"animate-spin"}),"Saving…"]}):e.jsxs(e.Fragment,{children:[e.jsx(ye,{size:16}),"Save"]})})]})]}),e.jsx("div",{className:"space-y-4",children:i})]}),aa=()=>{const[s,i]=l.useState(!1),{data:t,isFetching:d}=Ss({enabled:s}),y=ws(),D=Ns(),x=ks(),A=Ts(),N=Bs(),[C,S]=l.useState({heading:"",description:""}),w=l.useMemo(()=>{var h,c;return(c=(h=t==null?void 0:t.partnerWithUs)==null?void 0:h.cards)!=null?c:[]},[t]),E=l.useMemo(()=>{var h,c;return(c=(h=t==null?void 0:t.howItWorks)==null?void 0:h.cards)!=null?c:[]},[t]);l.useEffect(()=>{var h,c,g,n;t&&S({heading:(c=(h=t==null?void 0:t.hero)==null?void 0:h.heading)!=null?c:"",description:(n=(g=t==null?void 0:t.hero)==null?void 0:g.description)!=null?n:""})},[t]);const[B,k]=l.useState(null),[H,m]=l.useState(""),o=()=>X(void 0,null,function*(){const c=H.split(`
`).map(g=>g.trim()).filter(Boolean).map(g=>{const[n,...b]=g.split(":");return b.length?{title:n.trim(),description:b.join(":").trim()}:{title:g.split(" ").slice(0,3).join(" "),description:g}});yield x.mutateAsync({section:B,cards:c}),m(""),k(null)});return e.jsxs("div",{children:[e.jsx("button",{onClick:()=>i(!0),className:"myGlobalButton",children:"Manage Travel Agent"}),e.jsxs(nt,{open:s,onClose:()=>i(!1),title:"Manage Travel Agent",children:[d&&e.jsxs("div",{className:"mb-6 rounded-lg border border-amber-200 bg-gradient-to-r from-amber-50 to-orange-50 p-4 flex items-center gap-3",children:[e.jsx(ce,{size:18,className:"text-amber-600 animate-spin"}),e.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Loading latest data…"})]}),e.jsx(sa,{title:"Hero",onSave:()=>y.mutate(C),saving:y.isPending,children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsx(ta,{label:"Heading",value:C.heading,onChange:h=>S(c=>p(u({},c),{heading:h.target.value}))}),e.jsx(it,{label:"Description",value:C.description,onChange:h=>S(c=>p(u({},c),{description:h.target.value}))})]})}),e.jsx(Fe,{title:"Partner With Us — Cards",cards:w,onAdd:()=>D.mutate({section:"partner",title:"New Partner Benefit",description:"Describe the partner benefit…"}),adding:D.isPending,onUpdate:(h,c)=>A.mutate({section:"partner",cardId:h,update:c}),onDelete:h=>N.mutate({section:"partner",cardId:h}),emptyMessage:"No partner cards yet.",fields:[{name:"title",label:"Title",type:"text"},{name:"description",label:"Description",type:"textarea"}]}),e.jsx(Fe,{title:"How It Works — Cards",cards:E,onAdd:()=>D.mutate({section:"howitworks",title:"Step title",description:"Explain the step…"}),adding:D.isPending,onUpdate:(h,c)=>A.mutate({section:"howitworks",cardId:h,update:c}),onDelete:h=>N.mutate({section:"howitworks",cardId:h}),emptyMessage:"No how-it-works cards yet.",fields:[{name:"title",label:"Title",type:"text"},{name:"description",label:"Description",type:"textarea"}]})]}),e.jsx(nt,{open:!!B,onClose:()=>k(null),title:B==="partner"?"Bulk Add — Partner With Us":"Bulk Add — How It Works",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(it,{label:"Items",placeholder:`Sign Up: Create your partner account
Approve: Get verified and start
Earn: Send bookings & earn`,value:H,onChange:h=>m(h.target.value)}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{className:"rounded-lg px-4 py-2 bg-gray-100 hover:bg-gray-200",onClick:()=>k(null),children:"Cancel"}),e.jsx("button",{className:"rounded-lg px-4 py-2 bg-emerald-600 text-white hover:bg-emerald-700 disabled:opacity-60",disabled:!H.trim()||x.isPending,onClick:o,children:x.isPending?"Adding…":"Add Items"})]})]})})]})},na=()=>{var n;const[s,i]=l.useState(!1),{offeringSection:t,updateOfferingSection:d}=be(),[y,D]=l.useState(!1),[x,A]=l.useState(!1),[N,C]=l.useState(null),[S,w]=l.useState(null),[E,B]=l.useState({heading:"",offers:[]});l.useEffect(()=>{if(t){const b=p(u({},t),{offers:(t.offers||[]).map(j=>({title:j.title||"",description:j.description||"",image:j.image||"",link:j.link||""}))});B(b)}},[t]);const k=()=>{B(b=>p(u({},b),{offers:[...b.offers,{title:"",description:"",image:"",link:""}]}))},H=b=>{B(j=>p(u({},j),{offers:j.offers.filter((W,M)=>M!==b)}))},m=(b,j,W)=>{B(M=>{const R=[...M.offers];return R[b]=p(u({},R[b]),{[j]:W}),p(u({},M),{offers:R})})},o=b=>{B(p(u({},E),{heading:b.target.value}))},h=b=>X(void 0,null,function*(){if(b.preventDefault(),A(!0),C(null),w(null),E.offers.some(W=>W.description.trim().split(/\s+/).length>60)){C("Description should not exceed 60 words"),A(!1);return}try{if(d){const W=yield d({whatWeOffers:E});w("Offerings updated successfully!"),B(W.whatWeOffers)}else w("Offerings updated successfully! (dummy)")}catch(W){console.error(W),C("Failed to update offerings.")}finally{A(!1)}}),c=()=>i(!0),g=()=>i(!1);return e.jsxs("div",{children:[e.jsx("div",{onClick:c,className:"myGlobalButton",children:"What We Offers Section"}),e.jsx(re,{open:s,onClose:g,fullWidth:!0,maxWidth:"md",children:e.jsxs(L,{component:"form",onSubmit:h,children:[e.jsx(le,{children:"What We Offers Section"}),e.jsxs(oe,{children:[e.jsx(Y,{variant:"h5",gutterBottom:!0,children:"What We Offers Section"}),e.jsx(F,{label:"Heading",variant:"outlined",fullWidth:!0,value:E.heading||"",onChange:o,sx:{mb:3}}),(n=E==null?void 0:E.offers)==null?void 0:n.map((b,j)=>e.jsxs(L,{sx:{mb:4,p:2,border:"1px solid #ccc",borderRadius:2,position:"relative"},children:[e.jsxs(Y,{variant:"h6",children:["Offering ",j+1]}),e.jsx(F,{label:"Title",variant:"outlined",fullWidth:!0,margin:"normal",value:b.title,onChange:W=>m(j,"title",W.target.value)}),e.jsx(F,{label:"Description",variant:"outlined",fullWidth:!0,margin:"normal",multiline:!0,rows:4,value:b.description,onChange:W=>m(j,"description",W.target.value),helperText:`${b.description.trim().split(/\s+/).length}/60 words`,error:b.description.trim().split(/\s+/).length>60}),e.jsx(F,{label:"Link (optional)",placeholder:"https://example.com/your-service",variant:"outlined",fullWidth:!0,margin:"normal",value:b.link||"",onChange:W=>m(j,"link",W.target.value)}),b.image&&e.jsxs(L,{sx:{mt:2,display:"flex",alignItems:"center"},children:[e.jsx(Y,{variant:"caption",sx:{mr:1},children:"Image Preview:"}),e.jsx(L,{component:"img",src:b.image,alt:`Offering ${j+1} preview`,sx:{width:100,height:60,objectFit:"cover",border:"1px solid #ccc",borderRadius:"4px",marginBottom:"20px"}})]}),e.jsx(me,{feature:b,handleFeatureChange:(W,M)=>m(j,W,M),setImageUpload:D,index:j}),e.jsx(_,{variant:"outlined",color:"error",startIcon:e.jsx(ue,{}),onClick:()=>H(j),sx:{mt:1},children:"Remove Offering"})]},`${j}`)),e.jsx(_,{variant:"outlined",onClick:k,sx:{mt:2},children:"Add New Offering"}),N&&e.jsx(Y,{variant:"body2",color:"error",sx:{mt:2},children:N}),S&&e.jsx(Y,{variant:"body2",color:"primary",sx:{mt:2},children:S})]}),e.jsx(se,{children:e.jsxs(L,{sx:{mt:2,mr:4,display:"flex",justifyContent:"flex-end"},children:[e.jsx(_,{onClick:g,color:"primary",sx:{mx:4},children:"Close"}),e.jsx(_,{type:"submit",variant:"contained",color:"primary",disabled:x||y,children:x?e.jsx(ve,{size:24}):"Update Offerings"})]})})]})})]})},Ea=()=>e.jsxs("div",{className:"p-8 pt-24 flex flex-col gap-8 bg-gray-100 min-h-screen  ",children:[e.jsx("h1",{className:"text-desktop/h3",children:"Pages Sections"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10",children:[e.jsx(qs,{}),e.jsx(Vs,{}),e.jsx(Ws,{}),e.jsx(Is,{}),e.jsx(Os,{}),e.jsx(Gs,{}),e.jsx(Ds,{}),e.jsx(aa,{}),e.jsx(Hs,{}),e.jsx(Ls,{}),e.jsx(ea,{})]}),e.jsx("h1",{className:"text-desktop/h3",children:"Common Sections"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10",children:[e.jsx(zs,{}),e.jsx(Ys,{}),e.jsx(na,{}),e.jsx(Xs,{}),e.jsx(Us,{}),e.jsx(Qs,{})]})]});export{Ea as default};
