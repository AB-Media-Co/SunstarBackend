import{u as e,q as t,r as s,j as a,ao as l,am as r,Y as i,aW as o,as as n,aX as d}from"./react-vendor-tq68JOgp.js";import{c}from"./index-D89k_Hd_.js";import{f as m}from"./formatCurrency-D9YqnSEn.js";import"./animation-vendor-DJegggv9.js";import"./vendor-DwD9zxym.js";import"./query-vendor-iDpT9gG9.js";import"./ui-vendor-DiJ4VKpG.js";import"./swiper-vendor-DEzR9mKq.js";import"./date-vendor-9E3U4XI3.js";const x=()=>{var x,h,u,v;const{state:g}=e(),p=t(),[j,f]=s.useState(!1),b=s.useRef(!1),{bookingResponse:y,payload:N,paymentMethod:w,checkIn:k,checkOut:D,hotel:S,user:I,rooms:R,hotelDetail:C}=g||{};s.useEffect((()=>{f(!0);const e=setTimeout((()=>f(!1)),3e3);if(g&&I&&R&&!b.current){b.current=!0;const e={hotelCode:null==C?void 0:C.hotelCode,AuthCode:null==C?void 0:C.authKey,checkIn:k,checkOut:D,Hoteldata:null==C?void 0:C.name,selectedRooms:R.map((e=>({roomName:null==e?void 0:e.roomName,option:"pay-at-hotel"===w?"Pay at Hotel":"Paid Online",price:(null==e?void 0:e.price)||0,RoomTypeID:(null==e?void 0:e.RoomTypeID)||"",RateTypeID:(null==e?void 0:e.RateTypeID)||""}))),userEmail:null==I?void 0:I.email,userPhone:null==I?void 0:I.phone};c.post("/api/enquiries/hotelData",e).then((()=>{})).catch((()=>{}))}return()=>clearTimeout(e)}),[]);const M=(()=>{if(!k||!D)return 0;const e=new Date(k),t=new Date(D),s=Math.abs(t-e);return Math.ceil(s/864e5)})(),B=e=>{if(!e)return"";try{const t=new Date(e);return`${t.toLocaleDateString("en-US",{weekday:"short"})}, ${t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}catch(t){return e}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:[j&&a.jsx("div",{className:"fixed inset-0 pointer-events-none z-20",children:[...Array(20)].map(((e,t)=>a.jsx("div",{className:"absolute animate-bounce",style:{left:100*Math.random()+"%",top:100*Math.random()+"%",animationDelay:2*Math.random()+"s",animationDuration:2+2*Math.random()+"s"},children:a.jsx(l,{className:"w-4 h-4 text-yellow-400"})},t)))}),a.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl md:max-w-2xl w-full md:mx-4 overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-br from-green-400 to-teal-500 px-6 py-10 text-center relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 opacity-20",children:[a.jsx("div",{className:"absolute -top-10 -left-10 w-20 h-20 bg-white rounded-full"}),a.jsx("div",{className:"absolute -bottom-10 -right-10 w-32 h-32 bg-white rounded-full"}),a.jsx("div",{className:"absolute top-20 -right-5 w-16 h-16 bg-white rounded-full"})]}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white rounded-full mb-4 shadow-lg",children:a.jsx(r,{className:"w-10 h-10 text-green-500"})}),a.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Booking Confirmed!"}),a.jsx("p",{className:"text-green-100",children:"Your reservation has been successfully booked,  We've sent a confirmation email with all the details. Have a wonderful stay!"})]})]}),a.jsxs("div",{className:"px-6 py-8",children:[I&&a.jsxs("div",{className:"space-y-4 mb-8",children:[a.jsxs("div",{className:"p-5 rounded-xl border border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:[a.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3",children:"Guest Information"}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[null==I?void 0:I.firstName," ",null==I?void 0:I.lastName]}),a.jsx("div",{className:"text-sm text-gray-600 mt-1",children:null==I?void 0:I.email}),(null==I?void 0:I.phone)&&a.jsx("div",{className:"text-sm text-gray-600",children:null==I?void 0:I.phone})]})})]}),a.jsxs("div",{className:"p-5 rounded-xl border border-teal-200 bg-gradient-to-r from-teal-50 to-white",children:[a.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-teal-700 mb-3",children:"Your Stay Details"}),a.jsx("div",{className:"mb-4",children:a.jsx("div",{className:"text-lg font-bold text-gray-900",children:(null==C?void 0:C.name)||(null==S?void 0:S.name)||"Hotel"})}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Check-in"}),a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:B(k)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Check-out"}),a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:B(D)})]})]}),a.jsx("div",{className:"mb-4 pt-3 border-t border-teal-200",children:a.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-teal-100 text-teal-800 rounded-full text-sm font-medium",children:[a.jsx(i,{className:"w-4 h-4"}),a.jsxs("span",{children:[M," ",1===M?"Night":"Nights"," Stay"]})]})}),Array.isArray(R)&&R.length>0&&a.jsx("div",{children:a.jsxs("div",{className:"pt-3 border-t border-teal-200",children:[a.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-teal-700 mb-3",children:"Booked Rooms"}),a.jsx("div",{className:"space-y-2",children:R.map(((e,t)=>a.jsx("div",{className:"bg-white rounded-lg p-3 border border-teal-100",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:(null==e?void 0:e.roomName)||(null==e?void 0:e.RoomTypeName)||(null==e?void 0:e.RoomTypeID)||"Room"}),a.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-1 text-xs text-gray-600 mt-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("svg",{className:"w-3 h-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),a.jsxs("span",{children:[(null==e?void 0:e.guestQty)||1," ",1===((null==e?void 0:e.guestQty)||1)?"Guest":"Guests"]})]}),(null==e?void 0:e.option)&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full"}),a.jsx("span",{children:"continental"===e.option?"With Breakfast":"Room Only"})]})]})]}),null!=(null==e?void 0:e.price)&&a.jsxs("div",{className:"text-right flex-shrink-0",children:[a.jsx("div",{className:"font-semibold text-teal-600 text-sm",children:m(e.price)}),a.jsx("div",{className:"text-xs text-gray-500",children:"per night"})]})]})},t)))})]})})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:[a.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-2",children:"Booking ID"}),a.jsx("div",{className:"text-base font-bold text-gray-900",children:(null==(x=null==y?void 0:y.data)?void 0:x.ReservationNo)||(null==y?void 0:y.ReservationNo)||(null==(h=null==y?void 0:y.data)?void 0:h.bookingId)||(null==y?void 0:y.bookingId)||"Processing"}),a.jsxs("div",{className:"inline-flex items-center gap-1.5 mt-2 text-xs font-medium text-teal-600",children:[a.jsx("span",{className:"w-2 h-2 bg-teal-500 rounded-full"}),(null==(u=null==y?void 0:y.data)?void 0:u.BookingStatus)||(null==y?void 0:y.BookingStatus)||(null==(v=null==y?void 0:y.data)?void 0:v.status)||(null==y?void 0:y.status)||"Confirmed"]})]}),a.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:[a.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-2",children:"Payment Method"}),a.jsx("div",{className:"text-base font-semibold text-gray-900",children:"pay-at-hotel"===w?"Pay at Hotel":"Paid Online"}),"pay-at-hotel"===w?a.jsx("div",{className:"text-xs text-gray-600 mt-2",children:"Payment will be collected at check-in"}):a.jsx("div",{className:"text-xs text-teal-600 font-medium mt-2",children:"Payment completed successfully"})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:()=>{const e=localStorage.getItem("user_email");localStorage.clear(),e&&localStorage.setItem("user_email",e),p("/user/profile",{replace:!0,state:{tab:"bookings"}})},className:"w-full group relative overflow-hidden bg-gradient-to-r from-teal-500 to-teal-600 text-white font-semibold py-4 px-6 rounded-xl transition-all duration-300 hover:from-teal-600 hover:to-teal-700 hover:shadow-lg transform hover:scale-[1.02]",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(o,{className:"w-5 h-5 mr-2"}),a.jsx("span",{children:"See My Bookings"}),a.jsx(n,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})}),a.jsx("button",{onClick:()=>{const e=localStorage.getItem("user_email");localStorage.clear(),e&&localStorage.setItem("user_email",e),p("/",{replace:!0})},className:"w-full group relative overflow-hidden bg-white border-2 border-gray-200 text-gray-700 font-semibold py-4 px-6 rounded-xl transition-all duration-300 hover:border-teal-300 hover:bg-teal-50 hover:text-teal-700 hover:shadow-md transform hover:scale-[1.02]",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(d,{className:"w-5 h-5 mr-2"}),a.jsx("span",{children:"Continue to Book"}),a.jsx(n,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]})]})]})};export{x as default};
