import{j as e}from"./ui-vendor-ib5n1sau.js";import{u as t,i as s,a}from"./react-vendor-TJBKpoaW.js";import{c as l}from"./index-Bl04lSVd.js";import{f as r}from"./formatCurrency-D9YqnSEn.js";import{S as i,C as o,A as n}from"./sparkles-BeAlut4k.js";import{C as d}from"./calendar-Cq9IfnCc.js";import{c}from"./createLucideIcon-qEM6W6i8.js";import"./query-vendor-B-W3jWpx.js";
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m=c("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),x=c("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),h=()=>{var c,h,u,v;const{state:g}=t(),p=s(),[j,f]=a.useState(!1),y=a.useRef(!1),{bookingResponse:b,payload:N,paymentMethod:w,checkIn:k,checkOut:S,hotel:D,user:I,rooms:M,hotelDetail:C}=g||{};a.useEffect((()=>{f(!0);const e=setTimeout((()=>f(!1)),3e3);if(g&&I&&M&&!y.current){y.current=!0;const e={hotelCode:null==C?void 0:C.hotelCode,AuthCode:null==C?void 0:C.authKey,checkIn:k,checkOut:S,Hoteldata:null==C?void 0:C.name,selectedRooms:M.map((e=>({roomName:null==e?void 0:e.roomName,option:"pay-at-hotel"===w?"Pay at Hotel":"Paid Online",price:(null==e?void 0:e.price)||0,RoomTypeID:(null==e?void 0:e.RoomTypeID)||"",RateTypeID:(null==e?void 0:e.RateTypeID)||""}))),userEmail:null==I?void 0:I.email,userPhone:null==I?void 0:I.phone};l.post("/api/enquiries/hotelData",e).then((()=>{})).catch((()=>{}))}return()=>clearTimeout(e)}),[]);const R=(()=>{if(!k||!S)return 0;const e=new Date(k),t=new Date(S),s=Math.abs(t-e);return Math.ceil(s/864e5)})(),B=e=>{if(!e)return"";try{const t=new Date(e),s=t.toLocaleDateString("en-US",{weekday:"short"});return`${s}, ${t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}catch(t){return e}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:[j&&e.jsx("div",{className:"fixed inset-0 pointer-events-none z-20",children:[...Array(20)].map(((t,s)=>e.jsx("div",{className:"absolute animate-bounce",style:{left:100*Math.random()+"%",top:100*Math.random()+"%",animationDelay:2*Math.random()+"s",animationDuration:2+2*Math.random()+"s"},children:e.jsx(i,{className:"w-4 h-4 text-yellow-400"})},s)))}),e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl md:max-w-2xl w-full md:mx-4 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-400 to-teal-500 px-6 py-10 text-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-20",children:[e.jsx("div",{className:"absolute -top-10 -left-10 w-20 h-20 bg-white rounded-full"}),e.jsx("div",{className:"absolute -bottom-10 -right-10 w-32 h-32 bg-white rounded-full"}),e.jsx("div",{className:"absolute top-20 -right-5 w-16 h-16 bg-white rounded-full"})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white rounded-full mb-4 shadow-lg",children:e.jsx(o,{className:"w-10 h-10 text-green-500"})}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Booking Confirmed!"}),e.jsx("p",{className:"text-green-100",children:"Your reservation has been successfully booked,  We've sent a confirmation email with all the details. Have a wonderful stay!"})]})]}),e.jsxs("div",{className:"px-6 py-8",children:[I&&e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsxs("div",{className:"p-5 rounded-xl border border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:[e.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3",children:"Guest Information"}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[null==I?void 0:I.firstName," ",null==I?void 0:I.lastName]}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:null==I?void 0:I.email}),(null==I?void 0:I.phone)&&e.jsx("div",{className:"text-sm text-gray-600",children:null==I?void 0:I.phone})]})})]}),e.jsxs("div",{className:"p-5 rounded-xl border border-teal-200 bg-gradient-to-r from-teal-50 to-white",children:[e.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-teal-700 mb-3",children:"Your Stay Details"}),e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"text-lg font-bold text-gray-900",children:(null==C?void 0:C.name)||(null==D?void 0:D.name)||"Hotel"})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Check-in"}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:B(k)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Check-out"}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:B(S)})]})]}),e.jsx("div",{className:"mb-4 pt-3 border-t border-teal-200",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-teal-100 text-teal-800 rounded-full text-sm font-medium",children:[e.jsx(d,{className:"w-4 h-4"}),e.jsxs("span",{children:[R," ",1===R?"Night":"Nights"," Stay"]})]})}),Array.isArray(M)&&M.length>0&&e.jsx("div",{children:e.jsxs("div",{className:"pt-3 border-t border-teal-200",children:[e.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-teal-700 mb-3",children:"Booked Rooms"}),e.jsx("div",{className:"space-y-2",children:M.map(((t,s)=>e.jsx("div",{className:"bg-white rounded-lg p-3 border border-teal-100",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:(null==t?void 0:t.roomName)||(null==t?void 0:t.RoomTypeName)||(null==t?void 0:t.RoomTypeID)||"Room"}),e.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-1 text-xs text-gray-600 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e.jsxs("span",{children:[(null==t?void 0:t.guestQty)||1," ",1===((null==t?void 0:t.guestQty)||1)?"Guest":"Guests"]})]}),(null==t?void 0:t.option)&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full"}),e.jsx("span",{children:"continental"===t.option?"With Breakfast":"Room Only"})]})]})]}),null!=(null==t?void 0:t.price)&&e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("div",{className:"font-semibold text-teal-600 text-sm",children:r(t.price)}),e.jsx("div",{className:"text-xs text-gray-500",children:"per night"})]})]})},s)))})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:[e.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-2",children:"Booking ID"}),e.jsx("div",{className:"text-base font-bold text-gray-900",children:(null==(c=null==b?void 0:b.data)?void 0:c.ReservationNo)||(null==b?void 0:b.ReservationNo)||(null==(h=null==b?void 0:b.data)?void 0:h.bookingId)||(null==b?void 0:b.bookingId)||"Processing"}),e.jsxs("div",{className:"inline-flex items-center gap-1.5 mt-2 text-xs font-medium text-teal-600",children:[e.jsx("span",{className:"w-2 h-2 bg-teal-500 rounded-full"}),(null==(u=null==b?void 0:b.data)?void 0:u.BookingStatus)||(null==b?void 0:b.BookingStatus)||(null==(v=null==b?void 0:b.data)?void 0:v.status)||(null==b?void 0:b.status)||"Confirmed"]})]}),e.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 bg-white",children:[e.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-2",children:"Payment Method"}),e.jsx("div",{className:"text-base font-semibold text-gray-900",children:"pay-at-hotel"===w?"Pay at Hotel":"Paid Online"}),"pay-at-hotel"===w?e.jsx("div",{className:"text-xs text-gray-600 mt-2",children:"Payment will be collected at check-in"}):e.jsx("div",{className:"text-xs text-teal-600 font-medium mt-2",children:"Payment completed successfully"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>{const e=localStorage.getItem("user_email");localStorage.clear(),e&&localStorage.setItem("user_email",e),p("/user/profile",{replace:!0,state:{tab:"bookings"}})},className:"w-full group relative overflow-hidden bg-gradient-to-r from-teal-500 to-teal-600 text-white font-semibold py-4 px-6 rounded-xl transition-all duration-300 hover:from-teal-600 hover:to-teal-700 hover:shadow-lg transform hover:scale-[1.02]",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(m,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"See My Bookings"}),e.jsx(n,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})}),e.jsx("button",{onClick:()=>{const e=localStorage.getItem("user_email");localStorage.clear(),e&&localStorage.setItem("user_email",e),p("/",{replace:!0})},className:"w-full group relative overflow-hidden bg-white border-2 border-gray-200 text-gray-700 font-semibold py-4 px-6 rounded-xl transition-all duration-300 hover:border-teal-300 hover:bg-teal-50 hover:text-teal-700 hover:shadow-md transform hover:scale-[1.02]",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(x,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"Continue to Book"}),e.jsx(n,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]})]})]})};
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */export{h as default};
