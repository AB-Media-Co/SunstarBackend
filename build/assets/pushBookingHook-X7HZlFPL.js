var r=(s,n,e)=>new Promise((u,t)=>{var o=a=>{try{c(e.next(a))}catch(i){t(i)}},m=a=>{try{c(e.throw(a))}catch(i){t(i)}},c=a=>a.done?u(a.value):Promise.resolve(a.value).then(o,m);c((e=e.apply(s,n)).next())});import{h as y,g as f,_ as g}from"./react-vendor-CU6lFo1N.js";import{c as p}from"./index-DTQi_YP9.js";const h=()=>f({mutationFn:s=>r(void 0,null,function*(){return(yield p.post("/api/push-booking",s)).data}),onSuccess:s=>{console.log(s),s.success&&g.success(s.message)},onError:s=>{var n,e;console.log(s),g.error(((e=(n=s==null?void 0:s.response)==null?void 0:n.data)==null?void 0:e.message)||"Failed to push booking")}}),F=({hotelCode:s,email:n,apiKey:e})=>y({queryKey:["my-bookings",s,n],queryFn:()=>r(void 0,null,function*(){var u,t;if(!s||!n||!e)return[];try{return(yield p.get("/api/seemybookings",{params:{hotelCode:s,email:n,apiKey:e}})).data}catch(o){throw g.error("Failed to fetch bookings: "+(((t=(u=o==null?void 0:o.response)==null?void 0:u.data)==null?void 0:t.message)||o.message)),o}}),enabled:!!s&&!!n&&!!e,staleTime:3e4,refetchOnWindowFocus:!1});export{F as a,h as u};
