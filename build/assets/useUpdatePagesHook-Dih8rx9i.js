var e=(e,a,t)=>new Promise(((s,i)=>{var n=e=>{try{o(t.next(e))}catch(a){i(a)}},r=e=>{try{o(t.throw(e))}catch(a){i(a)}},o=e=>e.done?s(e.value):Promise.resolve(e.value).then(n,r);o((t=t.apply(e,a)).next())}));import{l as a,h as t,g as s,_ as i}from"./react-vendor-tq68JOgp.js";import{c as n}from"./index-D89k_Hd_.js";import{L as r}from"./Loader-BEd0M6qd.js";const o="default",u="/api/websiteData/amenities",l=()=>e(void 0,null,(function*(){return(yield n.get("/api/websiteData")).data})),d=()=>e(void 0,null,(function*(){return(yield n.get("/api/websiteData/what-makes-us-shine")).data})),c=()=>{var c;const y=a(),{data:m,isLoading:p,error:v}=t({queryKey:["websiteData"],queryFn:l,staleTime:6e4}),{data:h}=t({queryKey:["whatMakesUsShine"],queryFn:d,staleTime:6e4}),w=s({mutationFn:a=>e(void 0,null,(function*(){return(yield n.post(u,a)).data})),onSuccess:()=>{i.success("Amenity added successfully!"),y.invalidateQueries({queryKey:["websiteData"]})},onError:e=>i.error(`Failed to add amenity: ${e.message}`)}),g=s({mutationFn:a=>e(void 0,[a],(function*({id:e,amenity:a}){return(yield n.put(`${u}/${e}`,a)).data})),onSuccess:()=>{i.success("Amenity updated successfully!"),y.invalidateQueries({queryKey:["websiteData"]})},onError:e=>i.error(`Failed to update amenity: ${e.message}`)}),f=s({mutationFn:a=>e(void 0,null,(function*(){return(yield n.delete(`${u}/${a}`)).data})),onSuccess:()=>{i.success("Amenity deleted successfully!"),y.invalidateQueries({queryKey:["websiteData"]})},onError:e=>i.error(`Failed to delete amenity: ${e.message}`)}),D=s({mutationFn:a=>e(void 0,null,(function*(){const e=a&&Array.isArray(a.images)&&Array.isArray(a.content)?{path:o,massonaryGrid:{images:a.images,content:a.content}}:{path:(null==a?void 0:a.path)||o,massonaryGrid:(null==a?void 0:a.massonaryGrid)||{images:[],content:[]}};return(yield n.post("/api/websiteData/images",e)).data})),onSuccess:(e,a)=>{const t=a&&a.path||a&&a.massonaryGrid&&o||o;i.success(`Gallery updated for "${t}"!`),y.invalidateQueries({queryKey:["websiteData"]}),y.invalidateQueries({queryKey:["websiteData","gallery",t]})},onError:e=>i.error(`Failed to update gallery: ${e.message}`)}),S=s({mutationFn:a=>e(void 0,null,(function*(){return(yield n.post("/api/websiteData/shine",a)).data})),onSuccess:()=>{i.success("Shine Section Updated successfully!"),y.invalidateQueries({queryKey:["websiteData"]})},onError:e=>i.error(`Failed to update: ${e.message}`)}),F=s({mutationFn:a=>e(void 0,null,(function*(){return(yield n.post("/api/websiteData/what-makes-us-shine",a)).data})),onSuccess:()=>{i.success("What Makes Us Shine saved!"),y.invalidateQueries({queryKey:["websiteData"]}),y.invalidateQueries({queryKey:["whatMakesUsShine"]})},onError:e=>{var a,t;return i.error((null==(t=null==(a=null==e?void 0:e.response)?void 0:a.data)?void 0:t.error)||`Failed to save: ${e.message}`)}}),b=s({mutationFn:a=>e(void 0,null,(function*(){return(yield n.put("/api/websiteData/what-makes-us-shine/items",{items:a})).data})),onSuccess:()=>{i.success("Shine items replaced!"),y.invalidateQueries({queryKey:["websiteData"]}),y.invalidateQueries({queryKey:["whatMakesUsShine"]})},onError:e=>{var a,t;return i.error((null==(t=null==(a=null==e?void 0:e.response)?void 0:a.data)?void 0:t.error)||`Failed to replace items: ${e.message}`)}}),q=s({mutationFn:a=>e(void 0,[a],(function*({index:e,patch:a}){return(yield n.patch(`/api/websiteData/what-makes-us-shine/items/${e}`,a)).data})),onSuccess:(e,a)=>{i.success(`Shine item ${null==a?void 0:a.index} updated!`),y.invalidateQueries({queryKey:["websiteData"]}),y.invalidateQueries({queryKey:["whatMakesUsShine"]})},onError:e=>{var a,t;return i.error((null==(t=null==(a=null==e?void 0:e.response)?void 0:a.data)?void 0:t.error)||`Failed to update item: ${e.message}`)}}),A=s({mutationFn:a=>e(void 0,null,(function*(){return(yield n.post("/api/websiteData/heroSection",a)).data})),onSuccess:()=>{i.success("Hero Section Updated successfully!"),y.invalidateQueries({queryKey:["websiteData"]})},onError:e=>i.error(`Failed to add: ${e.message}`)}),K=s({mutationFn:a=>e(void 0,null,(function*(){return(yield n.post("/api/websiteData/what-we-Offering",a)).data})),onSuccess:()=>{i.success("What-we-Offering Section Updated successfully!"),y.invalidateQueries({queryKey:["websiteData"]})},onError:e=>i.error(`Failed to add: ${e.message}`)}),$=s({mutationFn:a=>e(void 0,null,(function*(){return(yield n.post("/api/websiteData/whysunstarValue",a)).data})),onSuccess:()=>{i.success("Value Section Updated successfully!"),y.invalidateQueries({queryKey:["websiteData"]})},onError:e=>i.error(`Failed to add: ${e.message}`)}),U=s({mutationFn:a=>e(void 0,null,(function*(){return(yield n.post("/api/websiteData/testimonial",a)).data})),onSuccess:()=>{i.success("testimonial Updated successfully!"),y.invalidateQueries({queryKey:["websiteData"]})},onError:e=>i.error(`Failed to add: ${e.message}`)}),Q=s({mutationFn:a=>e(void 0,null,(function*(){return(yield n.post("/api/websiteData/coorporate-Booking",a)).data})),onSuccess:()=>{i.success("CoorporateBooking Updated successfully!"),y.invalidateQueries({queryKey:["websiteData"]})},onError:e=>i.error(`Failed to add: ${e.message}`)}),E=s({mutationFn:a=>e(void 0,null,(function*(){return(yield n.post("/api/websiteData/homePageDescription",a)).data})),onSuccess:()=>{i.success("Description Updated successfully!"),y.invalidateQueries({queryKey:["websiteData"]})},onError:e=>i.error(`Failed to add: ${e.message}`)}),k=s({mutationFn:a=>e(void 0,null,(function*(){return(yield n.post("/api/websiteData/updateFaqs",a)).data})),onSuccess:()=>{i.success("Faq Updated successfully!"),y.invalidateQueries({queryKey:["websiteData"]})},onError:e=>i.error(`Failed to add: ${e.message}`)}),P=s({mutationFn:a=>e(void 0,null,(function*(){return(yield n.post("/api/websiteData/contactUs",a)).data})),onSuccess:()=>{i.success("contactUs Updated successfully!"),y.invalidateQueries({queryKey:["websiteData"]})},onError:e=>i.error(`Failed to add: ${e.message}`)}),C=s({mutationFn:a=>e(void 0,null,(function*(){return(yield n.put("/api/websiteData/home-partners",a)).data})),onSuccess:()=>{i.success("Home Partners saved successfully!"),y.invalidateQueries({queryKey:["websiteData"]})},onError:e=>{var a,t;const s=(null==(t=null==(a=null==e?void 0:e.response)?void 0:a.data)?void 0:t.message)||(null==e?void 0:e.message)||"Failed to save Home Partners";i.error(s)}});return{websiteData:m,whatMakesUsShineData:h,amenities:(null==m?void 0:m.amenities)||[],galleryImages:(null==m?void 0:m.grid)||{},shineSection:(null==m?void 0:m.shineSection)||[],heroSectionUpdate:(null==m?void 0:m.heroSection)||[],offeringSection:(null==m?void 0:m.whatWeOffers)||[],whysunstarValue:(null==(c=null==m?void 0:m.WhySunstar)?void 0:c.WhySunstarValue)||[],Testimonials:(null==m?void 0:m.Testimonials)||[],CoorporateBooking:(null==m?void 0:m.CoorporateBooking)||[],homePageDescription:(null==m?void 0:m.homePageDescription)||[],faqs:(null==m?void 0:m.faqs)||[],ContactUsDetail:(null==m?void 0:m.ContactUsDetail)||[],homePartners:(null==m?void 0:m.HomePartners)||{logos:[]},getGalleryByPath:(e=o)=>{var a,t;const s=(null==m?void 0:m.grid)||{};return null!=(t=null!=(a=null==s?void 0:s[e])?a:null==s?void 0:s[o])?t:{images:[],content:[]}},addAmenity:w.mutateAsync,updateAmenity:g.mutateAsync,deleteAmenity:f.mutateAsync,addGalleryImages:D.mutateAsync,updateShineSection:S.mutateAsync,upsertWhatMakesUsShine:F.mutateAsync,replaceShineItems:b.mutateAsync,patchShineItem:q.mutateAsync,updateHerosection:A.mutateAsync,updateOfferingSection:K.mutateAsync,updateWhySunstarValueection:$.mutateAsync,updateTestimonials:U.mutateAsync,updtateCoorporateBooking:Q.mutateAsync,updateHomepageDescriptionData:E.mutateAsync,updateFaq:k.mutateAsync,updateContactUs:P.mutateAsync,saveHomePartners:C.mutateAsync,loading:p,Loader:r,error:v}};export{c as u};
