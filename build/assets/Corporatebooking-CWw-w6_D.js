import{l as S,j as e,n as E,o as P,p as T,q as O,r as c,X as A,f as F,h as q,i as D,s as L,T as B,t as R,F as _}from"./index-BSjy0yYP.js";import{B as N}from"./BannerSection-BEAuKFDW.js";const $=({page:o="Sunstar Enquiry",gid:r=[0]})=>{const{mutate:i,isLoading:l}=S(),a=[{name:"name",placeholder:"Name"},{name:"email",type:"email",placeholder:"Email"},{name:"phone",placeholder:"Phone",colSpan:"md:col-span-2"},{name:"decisionMaker",placeholder:"Designation"},{name:"companyName",placeholder:"Company Name"},{name:"address",type:"dropdown",placeholder:"Corporate Booking",options:[{value:"general",label:"General Enquiry"},{value:"support",label:"Support"},{value:"sales",label:"Sales"}],required:!0},{name:"enquiry",type:"textarea",placeholder:"Your Enquiry",rows:4,colSpan:"md:col-span-2"}],u=(p,n)=>{i({...p,page:o,gid:r},n)};return e.jsx(E,{title:"Sunstar Enquiry Form",subtitle:"Get Connected (For Corporates & Travel Agents to register their interest)",fields:a,onSubmit:u,isLoading:l})},G=({open:o,onClose:r})=>{const i=P(),l=T(),a=O(),[u,p]=c.useState("form"),[n,g]=c.useState({name:"",email:"",phone:"",companyName:"",gstNumber:"",city:"",role:"corporate"}),[b,f]=c.useState(""),[d,y]=c.useState(120);c.useEffect(()=>{o||(p("form"),g({name:"",email:"",phone:"",companyName:"",gstNumber:"",city:"",role:"corporate"}),f(""),y(120))},[o]),c.useEffect(()=>{if(u!=="otp"||d<=0)return;const s=setInterval(()=>y(t=>t-1),1e3);return()=>clearInterval(s)},[u,d]);const j=c.useMemo(()=>{const s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email),t=/^\d{7,}$/.test(n.phone);return!n.name.trim()||!s||!t||i.isPending},[n,i.isPending]),v=c.useMemo(()=>b.trim().length!==6||l.isPending,[b,l.isPending]),w=s=>{s.preventDefault(),i.mutate({name:n.name.trim(),email:n.email.trim().toLowerCase(),phone:n.phone.trim(),role:"corporate"},{onSuccess:t=>{p("otp"),y(120)},onError:t=>{var x,h;const m=((h=(x=t==null?void 0:t.response)==null?void 0:x.data)==null?void 0:h.message)||"Signup failed";console.error(m)}})},C=s=>{s.preventDefault(),l.mutate({email:n.email.trim().toLowerCase(),otp:b.trim()},{onSuccess:t=>{var m;t!=null&&t.ok?(localStorage.setItem("user_email",((m=t==null?void 0:t.data)==null?void 0:m.email)||n.email.trim().toLowerCase()),r==null||r()):console.error((t==null?void 0:t.message)||"Verification failed")},onError:t=>{var x,h;const m=((h=(x=t==null?void 0:t.response)==null?void 0:x.data)==null?void 0:h.message)||"Invalid or expired OTP";console.error(m)}})},k=()=>{d>0||a.mutate({email:n.email.trim().toLowerCase(),phone:n.phone.trim(),name:n.name.trim(),role:"corporate"},{onSuccess:s=>{y(120)},onError:s=>{var t,m;console.error(((m=(t=s==null?void 0:s.response)==null?void 0:t.data)==null?void 0:m.message)||"Failed to resend OTP")}})};return o?e.jsxs("div",{className:"fixed inset-0 z-[1000]",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:r}),e.jsxs("div",{className:"relative mx-auto mt-16 w-[92%] max-w-2xl bg-white rounded-2xl shadow-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:u==="form"?"Corporate Booking Signup":"Enter OTP"}),e.jsx("button",{onClick:r,className:"p-1 rounded-full hover:bg-gray-100",children:e.jsx(A,{className:"w-5 h-5"})})]}),u==="form"?e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",value:n.name,onChange:s=>g(t=>({...t,name:s.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"Corporate Contact Name",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:n.email,onChange:s=>g(t=>({...t,email:s.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"you@company.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e.jsx("input",{type:"tel",value:n.phone,onChange:s=>g(t=>({...t,phone:s.target.value.replace(/\D/g,"")})),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"9876543210",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name (optional)"}),e.jsx("input",{type:"text",value:n.companyName,onChange:s=>g(t=>({...t,companyName:s.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"Company Pvt Ltd"})]}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GST No. (optional)"}),e.jsx("input",{type:"text",value:n.gstNumber,onChange:s=>g(t=>({...t,gstNumber:s.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"22AAAAA0000A1Z5"})]}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City (optional)"}),e.jsx("input",{type:"text",value:n.city,onChange:s=>g(t=>({...t,city:s.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"Gurugram"})]})]}),e.jsx("button",{type:"submit",disabled:j,className:`w-full rounded-lg px-4 py-2 font-semibold text-white transition ${j?"bg-gray-400 cursor-not-allowed":"bg-primary-green hover:brightness-110"}`,children:i.isPending?"Sending OTP...":"Get OTP"}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"By continuing you agree to receive a one-time password on your email."})]}):e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["We sent a 6-digit code to ",e.jsx("b",{children:n.email}),". Enter it below to verify your login."]}),e.jsx("input",{type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:6,value:b,onChange:s=>f(s.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full text-center tracking-[0.5em] text-2xl rounded-lg border border-gray-300 px-3 py-3 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"______",autoFocus:!0}),e.jsx("button",{type:"submit",disabled:v,className:`w-full rounded-lg px-4 py-2 font-semibold text-white transition ${v?"bg-gray-400 cursor-not-allowed":"bg-primary-green hover:brightness-110"}`,children:l.isPending?"Verifying...":"Verify & Continue"}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsx("button",{type:"button",onClick:()=>p("form"),className:"underline underline-offset-2",children:"Change email"}),e.jsx("button",{type:"button",onClick:k,disabled:d>0||a.isPending,className:`underline underline-offset-2 ${d>0?"opacity-50 cursor-not-allowed":""}`,title:d>0?`Resend in ${d}s`:"Resend OTP",children:d>0?`Resend in ${d}s`:a.isPending?"Resending...":"Resend OTP"})]}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Didnâ€™t receive the email? Check your spam folder or try resending."})]})]})]}):null},I=({data:o})=>e.jsxs("section",{className:"content",children:[e.jsx("div",{className:" mx-auto  pt-10",children:e.jsx("h1",{className:"text-mobile/h2 md:text-desktop/h3 font-bold md:font-bold text-black text-center md:text-left mb-8 text-reveal-animation",children:"Exclusive Corporate Benefits"})}),e.jsx("div",{className:" mx-auto  pb-12",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-10 gap-y-12",children:o==null?void 0:o.map((i,l)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-mobile/h5 md:text-desktop/h5/medium text-gray-900 leading-snug",children:i.title}),e.jsx("p",{className:"text-gray-600 text-mobile/body/2 md:text-desktop/body/1 leading-6",children:i.description})]},l))})})]}),V=[{id:1,title:"Why Sunstar?",description:"Discover who we are, what we believe in, and the purpose that drives our journey.",buttonText:"Check us out",illustration:"/images/whybloom.svg"},{id:2,title:"Travel",description:"Explore breathtaking destinations, curated experiences, and memorable stays with us.",buttonText:"Discover trips",illustration:"/images/travel.svg"},{id:3,title:"Conference & Events",description:"Plan business meets, celebrations, and gatherings with seamless support & venues.",buttonText:"View event spaces",illustration:"/images/conf.svg"}],W=()=>{var p;const{CoorporateBooking:o}=F(),{data:r}=q(),[i,l]=c.useState(!1),a=Array.isArray(r)?r.find(n=>n.page==="corporatebooking"):null;c.useEffect(()=>{window.scrollTo(0,0)},[]);const u=()=>{l(!0)};return e.jsxs("div",{children:[e.jsxs(D,{children:[e.jsx("title",{children:(a==null?void 0:a.metaTitle)||"CoorporateBooking"}),e.jsx("meta",{name:"description",content:(a==null?void 0:a.metaDescription)||""}),e.jsx("meta",{name:"keywords",content:((p=a==null?void 0:a.metaKeywords)==null?void 0:p.join(", "))||""})]}),e.jsx(N,{data:o==null?void 0:o.CoorporateBookingHeadContent,text:"text-mobile/h2 md:text-desktop/h2",lineh:"text-mobile/body/1 md:leading-[50px]",paddTop:"pt-[80px]",imgClass:"px-10",buttton:!0,onButtonClick:u}),e.jsx(N,{data:o==null?void 0:o.CoorporateBookingDescription,text:"text-mobile/h3 md:text-desktop/h3",textC:"black",ptext:"text-mobile/body/2 md:text-[16px] ",lineh:"text-mobile/body/1 md:leading-[50px]",bg:"bg-primary-white",paddTop:"pt-0",imgClass:"px-10"}),e.jsx("hr",{className:"content"}),e.jsx(I,{data:o==null?void 0:o.BenefitsSection}),e.jsx(L,{}),e.jsx(B,{page:"coorporatebooking"}),e.jsx($,{}),e.jsx(R,{infoCards:V}),e.jsx(_,{pageName:"corporate-booking"}),e.jsx(G,{open:i,onClose:()=>l(!1)})]})};export{W as default};
