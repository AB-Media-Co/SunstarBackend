import{j as e}from"./ui-vendor-ib5n1sau.js";import{a as t,b as r}from"./react-vendor-TJBKpoaW.js";import{useGetHotels as a}from"./useHotelHook2-Dg3SXKg3.js";import{h as l,i as s,j as n}from"./useDayUseRoomHook-BA0ZeLRF.js";import{f as o}from"./utils-iyq1-MzM.js";import{o as i,K as d,y as u,n as c,L as m,d as x,h,i as g,e as p,u as f,g as b,T as v,p as j,a as y,s as w,I as N,f as C,t as E,c as k,O as F}from"./use-is-mounted-COoFf7n5.js";import{I as S,i as D,E as L,l as M,n as R,u as T,a as P,b as A,c as I,t as O,d as $,e as B,o as U,y as z,H,x as Y,S as q,k as V,f as W,p as _,s as G,g as K,h as J,q as Q,C as X,P as Z,z as ee,F as te}from"./transition-Cnv31Yp1.js";import"./query-vendor-B-W3jWpx.js";import"./index-Bl04lSVd.js";let re=t.createContext(void 0);let ae=t.createContext(null);function le(){let e=t.useContext(ae);if(null===e){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,le),e}return e}ae.displayName="DescriptionContext";let se=d((function(e,r){let a=t.useId(),l=t.useContext(re),{id:s=`headlessui-description-${a}`,...n}=e,o=le(),i=u(r);c((()=>o.register(s)),[s,o.register]);let d=l||!1,x=t.useMemo((()=>({...o.slot,disabled:d})),[o.slot,d]),h={ref:i,...o.props,id:s};return m()({ourProps:h,theirProps:n,slot:x,defaultTag:"p",name:o.name||"Description"})})),ne=Object.assign(se,{}),oe=new Map,ie=new Map;function de(e){var t;let r=null!=(t=ie.get(e))?t:0;return ie.set(e,r+1),0!==r||(oe.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0),()=>ue(e)}function ue(e){var t;let r=null!=(t=ie.get(e))?t:1;if(1===r?ie.delete(e):ie.set(e,r-1),1!==r)return;let a=oe.get(e);a&&(null===a["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",a["aria-hidden"]),e.inert=a.inert,oe.delete(e))}function ce(e,r){let a=t.useRef([]),l=i(e);t.useEffect((()=>{let e=[...a.current];for(let[t,s]of r.entries())if(a.current[t]!==s){let t=l(r,e);return a.current=r,t}}),[l,...r])}let me=[];function xe(e){if(!e)return new Set;if("function"==typeof e)return new Set(e());let t=new Set;for(let r of e.current)O(r.current)&&t.add(r.current);return t}!function(e){function t(){"loading"!==document.readyState&&(e(),document.removeEventListener("DOMContentLoaded",t))}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("DOMContentLoaded",t),t())}((()=>{function e(e){if(!D(e.target)||e.target===document.body||me[0]===e.target)return;let t=e.target;t=t.closest(g),me.unshift(null!=t?t:e.target),me=me.filter((e=>null!=e&&e.isConnected)),me.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})}));var he,ge=((he=ge||{})[he.None=0]="None",he[he.InitialFocus=1]="InitialFocus",he[he.TabLock=2]="TabLock",he[he.FocusLock=4]="FocusLock",he[he.RestoreFocus=8]="RestoreFocus",he[he.AutoFocus=16]="AutoFocus",he);let pe=d((function(e,a){let l=t.useRef(null),s=u(l,a),{initialFocus:n,initialFocusFallback:o,containers:d,features:c=15,...x}=e;M()||(c=0);let h=R(l);!function(e,{ownerDocument:r}){let a=!!(8&e),l=function(e=!0){let r=t.useRef(me.slice());return ce((([e],[t])=>{!0===t&&!1===e&&E((()=>{r.current.splice(0)})),!1===t&&!0===e&&(r.current=me.slice())}),[e,me,r]),i((()=>{var e;return null!=(e=r.current.find((e=>null!=e&&e.isConnected)))?e:null}))}(a);ce((()=>{a||(null==r?void 0:r.activeElement)===(null==r?void 0:r.body)&&N(l())}),[a]),I((()=>{a&&N(l())}))}(c,{ownerDocument:h});let g=function(e,{ownerDocument:r,container:a,initialFocus:l,initialFocusFallback:s}){let n=t.useRef(null),o=S(!!(1&e),"focus-trap#initial-focus"),i=C();return ce((()=>{if(0===e)return;if(!o)return void(null!=s&&s.current&&N(s.current));let t=a.current;t&&E((()=>{if(!i.current)return;let a=null==r?void 0:r.activeElement;if(null!=l&&l.current){if((null==l?void 0:l.current)===a)return void(n.current=a)}else if(t.contains(a))return void(n.current=a);if(null!=l&&l.current)N(l.current);else{if(16&e){if(b(t,v.First|v.AutoFocus)!==k.Error)return}else if(b(t,v.First)!==k.Error)return;if(null!=s&&s.current&&(N(s.current),(null==r?void 0:r.activeElement)===s.current))return}n.current=null==r?void 0:r.activeElement}))}),[s,o,e]),n}(c,{ownerDocument:h,container:l,initialFocus:n,initialFocusFallback:o});!function(e,{ownerDocument:t,container:r,containers:a,previousActiveElement:l}){let s=C(),n=!!(4&e);L(null==t?void 0:t.defaultView,"focus",(e=>{if(!n||!s.current)return;let t=xe(a);P(r.current)&&t.add(r.current);let o=l.current;if(!o)return;let i=e.target;P(i)?be(t,i)?(l.current=i,N(i)):(e.preventDefault(),e.stopPropagation(),N(o)):N(l.current)}),!0)}(c,{ownerDocument:h,container:l,containers:d,previousActiveElement:g});let p=T(),F=i((e=>{if(!P(l.current))return;let t=l.current;f(p.current,{[A.Forwards]:()=>{b(t,v.First,{skipElements:[e.relatedTarget,o]})},[A.Backwards]:()=>{b(t,v.Last,{skipElements:[e.relatedTarget,o]})}})})),O=S(!!(2&c),"focus-trap#tab-lock"),$=j(),B=t.useRef(!1),U={ref:s,onKeyDown(e){"Tab"==e.key&&(B.current=!0,$.requestAnimationFrame((()=>{B.current=!1})))},onBlur(e){if(!(4&c))return;let t=xe(d);P(l.current)&&t.add(l.current);let r=e.relatedTarget;D(r)&&"true"!==r.dataset.headlessuiFocusGuard&&(be(t,r)||(B.current?b(l.current,f(p.current,{[A.Forwards]:()=>v.Next,[A.Backwards]:()=>v.Previous})|v.WrapAround,{relativeTo:e.target}):D(e.target)&&N(e.target)))}},z=m();return r.createElement(r.Fragment,null,O&&r.createElement(y,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:F,features:w.Focusable}),z({ourProps:U,theirProps:x,defaultTag:"div",name:"FocusTrap"}),O&&r.createElement(y,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:F,features:w.Focusable}))})),fe=Object.assign(pe,{features:ge});function be(e,t){for(let r of e)if(r.contains(t))return!0;return!1}var ve,je,ye=((je=ye||{})[je.Open=0]="Open",je[je.Closed=1]="Closed",je),we=((ve=we||{})[ve.SetTitleId=0]="SetTitleId",ve);let Ne={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},Ce=t.createContext(null);function Ee(e){let r=t.useContext(Ce);if(null===r){let t=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ee),t}return r}function ke(e,t){return f(t.type,Ne,e,t)}Ce.displayName="DialogContext";let Fe=d((function(e,a){let l=t.useId(),{id:s=`headlessui-dialog-${l}`,open:n,onClose:o,initialFocus:d,role:g="dialog",autoFocus:f=!0,__demoMode:b=!1,unmount:v=!1,...j}=e,y=t.useRef(!1);g="dialog"===g||"alertdialog"===g?g:(y.current||(y.current=!0),"dialog");let w=$();void 0===n&&null!==w&&(n=(w&B.Open)===B.Open);let N=t.useRef(null),C=u(N,a),E=R(N),k=n?0:1,[F,D]=t.useReducer(ke,{titleId:null,descriptionId:null,panelRef:t.createRef()}),T=i((()=>o(!1))),P=i((e=>D({type:0,id:e}))),A=!!M()&&0===k,[I,O]=U(),Z={get current(){var e;return null!=(e=F.panelRef.current)?e:N.current}},ee=z(),{resolveContainers:te}=H({mainTreeNode:ee,portals:I,defaultContainers:[Z]}),re=null!==w&&(w&B.Closing)===B.Closing;!function(e,{allowed:t,disallowed:r}={}){let a=S(e,"inert-others");c((()=>{var e,l;if(!a)return;let s=h();for(let t of null!=(e=null==r?void 0:r())?e:[])t&&s.add(de(t));let n=null!=(l=null==t?void 0:t())?l:[];for(let t of n){if(!t)continue;let e=x(t);if(!e)continue;let r=t.parentElement;for(;r&&r!==e.body;){for(let e of r.children)n.some((t=>e.contains(t)))||s.add(de(e));r=r.parentElement}}return s.dispose}),[a,t,r])}(!b&&!re&&A,{allowed:i((()=>{var e,t;return[null!=(t=null==(e=N.current)?void 0:e.closest("[data-headlessui-portal]"))?t:null]})),disallowed:i((()=>{var e;return[null!=(e=null==ee?void 0:ee.closest("body > *:not(#headlessui-portal-root)"))?e:null]}))});let le=Y.get(null);c((()=>{if(A)return le.actions.push(s),()=>le.actions.pop(s)}),[le,s,A]);let se=q(le,t.useCallback((e=>le.selectors.isTop(e,s)),[le,s]));V(se,te,(e=>{e.preventDefault(),T()})),function(e,t=("undefined"!=typeof document?document.defaultView:null),r){let a=S(e,"escape");L(t,"keydown",(e=>{a&&(e.defaultPrevented||e.key===p.Escape&&r(e))}))}(se,null==E?void 0:E.defaultView,(e=>{e.preventDefault(),e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur(),T()})),W(!b&&!re&&A,E,te),_(A,N,T);let[ne,oe]=function(){let[e,a]=t.useState([]);return[e.length>0?e.join(" "):void 0,t.useMemo((()=>function(e){let l=i((e=>(a((t=>[...t,e])),()=>a((t=>{let r=t.slice(),a=r.indexOf(e);return-1!==a&&r.splice(a,1),r}))))),s=t.useMemo((()=>({register:l,slot:e.slot,name:e.name,props:e.props,value:e.value})),[l,e.slot,e.name,e.props,e.value]);return r.createElement(ae.Provider,{value:s},e.children)}),[a])]}(),ie=t.useMemo((()=>[{dialogState:k,close:T,setTitleId:P,unmount:v},F]),[k,F,T,P,v]),ue=t.useMemo((()=>({open:0===k})),[k]),ce={ref:C,id:s,role:g,tabIndex:-1,"aria-modal":b?void 0:0===k||void 0,"aria-labelledby":F.titleId,"aria-describedby":ne,unmount:v},me=!function(){var e;let[r]=t.useState((()=>"undefined"!=typeof window&&"function"==typeof window.matchMedia?window.matchMedia("(pointer: coarse)"):null)),[a,l]=t.useState(null!=(e=null==r?void 0:r.matches)&&e);return c((()=>{if(r)return r.addEventListener("change",e),()=>r.removeEventListener("change",e);function e(e){l(e.matches)}}),[r]),a}(),xe=ge.None;A&&!b&&(xe|=ge.RestoreFocus,xe|=ge.TabLock,f&&(xe|=ge.AutoFocus),me&&(xe|=ge.InitialFocus));let he=m();return r.createElement(G,null,r.createElement(K,{force:!0},r.createElement(J,null,r.createElement(Ce.Provider,{value:ie},r.createElement(Q,{target:N},r.createElement(K,{force:!1},r.createElement(oe,{slot:ue},r.createElement(O,null,r.createElement(fe,{initialFocus:d,initialFocusFallback:N,containers:te,features:xe},r.createElement(X,{value:T},he({ourProps:ce,theirProps:j,slot:ue,defaultTag:Se,features:De,visible:0===k,name:"Dialog"})))))))))))})),Se="div",De=F.RenderStrategy|F.Static;let Le=d((function(e,t){let{transition:a=!1,open:l,...s}=e,n=$(),o=e.hasOwnProperty("open")||null!==n,i=e.hasOwnProperty("onClose");if(!o&&!i)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!i)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!n&&"boolean"!=typeof e.open)throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if("function"!=typeof e.onClose)throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return void 0===l&&!a||s.static?r.createElement(Z,null,r.createElement(Fe,{ref:t,open:l,...s})):r.createElement(Z,null,r.createElement(ee,{show:l,transition:a,unmount:s.unmount},r.createElement(Fe,{ref:t,...s})))})),Me=d((function(e,a){let l=t.useId(),{id:s=`headlessui-dialog-panel-${l}`,transition:n=!1,...o}=e,[{dialogState:d,unmount:c},x]=Ee("Dialog.Panel"),h=u(a,x.panelRef),g=t.useMemo((()=>({open:0===d})),[d]),p={ref:h,id:s,onClick:i((e=>{e.stopPropagation()}))},f=n?te:t.Fragment,b=n?{unmount:c}:{},v=m();return r.createElement(f,{...b},v({ourProps:p,theirProps:o,slot:g,defaultTag:"div",name:"Dialog.Panel"}))}));d((function(e,a){let{transition:l=!1,...s}=e,[{dialogState:n,unmount:o}]=Ee("Dialog.Backdrop"),i=t.useMemo((()=>({open:0===n})),[n]),d={ref:a,"aria-hidden":!0},u=l?te:t.Fragment,c=l?{unmount:o}:{},x=m();return r.createElement(u,{...c},x({ourProps:d,theirProps:s,slot:i,defaultTag:"div",name:"Dialog.Backdrop"}))}));let Re=d((function(e,r){let a=t.useId(),{id:l=`headlessui-dialog-title-${a}`,...s}=e,[{dialogState:n,setTitleId:o}]=Ee("Dialog.Title"),i=u(r);t.useEffect((()=>(o(l),()=>o(null))),[l,o]);let d=t.useMemo((()=>({open:0===n})),[n]),c={ref:i,id:l};return m()({ourProps:c,theirProps:s,slot:d,defaultTag:"h2",name:"Dialog.Title"})})),Te=Object.assign(Le,{Panel:Me,Title:Re,Description:ne});const Pe=()=>{var r,i,d,u;const[c,m]=t.useState(""),[x,h]=t.useState(""),[g,p]=t.useState(null),[f,b]=t.useState(null),[v,j]=t.useState(""),[y,w]=t.useState(!1),[N,C]=t.useState(""),[E,k]=t.useState(""),[F,S]=t.useState(""),[D,L]=t.useState(!1),[M,R]=t.useState([]),[T,P]=t.useState(""),[A,I]=t.useState(""),[O,$]=t.useState(""),{data:B,isLoading:U,error:z}=a(),{data:H,isLoading:Y,error:q}=l(x,c),V=s(),W=n();t.useEffect((()=>{if(F){const e=setTimeout((()=>S("")),5e3);return()=>clearTimeout(e)}}),[F]),t.useEffect((()=>{if(E){const e=setTimeout((()=>k("")),5e3);return()=>clearTimeout(e)}}),[E]);t.useEffect((()=>{const e=o(new Date,"yyyy-MM");x||h(e)}),[B,c,x]);const _=(()=>{const e=new Date,t=[];for(let r=0;r<12;r++){const a=new Date(e.getFullYear(),e.getMonth()+r,1),l=o(a,"yyyy-MM"),s=o(a,"MMMM yyyy");t.push({value:l,label:s})}return t})(),G=(()=>{const e=new Date,t=[];for(let r=0;r<30;r++){const a=new Date(e.getTime()+24*r*60*60*1e3),l=o(a,"yyyy-MM-dd"),s=o(a,"dd MMM yyyy");t.push({value:l,label:s})}return t})(),K=({size:t="md",text:r="Loading..."})=>e.jsxs("div",{className:"flex items-center justify-center p-8",children:[e.jsx("div",{className:`animate-spin rounded-full ${{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[t]} border-b-2 border-blue-600`}),e.jsx("span",{className:"ml-2 text-gray-600",children:r})]}),J=()=>e.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-75 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-2xl p-8 max-w-sm w-full mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Processing Request"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Please wait while we update your data..."})]})})}),Q=()=>e.jsxs("div",{className:"bg-white shadow-sm rounded-xl mb-6 border border-gray-100 overflow-hidden animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 px-6 py-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("div",{className:"h-6 bg-gray-300 rounded w-48 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-32"})]})})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 gap-3",children:[...Array(14)].map(((t,r)=>e.jsx("div",{className:"p-4 rounded-lg border bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-12 mx-auto mb-2"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-8 mx-auto mb-1"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-10 mx-auto"})]})},r)))})})]}),X=({message:t,onClose:r})=>e.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-red-800",children:t})})]}),e.jsx("button",{onClick:r,className:"ml-4 text-red-400 hover:text-red-600",children:e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),Z=({message:t,onClose:r})=>e.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-green-800",children:t})})]}),e.jsx("button",{onClick:r,className:"ml-4 text-green-400 hover:text-green-600",children:e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]});return U?e.jsx("div",{className:"p-6 mt-20 bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"animate-pulse",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-80 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-64"})]}),e.jsx("div",{className:"h-10 bg-gray-300 rounded w-32 mt-4 sm:mt-0"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-24 mb-2"}),e.jsx("div",{className:"h-12 bg-gray-300 rounded w-full"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-24 mb-2"}),e.jsx("div",{className:"h-12 bg-gray-300 rounded w-full"})]})]})})]}),e.jsx(K,{size:"lg",text:"Loading hotels and room data..."})]})}):z?e.jsx("div",{className:"p-6 mt-20 bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Day Use Room Management"}),e.jsx(X,{message:"Failed to load hotels. Please refresh the page.",onClose:()=>{}})]})}):e.jsx("div",{className:"p-6 mt-20 bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Day Use Room Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage room availability across your properties"})]}),e.jsx("button",{onClick:()=>{L(!0),R([]),P(""),I(""),$("")},disabled:Y||U,className:"mt-4 sm:mt-0 px-6 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:Y||U?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Loading..."]}):"Bulk Update"})]}),E&&e.jsx(X,{message:E,onClose:()=>k("")}),F&&e.jsx(Z,{message:F,onClose:()=>S("")}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hotel Selection"}),e.jsxs("select",{value:c,onChange:e=>m(e.target.value),disabled:U,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:U?"Loading hotels...":"All Hotels"}),null==(r=null==B?void 0:B.hotels)?void 0:r.map((t=>e.jsx("option",{value:t.hotelCode.toString(),children:t.name},t.hotelCode)))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month Selection"}),e.jsxs("select",{value:x,onChange:e=>h(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",children:[e.jsx("option",{value:"",children:"Select Month"}),_.map((t=>e.jsx("option",{value:t.value,children:t.label},t.value)))]})]})]})}),Y&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(Q,{}),e.jsx(Q,{}),e.jsx(Q,{})]}),(V.isLoading||W.isLoading)&&e.jsx(J,{}),q&&e.jsx(X,{message:"Failed to load room data. Please try again.",onClose:()=>{}}),!Y&&0===(null==(i=null==H?void 0:H.data)?void 0:i.length)&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8 text-center",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"ðŸ¨"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Room Data Found"}),e.jsx("p",{className:"text-gray-600",children:"Select a hotel and month to view room availability"})]}),!Y&&(null==(d=null==H?void 0:H.data)?void 0:d.map(((t,r)=>{var a,l;return e.jsxs("div",{className:"bg-white shadow-sm rounded-xl mb-6 border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:(null==(a=t.hotel)?void 0:a.name)||"Unknown Hotel"}),e.jsx("p",{className:"text-blue-100 text-sm",children:(null==(l=t.room)?void 0:l.RoomName)||"Unknown Room"})]}),t.error&&e.jsx("div",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Error"})]})}),e.jsx("div",{className:"p-6",children:t.error?e.jsx("div",{className:"text-red-600 bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:e.jsx("p",{className:"font-medium",children:t.error})}):t.monthData?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-6 mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500"}),e.jsx("span",{className:"text-gray-700",children:"Available"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500"}),e.jsx("span",{className:"text-gray-700",children:"Sold Out"})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 gap-3",children:Object.entries(t.monthData).map((([r,a])=>e.jsx("div",{className:`p-4 rounded-lg border cursor-pointer transition-all duration-200 hover:shadow-md transform hover:-translate-y-1 ${a.soldOut?"bg-red-50 border-red-200 hover:bg-red-100":"bg-green-50 border-green-200 hover:bg-green-100"} ${V.isLoading?"pointer-events-none opacity-50":""}`,onClick:()=>{var e;return((e,t,r,a)=>{b(e),p(t),j(r),C(a),w(!0),k("")})(t.room,r,a.availability,null==(e=null==t?void 0:t.hotel)?void 0:e.hotelCode)},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-800 mb-1",children:o(new Date(r),"dd MMM")}),e.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:["â‚¹",a.rate]}),e.jsxs("div",{className:"text-xs font-medium text-gray-700",children:[a.availability," rooms"]})]})},r)))})]}):e.jsx("div",{className:"text-gray-500 text-center py-8",children:"No data available for this period"})})]},r)}))),e.jsxs(Te,{open:y,onClose:()=>w(!1),className:"relative z-50",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm","aria-hidden":"true"}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:e.jsxs(Te.Panel,{className:"w-full max-w-md rounded-xl bg-white p-6 shadow-2xl",children:[e.jsx(Te.Title,{className:"text-xl font-semibold text-gray-900 mb-4",children:"Update Room Availability"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Room:"}),e.jsx("p",{className:"font-medium text-gray-900",children:null==f?void 0:f.RoomName}),e.jsx("p",{className:"text-sm text-gray-600 mt-2 mb-1",children:"Date:"}),e.jsx("p",{className:"font-medium text-gray-900",children:g})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Availability"}),e.jsx("input",{type:"number",min:"0",value:v,onChange:e=>j(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter new availability"})]}),E&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-800",children:E})}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),e.jsxs("button",{onClick:async()=>{if(k(""),!v||Number(v)<0)k("Please enter a valid availability number");else try{await V.mutateAsync({hotelCode:N,roomName:null==f?void 0:f.RoomName,date:g,timeSlot:"Full Day",availability:Number(v)}),S("Room availability updated successfully"),w(!1)}catch(e){k("Failed to update availability. Please try again.")}},disabled:V.isLoading,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[V.isLoading&&e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),V.isLoading?"Saving...":"Save Changes"]})]})]})})]}),e.jsxs(Te,{open:D,onClose:()=>L(!1),className:"relative z-50",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm","aria-hidden":"true"}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:e.jsxs(Te.Panel,{className:"w-full max-w-2xl rounded-xl bg-white p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Te.Title,{className:"text-xl font-semibold text-gray-900 mb-6",children:"Bulk Update Room Availability"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Date"}),e.jsxs("select",{value:T,onChange:e=>P(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",children:[e.jsx("option",{value:"",children:"Choose a date"}),G.map((t=>e.jsx("option",{value:t.value,children:t.label},t.value)))]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Hotels",e.jsxs("span",{className:"ml-2 px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs",children:[M.length," selected"]})]}),e.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-300 rounded-lg p-3 bg-gray-50",children:null==(u=null==B?void 0:B.hotels)?void 0:u.filter((e=>null==e?void 0:e.isDayUseRoom)).map((t=>e.jsxs("div",{className:"flex items-center p-2 hover:bg-white rounded-lg transition-colors duration-200",children:[e.jsx("input",{type:"checkbox",id:`hotel-${t.hotelCode}`,checked:M.includes(t.hotelCode.toString()),onChange:()=>{return e=t.hotelCode.toString(),R((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e])),void $("");var e},className:"h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),e.jsx("label",{htmlFor:`hotel-${t.hotelCode}`,className:"ml-3 text-sm text-gray-700 cursor-pointer flex-1",children:t.name})]},t.hotelCode)))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Availability"}),e.jsx("input",{type:"number",min:"0",value:A,onChange:e=>I(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"Enter availability for all selected hotels"})]}),O&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-800",children:O})}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),e.jsxs("button",{onClick:async()=>{var e;if($(""),T&&0!==M.length&&""!==A)if(Number(A)<0)$("Availability cannot be negative");else try{const t=[];if(null==(e=null==H?void 0:H.data)||e.forEach((e=>{var r,a,l;M.includes(null==(a=null==(r=e.hotel)?void 0:r.hotelCode)?void 0:a.toString())&&t.push({hotelCode:e.hotel.hotelCode.toString(),roomName:null==(l=e.room)?void 0:l.RoomName,timeSlot:"Full Day",availability:Number(A)})})),0===t.length)return void $("No rooms found for selected hotels");const r={date:T,updates:t};await W.mutateAsync(r),S(`Successfully updated ${t.length} room(s) for ${M.length} hotel(s)`),L(!1)}catch(t){$("Failed to update rooms. Please try again.")}else $("Please select date, hotels, and availability")},disabled:W.isLoading,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[W.isLoading&&e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),W.isLoading?"Updating...":"Update All Hotels"]})]})]})})]})]})})};export{Pe as default};
