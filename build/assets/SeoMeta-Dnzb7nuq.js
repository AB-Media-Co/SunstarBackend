var e=Object.defineProperty,a=Object.defineProperties,r=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(a,r,t)=>r in a?e(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,n=(e,a)=>{for(var r in a||(a={}))i.call(a,r)&&o(e,r,a[r]);if(t)for(var r of t(a))s.call(a,r)&&o(e,r,a[r]);return e},l=(e,t)=>a(e,r(t));import{r as d,j as c}from"./react-vendor-tq68JOgp.js";import{u as m,a as p,b as j,c as x}from"./useMetaHook-llqDwa3j.js";import{am as h,q as g,a7 as u,o as v,a9 as y,aa as w,ab as b,ac as f,ad as D,D as C,aQ as T,aR as P,aS as K,aT as M,aU as E,aV as O,ao as A}from"./ui-vendor-DiJ4VKpG.js";import"./animation-vendor-DJegggv9.js";import"./vendor-DwD9zxym.js";import"./query-vendor-iDpT9gG9.js";import"./swiper-vendor-DEzR9mKq.js";import"./date-vendor-9E3U4XI3.js";import"./index-D89k_Hd_.js";const L=()=>{const e=["home","whysunstar","corporatebooking","contactus","hotels","rooms","privacy policy","blogs","T&C and Cancellation policies","Privacy policies","Loyalty Program","Coorporate Events","Social Events","Wedding Pre Wedding Events","developersowners","career","in-the-media","travel-agent","TourAndTravel"],{data:a,isLoading:r,isError:t}=m(),i=p(),s=j(),o=x(),[L,S]=d.useState({id:"",page:"",metaTitle:"",metaDescription:"",metaKeywords:""}),k=a&&Array.isArray(a)?L.id?e.filter((e=>e===L.page||!a.some((a=>a.page.toLowerCase()===e.toLowerCase())))):e.filter((e=>!a.some((a=>a.page.toLowerCase()===e.toLowerCase())))):e,q=()=>{S({id:"",page:"",metaTitle:"",metaDescription:"",metaKeywords:""})};return c.jsxs(h,{sx:{mt:4},children:[c.jsx(g,{variant:"h4",gutterBottom:!0,children:"SEO Meta Admin Panel"}),0===k.length?c.jsx("div",{className:"text-lg text-red-500 my-10",children:"All predefined  have a meta entry Please Edit  them Now."}):c.jsx(u,{sx:{p:2,mb:4},children:c.jsx("form",{onSubmit:e=>{e.preventDefault();const a=L.metaKeywords.split(",").map((e=>e.trim())).filter(Boolean),r={page:L.page,metaTitle:L.metaTitle,metaDescription:L.metaDescription,metaKeywords:a};L.id?s.mutate({id:L.id,updateData:r}):i.mutate(r),q()},children:c.jsxs(v,{sx:{display:"flex",flexDirection:"column",gap:2},children:[c.jsxs(y,{fullWidth:!0,required:!0,children:[c.jsx(w,{id:"page-label",children:"Page"}),c.jsx(b,{labelId:"page-label",id:"page",value:L.page,label:"Page",onChange:e=>S(l(n({},L),{page:e.target.value})),children:k.map((e=>c.jsx(f,{value:e,children:e},e)))})]}),c.jsx(D,{label:"Meta Title",value:L.metaTitle,onChange:e=>S(l(n({},L),{metaTitle:e.target.value})),required:!0}),c.jsx(D,{label:"Meta Description",value:L.metaDescription,onChange:e=>S(l(n({},L),{metaDescription:e.target.value})),required:!0,multiline:!0,rows:3}),c.jsx(D,{label:"Meta Keywords (comma separated)",value:L.metaKeywords,onChange:e=>S(l(n({},L),{metaKeywords:e.target.value}))}),c.jsxs(v,{sx:{display:"flex",gap:2},children:[c.jsx(C,{type:"submit",variant:"contained",color:"primary",children:L.id?"Update Meta":"Add Meta"}),c.jsx(C,{variant:"outlined",onClick:q,children:"Clear"})]})]})})}),c.jsxs(u,{sx:{p:2},children:[c.jsx(g,{variant:"h5",gutterBottom:!0,children:"Existing Meta Entries"}),r?c.jsx(g,{children:"Loading..."}):t?c.jsx(g,{color:"error",children:"Error loading meta entries."}):c.jsxs(T,{children:[c.jsx(P,{children:c.jsxs(K,{children:[c.jsx(M,{children:"Page"}),c.jsx(M,{children:"Meta Title"}),c.jsx(M,{children:"Meta Description"}),c.jsx(M,{children:"Meta Keywords"}),c.jsx(M,{align:"right",children:"Actions"})]})}),c.jsx(E,{children:a&&a.map((e=>c.jsxs(K,{className:"capitalize",children:[c.jsx(M,{children:e.page}),c.jsx(M,{children:e.metaTitle}),c.jsx(M,{children:e.metaDescription}),c.jsx(M,{children:e.metaKeywords.join(", ")}),c.jsxs(M,{align:"right",children:[c.jsx(C,{variant:"outlined",onClick:()=>(e=>{S({id:e._id,page:e.page,metaTitle:e.metaTitle,metaDescription:e.metaDescription,metaKeywords:e.metaKeywords.join(", ")})})(e),sx:{mr:1},children:c.jsx(O,{})}),c.jsx(C,{variant:"outlined",color:"error",onClick:()=>{return a=e._id,void(window.confirm("Are you sure you want to delete this meta entry?")&&o.mutate(a));var a},children:c.jsx(A,{})})]})]},e._id)))})]})]})]})};export{L as default};
