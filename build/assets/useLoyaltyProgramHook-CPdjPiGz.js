import{a,b as e,u as r}from"./query-vendor-B-W3jWpx.js";import{c as s,d as o}from"./index-Bl04lSVd.js";const t=(e={})=>a({queryKey:["loyaltyProgram"],queryFn:async()=>(await s.get("/api/loyalty")).data,staleTime:3e4,refetchOnWindowFocus:!1,...e}),n=()=>{const a=e();return r({mutationFn:async a=>(await s.put("/api/loyalty",a)).data,onSuccess:e=>{o.success("Loyalty Program saved"),a.invalidateQueries({queryKey:["loyaltyProgram"]})},onError:a=>{var e,r;const s=(null==(r=null==(e=null==a?void 0:a.response)?void 0:e.data)?void 0:r.message)??(null==a?void 0:a.message)??"Error saving program";o.error(s)}})},l=()=>{const a=e();return r({mutationFn:async a=>(await s.post("/api/loyalty/tiers",a)).data,onSuccess:()=>{o.success("Tier added"),a.invalidateQueries({queryKey:["loyaltyProgram"]})},onError:a=>{var e,r;const s=(null==(r=null==(e=null==a?void 0:a.response)?void 0:e.data)?void 0:r.message)??(null==a?void 0:a.message)??"Error adding tier";o.error(s)}})},i=()=>{const a=e();return r({mutationFn:async({level:a,updateData:e})=>(await s.put(`/api/loyalty/tiers/${a}`,e)).data,onSuccess:()=>{o.success("Tier updated"),a.invalidateQueries({queryKey:["loyaltyProgram"]})},onError:a=>{var e,r;const s=(null==(r=null==(e=null==a?void 0:a.response)?void 0:e.data)?void 0:r.message)??(null==a?void 0:a.message)??"Error updating tier";o.error(s)}})},u=()=>{const a=e();return r({mutationFn:async a=>(await s.delete(`/api/loyalty/tiers/${a}`)).data,onSuccess:()=>{o.success("Tier deleted"),a.invalidateQueries({queryKey:["loyaltyProgram"]})},onError:a=>{var e,r;const s=(null==(r=null==(e=null==a?void 0:a.response)?void 0:e.data)?void 0:r.message)??(null==a?void 0:a.message)??"Error deleting tier";o.error(s)}})},d=()=>{const a=e();return r({mutationFn:async a=>(await s.post("/api/seed/loyalty",a??{})).data,onSuccess:()=>{o.success("Seeded loyalty program"),a.invalidateQueries({queryKey:["loyaltyProgram"]})},onError:a=>{var e,r;const s=(null==(r=null==(e=null==a?void 0:a.response)?void 0:e.data)?void 0:r.message)??(null==a?void 0:a.message)??"Error seeding program";o.error(s)}})};export{n as a,l as b,i as c,u as d,d as e,t as u};
