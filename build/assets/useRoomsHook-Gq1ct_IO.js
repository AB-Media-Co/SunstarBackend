import{c as e,d as r}from"./index-Bl04lSVd.js";import{a as o,b as a,u as t}from"./query-vendor-B-W3jWpx.js";const s=(a,t,s,n,i={})=>{const u=Boolean(a&&t&&s&&n)&&(i.enabled??!0);return o({queryKey:["rooms",a,t,s,n],enabled:u,queryFn:async({signal:r})=>{try{return(await e.get("/api/ezee/syncedRooms",{params:{hotelCode:a,authCode:t,fromDate:s,toDate:n},signal:r})).data}catch(o){throw o}},staleTime:i.staleTime??3e5,gcTime:i.gcTime??18e5,refetchOnWindowFocus:i.refetchOnWindowFocus??!1,keepPreviousData:i.keepPreviousData??!0,retry:i.retry??1,onError:e=>{var o,a;r.error("Error fetching rooms: "+((null==(a=null==(o=null==e?void 0:e.response)?void 0:o.data)?void 0:a.error)||e.message))}})},n=(o,s,n,i)=>{const u=a();return t({mutationFn:async r=>{if(!r._id)throw new Error("Room ID (_id) is required for updating a room");return(await e.put(`/api/ezee/rooms/${r._id}`,r,{params:{hotelCode:o,authCode:s,fromDate:n,toDate:i}})).data},onSuccess:()=>{u.invalidateQueries({queryKey:["rooms",o,s,n,i]}),r.success("Room updated successfully")},onError:e=>{var o,a;r.error("Error updating room: "+((null==(a=null==(o=null==e?void 0:e.response)?void 0:o.data)?void 0:a.error)||e.message))}})},i=async o=>{var a,t;try{return(await e.get(`/api/ezee/room/${o}`)).data}catch(s){throw r.error("Error fetching room: "+((null==(t=null==(a=null==s?void 0:s.response)?void 0:a.data)?void 0:t.error)||s.message)),s}};export{n as a,i as g,s as u};
