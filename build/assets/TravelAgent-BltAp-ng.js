var G=Object.defineProperty,$=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var q=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var F=(r,s,o)=>s in r?G(r,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[s]=o,b=(r,s)=>{for(var o in s||(s={}))R.call(s,o)&&F(r,o,s[o]);if(q)for(var o of q(s))V.call(s,o)&&F(r,o,s[o]);return r},v=(r,s)=>$(r,L(s));import{r as p,j as e,d as W}from"./index-DldK6Kxn.js";import B from"./TestimonialSection-Dmj0-g3H.js";import{C as _}from"./CommonUseEnquiryForm-7YjxMDUA.js";import{u as z}from"./useEnquiryFormHook-DkTVCXEs.js";import{g as U,d as Q,e as Y,f as J}from"./useAgentHook-CK-WszUo.js";import K from"./ImageGallery-CSl3H-mC.js";import{H as X}from"./Helmet-DWnbKkc6.js";import{u as Z}from"./useMetaHook-DxF7L2-d.js";import{P as ee}from"./Partnerlogos-CDky_2Bz.js";import{S as D}from"./SeoData-gI7w5d8d.js";import{u as te}from"./useTravelAgentPage-BtgnksXa.js";import{F as se}from"./FAQSectionWithAPI-DzU_2fPG.js";import{u as oe}from"./useUpdatePagesHook-DHf8GAX2.js";import{S as ie}from"./SunstarInfoCards-7F5w8_16.js";import{C as re}from"./Close-CnduCujM.js";import{A as H}from"./ArrowForward-Bp9Zuu0o.js";import"./CommonSlider-CvZrbfLj.js";import"./effect-fade-DdXY3Qdk.js";import"./Icons-CQlhNlKd.js";import"./useTestimonialHook-D8q5Lf5a.js";import"./proxy-D10ZjT4B.js";import"./index-D5e-CnMP.js";import"./usePartnersHooks-CGc0x8Bm.js";import"./useFaqsHooks-DwebCXos.js";import"./index-D0jfcrUo.js";import"./minus-BTSwQbdn.js";import"./createLucideIcon-DZXV8N3p.js";import"./plus-3M0rwju0.js";import"./createSvgIcon-DBWh1D0d.js";import"./clsx-B-dksMZM.js";const ne=({open:r,onClose:s})=>{const o=Q(),g=Y(),l=J(),[m,a]=p.useState("form"),[i,f]=p.useState({name:"",email:"",phone:"",role:"agent",companyName:""}),[h,k]=p.useState(""),[x,j]=p.useState(120);p.useEffect(()=>{r||(a("form"),f({name:"",email:"",phone:"",role:"agent",companyName:""}),k(""),j(120))},[r]),p.useEffect(()=>{if(m!=="otp"||x<=0)return;const n=setInterval(()=>j(t=>t-1),1e3);return()=>clearInterval(n)},[m,x]);const c=p.useMemo(()=>!i.name.trim()||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||!/^\d{7,}$/.test(i.phone)||o.isPending,[i,o.isPending]),A=p.useMemo(()=>h.trim().length!==6||g.isPending,[h,g.isPending]),C=n=>{n.preventDefault(),o.mutate({name:i.name.trim(),email:i.email.trim().toLowerCase(),phone:i.phone.trim(),role:"agent"},{onSuccess:()=>{a("otp"),j(120)},onError:t=>{var d,y;return console.error(((y=(d=t==null?void 0:t.response)==null?void 0:d.data)==null?void 0:y.message)||"Sign up / login failed")}})},S=n=>{n.preventDefault(),g.mutate({email:i.email.trim().toLowerCase(),otp:h.trim()},{onSuccess:t=>{var d;t!=null&&t.ok?(localStorage.setItem("user_email",((d=t==null?void 0:t.data)==null?void 0:d.email)||i.email.trim().toLowerCase()),s==null||s()):console.error((t==null?void 0:t.message)||"Verification failed")},onError:t=>{var d,y;return console.error(((y=(d=t==null?void 0:t.response)==null?void 0:d.data)==null?void 0:y.message)||"Invalid or expired OTP")}})},P=()=>{x>0||l.mutate({email:i.email.trim().toLowerCase(),phone:i.phone.trim(),name:i.name.trim(),role:"agent"},{onSuccess:()=>j(120),onError:n=>{var t,d;return console.error(((d=(t=n==null?void 0:n.response)==null?void 0:t.data)==null?void 0:d.message)||"Failed to resend OTP")}})};return r?e.jsxs("div",{className:"fixed inset-0 z-[1000]",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:s}),e.jsxs("div",{className:"relative mx-auto mt-20 w-[92%] max-w-xl bg-white rounded-2xl shadow-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:m==="form"?"Join as Travel Agent":"Enter OTP"}),e.jsx("button",{onClick:s,className:"p-1 rounded-full hover:bg-gray-100",children:e.jsx(re,{fontSize:"small"})})]}),m==="form"?e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",value:i.name,onChange:n=>f(t=>v(b({},t),{name:n.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"Agent Name",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:i.email,onChange:n=>f(t=>v(b({},t),{email:n.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"you@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e.jsx("input",{type:"tel",value:i.phone,onChange:n=>f(t=>v(b({},t),{phone:n.target.value.replace(/\D/g,"")})),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"9876543210",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company (optional)"}),e.jsx("input",{type:"text",value:i.companyName,onChange:n=>f(t=>v(b({},t),{companyName:n.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"Company Name"})]}),e.jsxs("button",{type:"submit",disabled:c,className:`w-full flex items-center justify-center gap-2 rounded-lg px-4 py-2 font-semibold text-white transition
                ${c?"bg-gray-400 cursor-not-allowed":"bg-primary-yellow hover:brightness-110"}`,children:[o.isPending?"Sending OTP...":"Get OTP",!o.isPending&&e.jsx(H,{fontSize:"small"})]}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"By continuing you agree to receive a one-time password on your email."})]}):e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["We sent a 6-digit code to ",e.jsx("b",{children:i.email}),". Enter it below to verify your login."]}),e.jsx("input",{type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:6,value:h,onChange:n=>k(n.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full text-center tracking-[0.5em] text-2xl rounded-lg border border-gray-300 px-3 py-3 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"______",autoFocus:!0}),e.jsx("button",{type:"submit",disabled:A,className:`w-full flex items-center justify-center gap-2 rounded-lg px-4 py-2 font-semibold text-white transition
                ${A?"bg-gray-400 cursor-not-allowed":"bg-primary-green hover:brightness-110"}`,children:g.isPending?"Verifying...":"Verify & Continue"}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsx("button",{type:"button",onClick:()=>a("form"),className:"underline underline-offset-2",children:"Change email"}),e.jsx("button",{type:"button",onClick:P,disabled:x>0||l.isPending,className:`underline underline-offset-2 ${x>0?"opacity-50 cursor-not-allowed":""}`,title:x>0?`Resend in ${x}s`:"Resend OTP",children:x>0?`Resend in ${x}s`:l.isPending?"Resending...":"Resend OTP"})]}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Didn’t receive the email? Check your spam folder or try resending."})]})]})]}):null},ae=({title:r,description:s,imageSrc:o,onSignupClick:g,buttonText:l,showProfileBtn:m,loadingAgent:a,isApprovalPending:i})=>{const f=W(),h=()=>f("/user/profile",{state:{tab:"agent"}});return e.jsxs("section",{className:"relative h-[100vh] md:h-[100vh] bg-cover bg-center",style:{backgroundImage:`url(${o})`},children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),e.jsxs("div",{className:"relative content mx-auto h-full flex flex-col justify-center pt-20 items-start px-4",children:[e.jsx("h1",{className:"text-mobile/h3 md:text-desktop/h2 text-primary-white max-w-2xl font-bold",children:r}),e.jsx("p",{className:"mt-4 text-mobile/body/2 md:text-desktop/body/2/regular text-primary-white max-w-2xl",children:s}),!a&&m?e.jsx("button",{onClick:h,className:"mt-8 bg-primary-white text-primary-yellow px-8 py-3 rounded-lg font-bold hover:bg-opacity-90 transition duration-300 flex items-center",children:"View My Profile"}):i?e.jsx("button",{disabled:!0,title:"Your account is verified but pending approval",className:"mt-8 bg-primary-white/70 text-primary-yellow/70 px-8 py-3 rounded-lg font-bold cursor-not-allowed transition duration-300 flex items-center",children:"Approval Pending"}):e.jsxs("button",{onClick:g,className:"mt-8 bg-primary-white text-primary-yellow px-8 py-3 rounded-lg font-bold hover:bg-opacity-90 transition duration-300 flex items-center",children:[l," ",e.jsx(H,{className:"ml-2"})]})]})]})},le=({benefits:r=[],align:s="left"})=>{const o=s==="center",g=o?"text-center":"text-left",l=o?"items-center":"items-start";return e.jsx("section",{className:"md:py-16 py-10",children:e.jsxs("div",{className:"content max-w-screen-xl mx-auto px-4",children:[e.jsx("h2",{className:"text-mobile/h3 md:text-desktop/h3 text-gray-700 font-bold mb-12 text-start",children:"Why Partner With Us?"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 auto-rows-fr",children:r.map((m,a)=>e.jsxs("article",{className:`h-[93%] bg-white p-6 rounded-xl text-gray-700 border border-gray-100 shadow-sm hover:shadow-md transition-shadow flex flex-col ${l} ${g}`,children:[e.jsx("div",{className:`${o?"mx-auto":""} mb-4 flex items-center justify-center`,children:m!=null&&m.icon?e.jsx("img",{src:m.icon,alt:m.title?`${m.title} icon`:"Benefit icon",className:"block w-[4rem] object-contain",loading:"lazy"}):null}),e.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-900",children:m.title}),e.jsx("p",{className:"text-mobile/body/2 pb-4 md:text-desktop/body/1 text-primary-gray leading-relaxed",children:m.desc})]},a))})]})})},me=({steps:r})=>e.jsx("section",{className:"md:py-16 py-10 px-2 bg-gray-50",children:e.jsxs("div",{className:"content mx-auto",children:[e.jsx("h2",{className:"text-mobile/h3 md:text-desktop/h3 text-gray-700 text-start font-bold mb-12",children:"How It Works"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8",children:r.map((s,o)=>e.jsxs("div",{className:"flex flex-col items-start text-start",children:[e.jsx("div",{className:"bg-primary-green text-white rounded-full w-24 h-24 flex items-center justify-center mb-4",children:e.jsx("img",{src:s.icon,alt:"",className:"w-16 h-16"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-2",children:s.title}),e.jsx("p",{className:"text-mobile/body/2 md:text-desktop/body/1 text-primary-gray",children:s.desc})]},o))})]})}),ce=({page:r="Agent Registration",gid:s=[226066483]})=>{const{mutate:o,isLoading:g}=z(),l=[{name:"agentName",placeholder:"Name",required:!0},{name:"companyName",placeholder:"Company Name",required:!0},{name:"phone",type:"tel",placeholder:"Phone",required:!0},{name:"email",type:"email",placeholder:"Email",required:!0},{name:"cityState",placeholder:"City / State",required:!0},{name:"gstDetails",placeholder:"Company GST Details",required:!0},{name:"requirements",type:"textarea",placeholder:"Your Requirements / Queries",rows:4,colSpan:"md:col-span-2",required:!0}],m=(a,i)=>{o(v(b({},a),{page:r,gid:s}),{onSuccess:()=>{i.onSuccess(),alert("Thank you for registering! Our team will contact you shortly.")},onError:i.onError})};return e.jsx(_,{title:"Agent Registration Form",subtitle:"Register now to join our travel agent network",fields:l,onSubmit:m,isLoading:g,submitButtonText:"Submit & Join Now"})},Ve=()=>{var d,y,T,O,I,M;const[r,s]=p.useState(!1),{offeringSection:o}=oe(),{data:g}=Z(),l=Array.isArray(g)?g.find(u=>u.page==="travel-agent"):null,m=localStorage.getItem("user_email")||"",{data:a,isLoading:i}=U(m),f=!!a&&(a==null?void 0:a.role)==="agent",h=(d=a==null?void 0:a.approved)!=null?d:!1,k=(y=a==null?void 0:a.isVerified)!=null?y:!1,x=!i&&f&&h,j=!i&&f&&k&&!h,{data:c,isFetching:A}=te(),C={title:(T=c==null?void 0:c.hero)==null?void 0:T.heading,description:(O=c==null?void 0:c.hero)==null?void 0:O.description,imageSrc:"https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",buttonText:"Login Or Sign Up"},S=["/images/t1.svg","/images/t2.svg","/images/t3.svg","/images/t4.svg","/images/t5.svg","/images/t6.svg","/images/t7.svg"],P=p.useMemo(()=>{var w;const u=((w=c==null?void 0:c.partnerWithUs)==null?void 0:w.cards)||[];return u.length?u.map((N,E)=>({icon:S[E%S.length],title:N.title,desc:N.description})):[{icon:"/images/t1.svg",title:"Earn Commission",desc:"Attractive commission structure to maximize your earnings on every booking."},{icon:"/images/t2.svg",title:"Exclusive Discounts",desc:"Offer your clients up to 5% off on standard online room rates."},{icon:"/images/t3.svg",title:"Free Rooms",desc:"Get 1 complimentary room for every 15 rooms booked (valid for group bookings only)."},{icon:"/images/t4.svg",title:"Exclusive Gifts",desc:"Enjoy surprise rewards and special gifts after every 25 nights booked through your account."},{icon:"/images/t5.svg",title:"Dedicated Support",desc:"Quick resolutions and smooth coordination through our single-window partner support system."},{icon:"/images/t6.svg",title:"Marketing Materials",desc:"Access to ready-to-use banners, booking kits, brochures, and other promotional content."},{icon:"/images/t7.svg",title:"Award-Winning Hospitality",desc:"Recognized for excellence in service, cleanliness, dining, and guest satisfaction."}]},[c]),n=["/images/1a.svg","/images/2a.svg","/images/3a.svg","/images/4a.svg","/images/5a.svg"],t=p.useMemo(()=>{var w;const u=((w=c==null?void 0:c.howItWorks)==null?void 0:w.cards)||[];return u.length?u.map((N,E)=>({icon:n[E%n.length],title:N.title,desc:N.description})):[{icon:"/images/1a.svg",title:"Register",desc:"Sign up as a travel agent with us — quick, simple, and absolutely free."},{icon:"/images/2a.svg",title:"Submit for Approval",desc:"Once registered, submit your details for verification. Our team will review and approve your application promptly."},{icon:"/images/3a.svg",title:"Get Portal Access",desc:"After approval, unlock your personal agent dashboard to manage bookings and track commissions with ease."},{icon:"/images/4a.svg",title:"Book & Earn",desc:"Start booking rooms with instant confirmation and earn attractive commissions on every successful booking."},{icon:"/images/5a.svg",title:"Unlock Exclusive Gifts",desc:"Get surprise rewards like free meals, room upgrades, or special discounts — gifted after every 25 nights booked!"}]},[c]);return p.useEffect(()=>{window.scrollTo(0,0)},[]),e.jsxs("div",{children:[e.jsxs(X,{children:[e.jsx("title",{children:(l==null?void 0:l.metaTitle)||"Tour & Travel - Sunstar Hotels"}),e.jsx("meta",{name:"description",content:(l==null?void 0:l.metaDescription)||""}),e.jsx("meta",{name:"keywords",content:((I=l==null?void 0:l.metaKeywords)==null?void 0:I.join(", "))||""}),e.jsx("meta",{property:"og:title",content:D.travelAgent.title}),e.jsx("meta",{property:"og:description",content:D.travelAgent.description})]}),e.jsx(ae,v(b({},C),{onSignupClick:()=>s(!0),showProfileBtn:x,loadingAgent:i,isApprovalPending:j})),e.jsx(le,{benefits:P}),e.jsx(ee,{category:"Travel Agent"}),e.jsx(B,{page:"travel-agent",head:"What Our Partners Say"}),e.jsx(me,{steps:t}),e.jsx(ce,{}),e.jsx("div",{className:"relative flex flex-col justify-between content items-center mt-10 py-10 z-0",children:e.jsx(K,{})}),e.jsx(ie,{infoCards:(M=o==null?void 0:o.travelAgent)==null?void 0:M.offers,onCardClick:u=>{((u==null?void 0:u.title)==="Our Hotels"||(u==null?void 0:u.buttonText)==="View Hotels")&&openHotelModal()}}),e.jsx(se,{pageName:"Travel Agent"}),e.jsx(ne,{open:r,onClose:()=>s(!1)})]})};export{Ve as default};
