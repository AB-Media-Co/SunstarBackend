const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Calendar-GYJnstOL.js","assets/index-EwFdjU9H.js","assets/index-a_9HBT1h.css","assets/isSameMonth-BZTxXe3t.js","assets/ArrowRightAlt-BGokGhhg.js"])))=>i.map(i=>d[i]);
import{bI as b,r as i,_ as w,j as e,m as y,g as N}from"./index-EwFdjU9H.js";import{S as C}from"./Star-XIzVmfoa.js";const I={some:0,all:1};function k(s,l,{root:o,margin:x,amount:n="some"}={}){const d=b(s),a=new WeakMap,m=t=>{t.forEach(r=>{const f=a.get(r.target);if(r.isIntersecting!==!!f)if(r.isIntersecting){const p=l(r);typeof p=="function"?a.set(r.target,p):c.unobserve(r.target)}else f&&(f(r),a.delete(r.target))})},c=new IntersectionObserver(m,{root:o,rootMargin:x,threshold:typeof n=="number"?n:I[n]});return d.forEach(t=>c.observe(t)),()=>c.disconnect()}function S(s,{root:l,margin:o,amount:x,once:n=!1}={}){const[d,a]=i.useState(!1);return i.useEffect(()=>{if(!s.current||n&&d)return;const m=()=>(a(!0),n?void 0:()=>a(!1)),c={root:l&&l.current||void 0,margin:o,amount:x};return k(s.current,m,c)},[l,s,o,n,x]),d}const E=i.lazy(()=>w(()=>import("./Calendar-GYJnstOL.js").then(s=>s.a),__vite__mapDeps([0,1,2,3,4]))),v=i.memo(({hotel:s,close:l})=>{var f,p;const o={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}},[x,n]=i.useState(!1),[,d]=i.useState(null),[,a]=i.useState(null);i.useEffect(()=>{const u=localStorage.getItem("checkInDate"),g=localStorage.getItem("checkOutDate");u&&g&&(d(u),a(g))},[]);const m=((f=s==null?void 0:s.amenities)==null?void 0:f.slice(0,3))||[],c=(((p=s==null?void 0:s.amenities)==null?void 0:p.length)||0)-m.length,t=i.useCallback(()=>{localStorage.setItem("hotelInfo",JSON.stringify(s)),n(!0),l()},[s,l]),r=u=>{const g=Math.floor(u),j=u-g>=.5;return e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((_,h)=>e.jsx(C,{className:`${h<g?"text-yellow-400":h===g&&j?"text-yellow-400 opacity-60":"text-gray-300"}`,style:{fontSize:"16px"}},h))})};return e.jsxs(y.div,{className:"bg-primary-white rounded-2xl shadow-lg overflow-hidden w-full h-full transition-transform duration-300 hover:scale-105 flex flex-col",variants:o,initial:"hidden",animate:"visible",children:[e.jsx("img",{src:s==null?void 0:s.images[0],alt:s.name,onClick:t,className:"w-full h-48 object-cover cursor-pointer transition-transform duration-500 ease-in-out hover:scale-110",loading:"lazy",decoding:"async"}),e.jsxs("div",{className:"p-4 flex flex-col flex-grow justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center gap-4",children:[e.jsx("h1",{className:"text-xl  text-start font-bold text-black cursor-pointer hover:text-primary-green   transition-colors duration-300",onClick:t,children:s==null?void 0:s.name}),r(s.rating)]}),e.jsxs("ul",{className:"flex items-center mt-2 flex-wrap",children:[m.length>0?m.map((u,g)=>{const j=typeof u=="object"?u.value:u;return e.jsx("li",{className:"bg-gradient-to-r from-primary-green to-primary-green text-primary-white text-xs px-3 py-1 rounded-full m-1",children:e.jsx("span",{children:j})},g)}):e.jsx("li",{children:"No amenities listed"}),c>0&&e.jsxs("li",{className:"text-gray-600 text-xs m-1",children:["+",c," more"]})]})]}),e.jsxs("div",{className:"mt-4 w-full",children:[e.jsxs("div",{className:"text-start",children:[e.jsxs("span",{className:"text-2xl leading-none font-bold text-primary-green",children:["â‚¹ ",s==null?void 0:s.price,e.jsx("span",{className:"text-gray-400 text-sm font-medium",children:" / night onwards"}),e.jsx("br",{}),e.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Incl. taxes"})]}),e.jsx("p",{className:"text-primary-green text-[12px] font-semibold",children:"Lowest Price, Guaranteed!"})]}),e.jsx("button",{onClick:t,className:"bg-primary-green cursor-pointer w-full text-primary-white px-4 py-2 rounded-lg shadow-md flex justify-center items-center transition duration-300 hover:bg-primary-dark-green mt-4",children:"Select Hotel"})]})]}),x&&e.jsx("div",{className:"fixed inset-0 flex justify-center items-center z-50",children:e.jsx(i.Suspense,{fallback:e.jsx("div",{className:"bg-white p-8 rounded-lg animate-pulse",children:e.jsx("div",{className:"h-64 w-96 bg-gray-200 rounded"})}),children:e.jsx(E,{setCheckInDate:d,setCheckOutDate:a,setOpenCalender:n,hotelCode:s.hotelCode})})})]})});v.displayName="HotelCard";const O=i.memo(({data:s,close:l})=>{var c;const o=i.useRef(null),x=S(o,{once:!0,amount:.1}),{data:n,isLoading:d}=N(),a=s||n,m=((c=a==null?void 0:a.hotels)==null?void 0:c.filter(t=>t==null?void 0:t.active))||[];return d?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:[...Array(6)].map((t,r)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 h-48 rounded-2xl mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},r))}):e.jsx(y.div,{ref:o,className:"grid grid-cols-1 items-stretch bg-primary-white sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-6 p-6",initial:{opacity:0},animate:x?{opacity:1}:{opacity:0},transition:{duration:.4,ease:"easeOut"},children:m.map(t=>e.jsx(v,{hotel:t,close:l},t._id||t.hotelCode))})});O.displayName="HotelSelectingCards";export{O as default};
