var p=(o,a,s)=>new Promise((e,n)=>{var r=t=>{try{c(s.next(t))}catch(m){n(m)}},i=t=>{try{c(s.throw(t))}catch(m){n(m)}},c=t=>t.done?e(t.value):Promise.resolve(t.value).then(r,i);c((s=s.apply(o,a)).next())});import{c as d}from"./index-DTQi_YP9.js";import{h as E,_ as g,l as q,g as _}from"./react-vendor-CU6lFo1N.js";const T=(o,a,s,e,n={})=>{var i,c,t,m,l,w;const r=!!(o&&a&&s&&e)&&((i=n.enabled)!=null?i:!0);return E({queryKey:["rooms",o,a,s,e],enabled:r,queryFn:f=>p(void 0,[f],function*({signal:u}){try{return(yield d.get("/api/ezee/syncedRooms",{params:{hotelCode:o,authCode:a,fromDate:s,toDate:e},signal:u})).data}catch(y){throw y}}),staleTime:(c=n.staleTime)!=null?c:1e3*60*5,gcTime:(t=n.gcTime)!=null?t:1e3*60*30,refetchOnWindowFocus:(m=n.refetchOnWindowFocus)!=null?m:!1,keepPreviousData:(l=n.keepPreviousData)!=null?l:!0,retry:(w=n.retry)!=null?w:1,onError:u=>{var f,y;console.log(u),g.error("Error fetching rooms: "+(((y=(f=u==null?void 0:u.response)==null?void 0:f.data)==null?void 0:y.error)||u.message))}})},v=(o,a,s,e)=>{const n=q();return _({mutationFn:r=>p(void 0,null,function*(){if(!r._id)throw new Error("Room ID (_id) is required for updating a room");return(yield d.put(`/api/ezee/rooms/${r._id}`,r,{params:{hotelCode:o,authCode:a,fromDate:s,toDate:e}})).data}),onSuccess:()=>{n.invalidateQueries({queryKey:["rooms",o,a,s,e]}),g.success("Room updated successfully")},onError:r=>{var i,c;g.error("Error updating room: "+(((c=(i=r==null?void 0:r.response)==null?void 0:i.data)==null?void 0:c.error)||r.message))}})},z=o=>p(void 0,null,function*(){var a,s;try{return(yield d.get(`/api/ezee/room/${o}`)).data}catch(e){throw g.error("Error fetching room: "+(((s=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:s.error)||e.message)),e}});export{v as a,z as g,T as u};
