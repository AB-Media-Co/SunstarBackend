var xe=Object.defineProperty,he=Object.defineProperties;var ge=Object.getOwnPropertyDescriptors;var ee=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable;var se=(l,r,t)=>r in l?xe(l,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[r]=t,B=(l,r)=>{for(var t in r||(r={}))ue.call(r,t)&&se(l,t,r[t]);if(ee)for(var t of ee(r))pe.call(r,t)&&se(l,t,r[t]);return l},S=(l,r)=>he(l,ge(r));var z=(l,r,t)=>new Promise((o,n)=>{var x=d=>{try{u(t.next(d))}catch(i){n(i)}},v=d=>{try{u(t.throw(d))}catch(i){n(i)}},u=d=>d.done?o(d.value):Promise.resolve(d.value).then(x,v);u((t=t.apply(l,r)).next())});import{r as f,aQ as fe,j as e,aL as W,y as te,aM as je,Y as K,aO as V,aP as _,_ as ye,aF as ne,aR as Ne,aS as be,a1 as ve,aT as ae,u as we,F as Ce,X as D,ak as ke,aj as Be,aU as Se,S as M,aB as Re,an as re}from"./react-vendor-CU6lFo1N.js";import{c as Ae,u as ie}from"./index-DTQi_YP9.js";import{e as Le,u as oe,f as Ee}from"./useUser-2pKinUEv.js";import{useGetHotels as Te}from"./useHotelHook2-4z4wAkLq.js";import{f as Oe}from"./useAgentHook-C_cw9Lfo.js";import"./animation-vendor-DE7fCS50.js";import"./vendor-DnuN4cIi.js";import"./query-vendor-B8s5OfyV.js";import"./ui-vendor-BNgsC25r.js";import"./swiper-vendor-CoL_RVtK.js";import"./date-vendor-BpmxrJb6.js";const De=({status:l,bookingStatus:r})=>r==="Confirmed Reservation"?e.jsxs("span",{className:"inline-flex items-center px-2 md:px-3 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border border-green-200",children:[e.jsx(V,{className:"w-3 h-3 mr-1 md:mr-1.5"}),"Confirmed"]}):r==="Unconfirmed Reservation"?e.jsxs("span",{className:"inline-flex items-center px-2 md:px-3 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-800 border border-amber-200",children:[e.jsx(W,{className:"w-3 h-3 mr-1 md:mr-1.5"}),"Unconfirmed"]}):l==="Cancelled"?e.jsxs("span",{className:"inline-flex items-center px-2 md:px-3 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border border-red-200",children:[e.jsx(_,{className:"w-3 h-3 mr-1 md:mr-1.5"}),"Cancelled"]}):e.jsx("span",{className:"inline-flex items-center px-2 md:px-3 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-gray-100 to-slate-100 text-gray-800 border border-gray-200",children:r}),J=l=>new Date(l).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),le=l=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(l),Me=({label:l,icon:r,secondary:t,danger:o,onClick:n})=>{let x="bg-[#5BBEBC] text-white hover:bg-[#4BA9A6]";return t&&(x="bg-gray-100 text-gray-700 hover:bg-gray-200"),o&&(x="bg-red-100 text-red-700 hover:bg-red-200"),e.jsxs("button",{onClick:n,className:`flex items-center gap-1 md:gap-2 px-2 md:px-4 py-1.5 md:py-2 rounded-lg text-xs md:text-sm font-medium transition ${x}`,children:[r,e.jsx("span",{className:"hidden sm:inline",children:l})]})},Y=({active:l,onClick:r,children:t,count:o})=>e.jsxs("button",{onClick:r,className:`w-full sm:w-auto relative px-3 py-2 rounded-lg text-xs sm:text-sm font-semibold transition-all duration-200 whitespace-nowrap flex items-center justify-center sm:justify-start gap-1 ${l?"bg-[#5BBEBC] text-white shadow-lg":"bg-white text-gray-600 hover:bg-gray-50 border border-gray-200"}`,children:[t,o>0&&e.jsx("span",{className:`ml-0.5 px-1 py-0.5 rounded-full text-xs font-bold ${l?"bg-white/20 text-white":"bg-gray-100 text-gray-600"}`,children:o})]}),Ie=()=>{const[l,r]=f.useState(""),[t,o]=f.useState(""),[n,x]=f.useState("upcoming"),[v,u]=f.useState(!1),[d,i]=f.useState(null),[m,w]=f.useState(null),[g,C]=f.useState(!1);f.useEffect(()=>{window.scrollTo(0,0)},[]);const{data:R,isLoading:P,error:F}=Te(),$=Le(),y=fe({queries:((R==null?void 0:R.hotels)||[]).map(s=>({queryKey:["my-bookings",s.hotelCode,l],queryFn:()=>z(void 0,null,function*(){if(!s.hotelCode||!l||!s.authKey)return{BookingList:[],hotelInfo:s};try{const h=yield Ae.get("/api/seemybookings",{params:{hotelCode:s.hotelCode,email:l,apiKey:s.authKey}});return S(B({},h.data),{hotelInfo:s,BookingList:(h.data.BookingList||[]).map(c=>S(B({},c),{hotelInfo:s}))})}catch(h){return console.error(`Failed to fetch bookings for ${s.name}:`,h),{BookingList:[],hotelInfo:s}}}),enabled:!!s.hotelCode&&!!l&&!!s.authKey,staleTime:3e4,refetchOnWindowFocus:!1}))}),E=y.reduce((s,h)=>{var c;return(c=h.data)!=null&&c.BookingList&&s.push(...h.data.BookingList),s},[]);console.log(E);const p=y.some(s=>s.isLoading),U=y.some(s=>s.error);f.useEffect(()=>{const s=localStorage.getItem("user_email");console.log(s),r(s)},[R]);const j=()=>{y.forEach(s=>s.refetch())},N=s=>{i(s),w(s.hotelInfo),u(!0)},Q=()=>z(void 0,null,function*(){if(!d||!m){ye.error("No booking selected or hotel information missing");return}C(!0);try{yield $.mutateAsync({hotelCode:m.hotelCode,apiKey:m.authKey,reservationNo:d.ReservationNo}),y.forEach(s=>s.refetch()),u(!1),i(null),w(null)}catch(s){console.error("Booking cancellation error:",s)}finally{C(!1)}}),T=(()=>{const s=new Date,h=E.filter(c=>{var L;return c.GuestName.toLowerCase().includes(t.toLowerCase())||c.ReservationNo.toLowerCase().includes(t.toLowerCase())||((L=c.hotelInfo)==null?void 0:L.name.toLowerCase().includes(t.toLowerCase()))});switch(n){case"upcoming":return h.filter(c=>{const L=new Date(c.DepartureDate);return c.Status!=="Cancelled"&&c.BookingStatus!=="Cancelled"&&L>=s});case"confirmed":return h.filter(c=>c.BookingStatus==="Confirmed Reservation"&&c.Status!=="Cancelled");case"cancelled":return h.filter(c=>c.Status==="Cancelled"||c.BookingStatus==="Cancelled");default:return h}})();console.log(T,"Filtered Bookings");const k=(()=>{const s=new Date,h=E.filter(b=>{const G=new Date(b.DepartureDate);return b.Status!=="Cancelled"&&b.BookingStatus!=="Cancelled"&&G>=s}).length,c=E.filter(b=>b.BookingStatus==="Confirmed Reservation"&&b.Status!=="Cancelled").length,L=E.filter(b=>b.Status==="Cancelled"||b.BookingStatus==="Cancelled").length;return{upcoming:h,confirmed:c,cancelled:L}})();return P?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50",children:e.jsx("div",{className:"content mx-auto px-4 py-4 md:py-8",children:e.jsxs("div",{className:"space-y-4 md:space-y-8",children:[e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 md:h-10 w-48 md:w-64 bg-gradient-to-r from-gray-200 to-gray-300 rounded-xl mb-2 md:mb-4"}),e.jsx("div",{className:"h-4 md:h-6 w-64 md:w-96 bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg"})]}),e.jsx("div",{className:"grid gap-4 md:gap-6",children:[1,2,3].map(s=>e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-4 md:p-8",children:e.jsxs("div",{className:"animate-pulse space-y-4 md:space-y-6",children:[e.jsx("div",{className:"h-6 md:h-8 w-32 md:w-48 bg-gradient-to-r from-gray-200 to-gray-300 rounded-xl"}),e.jsx("div",{className:"h-4 md:h-6 w-24 md:w-32 bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg"}),e.jsxs("div",{className:"space-y-2 md:space-y-4",children:[e.jsx("div",{className:"h-3 md:h-4 w-full bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg"}),e.jsx("div",{className:"h-3 md:h-4 w-3/4 bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg"}),e.jsx("div",{className:"h-3 md:h-4 w-1/2 bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg"})]})]})},s))})]})})}):F?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm border border-red-200 text-red-800 rounded-2xl p-6 md:p-8 flex items-start shadow-2xl max-w-md w-full",children:[e.jsx(W,{className:"h-5 w-5 md:h-6 md:w-6 mr-2 md:mr-3 mt-1 text-red-500 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-base md:text-lg mb-2",children:"Connection Error"}),e.jsx("p",{className:"text-red-700 text-sm md:text-base",children:"Failed to load hotel information. Please check your connection and try again."})]})]})}):e.jsxs("div",{className:"min-h-screen",children:[v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 ",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-4 transform transition-all",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 md:h-16 md:w-16 rounded-full bg-red-100 mb-3 md:mb-4",children:e.jsx(te,{className:"h-6 w-6 md:h-8 md:w-8 text-red-600"})}),e.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-900 mb-2",children:"Cancel Booking"}),e.jsxs("p",{className:"text-gray-600 mb-4 md:mb-6 text-sm md:text-base",children:["Are you sure you want to cancel the booking for ",e.jsx("span",{className:"font-semibold",children:d==null?void 0:d.GuestName}),"?",e.jsx("br",{}),e.jsxs("span",{className:"text-xs md:text-sm text-gray-500",children:["Reservation #",d==null?void 0:d.ReservationNo]})]}),e.jsxs("div",{className:"flex gap-2 md:gap-3",children:[e.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-3 md:px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl text-sm md:text-base font-medium transition-colors",children:"Keep Booking"}),e.jsx("button",{onClick:Q,className:"flex-1 px-3 md:px-4 py-2 text-white bg-red-600 hover:bg-red-700 rounded-xl text-sm md:text-base font-medium transition-colors flex justify-center items-center",disabled:g,children:g?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 md:h-5 md:w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 01-8 8z"})]}),e.jsx("span",{className:"hidden sm:inline",children:"Cancelling..."})]}):"Cancel Booking"})]})]})})}),e.jsxs("div",{className:"mx-auto",children:[e.jsxs("div",{className:"mb-6 md:mb-12",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 md:mb-8 gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-4xl font-bold text-gray-900 mb-1 md:mb-2",children:"My Bookings"}),e.jsx("p",{className:"text-sm md:text-lg text-gray-500",children:"Manage and review your hotel reservations"})]}),e.jsx("div",{className:"flex gap-2 md:gap-3",children:e.jsxs("button",{onClick:j,className:"flex items-center gap-1 md:gap-2 px-3 md:px-5 py-2 md:py-3 text-white bg-[#5BBEBC] hover:bg-[#4BA9A6] rounded-xl shadow-md transition text-sm md:text-base",children:[e.jsx(je,{className:"w-4 h-4 md:w-5 md:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})})]}),!p&&e.jsx("div",{className:"bg-white p-2.5 sm:p-4 md:p-6 rounded-xl shadow-md mb-6 md:mb-8 border border-gray-200",children:e.jsxs("div",{className:"flex flex-row gap-1 sm:gap-2 md:gap-4 overflow-x-auto pb-2 sm:pb-0 scrollbar-hide",children:[e.jsxs(Y,{active:n==="upcoming",onClick:()=>x("upcoming"),count:k.upcoming,children:[e.jsx(K,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 md:w-4 md:h-4"}),e.jsx("span",{className:" sm:inline",children:"Upcoming"})]}),e.jsxs(Y,{active:n==="confirmed",onClick:()=>x("confirmed"),count:k.confirmed,children:[e.jsx(V,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 md:w-4 md:h-4"}),e.jsx("span",{className:" sm:inline",children:"Confirmed"})]}),e.jsxs(Y,{active:n==="cancelled",onClick:()=>x("cancelled"),count:k.cancelled,children:[e.jsx(_,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 md:w-4 md:h-4"}),e.jsx("span",{className:" sm:inline",children:"Cancelled"})]})]})})]}),p&&e.jsx("div",{className:"grid gap-4 md:gap-8",children:[1,2,3].map(s=>e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20",children:[e.jsx("div",{className:"p-4 md:p-8 border-b border-gray-100",children:e.jsxs("div",{className:"animate-pulse flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-2 md:space-y-3",children:[e.jsx("div",{className:"h-6 md:h-8 w-32 md:w-48 bg-gradient-to-r from-gray-200 to-gray-300 rounded-xl"}),e.jsx("div",{className:"h-4 md:h-5 w-24 md:w-32 bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg"})]}),e.jsx("div",{className:"h-6 md:h-8 w-16 md:w-24 bg-gradient-to-r from-gray-200 to-gray-300 rounded-xl"})]})}),e.jsx("div",{className:"p-4 md:p-8",children:e.jsxs("div",{className:"animate-pulse grid md:grid-cols-2 gap-4 md:gap-8",children:[e.jsxs("div",{className:"space-y-2 md:space-y-4",children:[e.jsx("div",{className:"h-4 md:h-5 w-full bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg"}),e.jsx("div",{className:"h-4 md:h-5 w-3/4 bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg"}),e.jsx("div",{className:"h-4 md:h-5 w-1/2 bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg"})]}),e.jsxs("div",{className:"space-y-2 md:space-y-4",children:[e.jsx("div",{className:"h-4 md:h-5 w-full bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg"}),e.jsx("div",{className:"h-4 md:h-5 w-3/4 bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg"}),e.jsx("div",{className:"h-4 md:h-5 w-1/2 bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg"})]})]})})]},s))}),U&&e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm border border-red-200 text-red-800 rounded-2xl p-4 md:p-8 flex items-start shadow-2xl",children:[e.jsx(W,{className:"h-5 w-5 md:h-6 md:w-6 mr-2 md:mr-3 mt-1 text-red-500 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-base md:text-lg mb-2",children:"Failed to Load Bookings"}),e.jsx("p",{className:"text-red-700 text-sm md:text-base",children:"Please check your connection and try again. If the problem persists, contact support."})]})]}),T.length>0?e.jsxs("div",{className:"space-y-4 md:space-y-8",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:e.jsxs("h2",{className:"text-xl md:text-3xl font-bold text-gray-900",children:[n.charAt(0).toUpperCase()+n.slice(1)," Reservations",e.jsx("span",{className:"ml-2 md:ml-3 inline-flex items-center px-2 md:px-4 py-1 md:py-2 rounded-full text-sm md:text-lg font-semibold bg-gradient-to-r from-indigo-100 to-purple-100 text-indigo-800",children:T.length})]})}),e.jsx("div",{className:"grid gap-4 md:gap-6",children:T.map(s=>{var h,c;return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-md p-4 md:p-6 hover:shadow-lg transition-all",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-3 md:mb-4 gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h2",{className:"text-base md:text-lg font-semibold text-gray-900 flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsx("span",{className:"truncate",children:s.GuestName.trim()}),e.jsx(De,{status:s.Status,bookingStatus:s.BookingStatus})]}),e.jsxs("p",{className:"text-xs md:text-sm text-gray-500 mt-1",children:["Reservation #",s.ReservationNo]}),e.jsx("p",{className:"text-xs md:text-sm text-[#5BBEBC] font-medium",children:(h=s.hotelInfo)==null?void 0:h.name})]}),e.jsxs("div",{className:"text-left sm:text-right flex-shrink-0",children:[e.jsx("p",{className:"text-lg md:text-xl font-bold text-[#5BBEBC]",children:le(s.TotalInclusiveTax)}),e.jsx("p",{className:"text-xs text-gray-500",children:"Total Amount"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 md:gap-4 mb-3 md:mb-4 text-xs md:text-sm text-gray-700",children:[e.jsxs("div",{className:"space-y-1 md:space-y-2",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Stay:"})," ",J(s.ArrivalDate)," - ",J(s.DepartureDate)," (",s.NoOfNights," nights)"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Room:"})," ",s.Room," #",s.RoomNo]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Guests:"})," ",s.Adult," Adult",s.Child>0?`, ${s.Child} Child`:""]})]}),e.jsxs("div",{className:"space-y-1 md:space-y-2",children:[e.jsxs("p",{className:"truncate",children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",s.Email]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Mobile:"})," ",s.Mobile]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Payment:"})," ",s.TransactionStatus]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Payment Type:"})," ",((c=s.hotelInfo)==null?void 0:c.payAtHotel)==="yes"?"Pay at Hotel":"Paid Online"]}),s.DueAmount>0&&e.jsxs("p",{className:"font-semibold text-red-500",children:["Due: ",le(s.DueAmount)]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center text-xs text-gray-500 border-t pt-3 md:pt-4 gap-3",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 md:gap-4",children:[e.jsxs("span",{children:["Booked: ",J(s.ReservationDate)]}),e.jsxs("span",{children:["Source: ",s.Source]}),e.jsxs("span",{children:["Folio: ",s.FolioNo]})]}),e.jsx("div",{className:"flex gap-2 md:gap-3 justify-end",children:s.Status!=="Cancelled"&&s.BookingStatus!=="Cancelled"&&e.jsx(Me,{label:"Cancel",icon:e.jsx(te,{className:"w-3 h-3 md:w-4 md:h-4"}),danger:!0,onClick:()=>N(s)})})]})]},s.ReservationNo)})})]}):!p&&e.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl  text-center py-8 md:py-16 px-4 md:px-8",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 md:gap-6",children:[e.jsxs("div",{className:"p-4 md:p-6 bg-gradient-to-br from-gray-100 to-slate-100 rounded-full",children:[n==="upcoming"&&e.jsx(K,{className:"w-8 h-8 md:w-12 md:h-12 text-gray-400"}),n==="confirmed"&&e.jsx(V,{className:"w-8 h-8 md:w-12 md:h-12 text-gray-400"}),n==="cancelled"&&e.jsx(_,{className:"w-8 h-8 md:w-12 md:h-12 text-gray-400"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-2",children:["No ",n," bookings found"]}),e.jsx("p",{className:"text-gray-600 text-base md:text-lg max-w-md",children:t?`No ${n} bookings match your search criteria.`:`You don't have any ${n} bookings across all hotels yet.`})]}),!t&&n==="upcoming"&&e.jsxs("button",{className:"mt-2 md:mt-4 inline-flex items-center justify-center px-6 md:px-8 py-3 md:py-4 bg-primary-green text-white rounded-xl font-semibold shadow-lg transition-all duration-200 hover:scale-105 text-sm md:text-base",children:[e.jsx(K,{className:"w-4 h-4 md:w-5 md:h-5 mr-2"}),"Make a Booking"]})]})})]})]})},Pe=({onViewAll:l})=>{var n,x,v,u,d;const r=localStorage.getItem("user_email"),{openHotelModal:t}=ie(),{data:o}=oe(r);return console.log(o),e.jsxs("div",{className:" md:p-8",children:[e.jsxs("div",{className:"max-w-6xl mx-auto grid lg:grid-cols-2 gap-12 items-center",children:[e.jsx("div",{className:"bg-white rounded-3xl shadow-lg p-4 overflow-hidden max-w-md mx-auto",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center text-sm text-green-500 mb-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Book direct & pay less"]}),e.jsx("h3",{className:"text-gray-600 text-3xl font-bold mb-3",children:"Complete a stay and get 5% extra off on your next booking"}),e.jsx("button",{onClick:t,className:"px-4 py-2 mt-4 border border-primary-green rounded text-primary-green font-medium hover:bg-yellow-50 transition",children:"Book Now"})]})}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-lg overflow-hidden max-w-md mx-auto",children:[e.jsxs("div",{className:"bg-white p-4 pb-0",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("div",{children:e.jsx("h2",{className:"text-primary-green text-2xl font-semibold mb-1",children:"Sunstar"})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-gray-900 font-semibold",children:((n=o==null?void 0:o.data)==null?void 0:n.firstName)+" "+((x=o==null?void 0:o.data)==null?void 0:x.lastName)}),e.jsx("div",{className:"text-gray-500 text-sm",children:(v=o==null?void 0:o.data)==null?void 0:v.email})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:"/images/loyalty-illustration.svg",alt:"",className:"h-[110px]"})})]}),e.jsx("div",{className:"bg-primary-green p-4",children:e.jsxs("div",{className:"flex justify-between items-center text-white",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-lg font-semibold",children:[(u=o==null?void 0:o.data)==null?void 0:u.totalBookings," Stays"]}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-sm opacity-90",children:"1 Stay to Road Warrior"})})]})})]})})]}),e.jsxs("div",{className:" mx-auto mt-5 md:p-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Your Recent Stays"}),e.jsxs("p",{className:"mt-2 text-gray-500",children:[(d=o==null?void 0:o.data)==null?void 0:d.totalBookings," Stays completed in the past 180 days. Stays will appear here after check-out. They will be counted towards loyalty benefits within 48hrs."]}),e.jsxs("div",{className:"mt-6 bg-gray-100 rounded-lg p-8 text-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"You don't have any recent stays"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"It looks like you haven't completed a stay with us in the past 180 days. Check out our top-rated hotels & book direct to save more!"}),e.jsx("button",{onClick:l,className:"mt-4 bg-primary-green hover:bg-primary-green text-white font-semibold px-6 py-3 rounded-lg",children:"View All Bookings"})]})]})]})},Fe=({onViewAll:l})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-6 max-w-6xl",children:[e.jsx("h2",{className:"text-xl md:text-4xl font-bold text-gray-800 mb-6",children:"Loyalty Program"}),e.jsx("div",{className:"bg-gradient-to-r from-primary-green to-primary-green rounded-lg p-4 md:p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg md:text-xl font-semibold mb-2",children:"Gold Member"}),e.jsx("p",{className:"text-yellow-100 text-sm md:text-base",children:"You've earned 1,250 points"})]}),e.jsx(ne,{className:"w-8 h-8 md:w-12 md:h-12 text-yellow-200"})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-800 text-sm md:text-base",children:"Points Balance"}),e.jsx("p",{className:"text-xl md:text-2xl font-bold text-teal-500",children:"1,250"})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-800 text-sm md:text-base",children:"Tier Status"}),e.jsx("p",{className:"text-base md:text-lg font-semibold text-primary-green",children:"Gold"})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-800 text-sm md:text-base",children:"Next Tier"}),e.jsx("p",{className:"text-base md:text-lg font-semibold text-gray-600",children:"Platinum (750 pts)"})]})]})]}),e.jsx(Pe,{onViewAll:l})]}),$e=({onViewAll:l})=>{const r=[{id:1,customer:"John Doe",hotel:"SunStar Hotel",date:"2025-01-15",status:"Confirmed",bookingAmount:25e3,commissionRate:.1,location:"Mumbai",nights:3},{id:2,customer:"Jane Smith",hotel:"Blue Lagoon Resort",date:"2025-01-22",status:"Confirmed",bookingAmount:18e3,commissionRate:.08,location:"Goa",nights:2},{id:3,customer:"Mike Johnson",hotel:"Ocean View Hotel",date:"2025-02-05",status:"Confirmed",bookingAmount:32e3,commissionRate:.12,location:"Kerala",nights:4},{id:4,customer:"Sarah Wilson",hotel:"Mountain Resort",date:"2025-02-18",status:"Confirmed",bookingAmount:28e3,commissionRate:.09,location:"Manali",nights:5},{id:5,customer:"David Brown",hotel:"City Center Hotel",date:"2025-03-08",status:"Confirmed",bookingAmount:22e3,commissionRate:.11,location:"Delhi",nights:2},{id:6,customer:"Emma Davis",hotel:"Seaside Resort",date:"2025-03-20",status:"Pending",bookingAmount:35e3,commissionRate:.1,location:"Chennai",nights:6}],o=(()=>{const i={};return r.filter(m=>m.status==="Confirmed").forEach(m=>{const w=new Date(m.date),C=["January","February","March","April","May","June","July","August","September","October","November","December"][w.getMonth()],R=m.bookingAmount*m.commissionRate;i[C]||(i[C]=0),i[C]+=R}),Object.entries(i).map(([m,w])=>({month:m,amount:w}))})(),n=r.slice(-6).reverse(),x=r.filter(i=>i.status==="Confirmed").reduce((i,m)=>i+m.bookingAmount*m.commissionRate,0),v=r.length,u=r.filter(i=>i.status==="Confirmed").length,d=r.filter(i=>i.status==="Pending").length;return e.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-12",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-8",children:[e.jsx("h1",{className:"text-3xl front-medium text-gray-900 mb-2",children:"Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Track your performance and earnings"})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsxs("span",{className:"text-2xl front-medium text-gray-900",children:["₹",x.toLocaleString("en-IN")]}),e.jsx(Ne,{className:"w-4 h-4 text-green-500"})]}),e.jsx("p",{className:"text-sm text-gray-500 uppercase tracking-wide",children:"Total Earnings"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-2xl front-medium text-gray-900",children:v}),e.jsx(be,{className:"w-4 h-4 text-blue-500"})]}),e.jsx("p",{className:"text-sm text-gray-500 uppercase tracking-wide",children:"Total Bookings"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-2xl front-medium text-gray-900 block mb-2",children:u}),e.jsx("p",{className:"text-sm text-gray-500 uppercase tracking-wide",children:"Confirmed"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-2xl front-medium text-gray-900 block mb-2",children:d}),e.jsx("p",{className:"text-sm text-gray-500 uppercase tracking-wide",children:"Pending"})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-12",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl front-medium text-gray-900 mb-1",children:"Monthly Earnings"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Commission breakdown by month"})]}),o.length>0?e.jsx("div",{className:"space-y-4",children:o.map((i,m)=>e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100 last:border-b-0",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:i.month}),e.jsxs("span",{className:"text-gray-900 font-medium",children:["₹",i.amount.toLocaleString("en-IN")]})]},m))}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-400 text-sm",children:"No earnings data available"})})]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl front-medium text-gray-900 mb-1",children:"Recent Bookings"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[u," confirmed, ",d," pending"]})]}),e.jsxs("button",{onClick:l,className:"flex items-center space-x-1 text-sm text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx("span",{children:"View all"}),e.jsx(ve,{className:"w-4 h-4"})]})]}),n.length>0?e.jsx("div",{className:"space-y-1",children:n.map((i,m)=>{const w=i.bookingAmount*i.commissionRate;return e.jsx("div",{className:"group hover:bg-gray-50 transition-colors rounded-lg p-4 -mx-4",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[e.jsx("div",{className:"col-span-1",children:e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(ae,{className:"w-4 h-4 text-gray-500"})})}),e.jsxs("div",{className:"col-span-4",children:[e.jsx("p",{className:"font-medium text-gray-900",children:i.customer}),e.jsx("p",{className:"text-sm text-gray-500",children:i.hotel})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-sm text-gray-700",children:i.location}),e.jsxs("p",{className:"text-xs text-gray-500",children:[i.nights," nights"]})]}),e.jsx("div",{className:"col-span-2",children:e.jsx("p",{className:"text-sm text-gray-700",children:new Date(i.date).toLocaleDateString("en-GB")})}),e.jsxs("div",{className:"col-span-2 text-right",children:[e.jsxs("p",{className:"font-medium text-gray-900",children:["₹",i.bookingAmount.toLocaleString("en-IN")]}),e.jsx("p",{className:"text-sm text-green-600",children:i.status==="Confirmed"?`+₹${w.toLocaleString("en-IN")}`:"Pending"})]}),e.jsx("div",{className:"col-span-1 text-right",children:e.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${i.status==="Confirmed"?"bg-green-500":"bg-yellow-500"}`})})]})},i.id)})}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"mb-4",children:e.jsx(ae,{className:"w-12 h-12 text-gray-300 mx-auto"})}),e.jsx("h3",{className:"text-lg front-medium text-gray-700 mb-2",children:"No bookings yet"}),e.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Start making bookings to see them here"}),e.jsx("button",{onClick:l,className:"inline-flex items-center space-x-2 bg-gray-900 hover:bg-gray-800 text-white px-6 py-2 rounded-md text-sm transition-colors",children:e.jsx("span",{children:"Get Started"})})]})]})]})]})},Ue=()=>{const l=[{month:"January",amount:"₹1,20,000"},{month:"February",amount:"₹98,500"},{month:"March",amount:"₹1,45,300"}],r=[{id:"C-101",dept:"Sales",rooms:6,date:"2025-03-12",status:"Confirmed"},{id:"C-102",dept:"HR",rooms:3,date:"2025-03-19",status:"Pending"}];return e.jsxs("div",{className:"space-y-8 p-4 md:p-6",children:[e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Monthly Spend"}),e.jsx("ul",{className:"divide-y divide-gray-200",children:l.map(t=>e.jsxs("li",{className:"flex justify-between py-2",children:[e.jsx("span",{className:"text-gray-700",children:t.month}),e.jsx("span",{className:"font-medium text-primary-green",children:t.amount})]},t.month))})]}),e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Recent Corporate Bookings"}),e.jsxs("p",{className:"mt-2 text-gray-500",children:[r.length," group bookings in the last 180 days."]}),r.length>0?e.jsx("div",{className:"mt-6 overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-200 text-sm",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-gray-200 p-3 text-left",children:"ID"}),e.jsx("th",{className:"border border-gray-200 p-3 text-left",children:"Department"}),e.jsx("th",{className:"border border-gray-200 p-3 text-left",children:"Rooms"}),e.jsx("th",{className:"border border-gray-200 p-3 text-left",children:"Date"}),e.jsx("th",{className:"border border-gray-200 p-3 text-left",children:"Status"})]})}),e.jsx("tbody",{children:r.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[e.jsx("td",{className:"border border-gray-200 p-3",children:t.id}),e.jsx("td",{className:"border border-gray-200 p-3",children:t.dept}),e.jsx("td",{className:"border border-gray-200 p-3",children:t.rooms}),e.jsx("td",{className:"border border-gray-200 p-3",children:t.date}),e.jsx("td",{className:`border border-gray-200 p-3 font-medium ${t.status==="Confirmed"?"text-green-600":"text-yellow-600"}`,children:t.status})]},t.id))})]})}):e.jsxs("div",{className:"mt-6 bg-gray-100 rounded-lg p-8 text-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"No recent corporate bookings"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Plan your next offsite or block rooms for your team."})]})]})]})},Ze=()=>{var b,G,q,X;const r=(G=(b=we().state)==null?void 0:b.tab)!=null?G:"profile",[t,o]=f.useState(r),[n,x]=f.useState(null),[v,u]=f.useState(!1),[d,i]=f.useState(!1),{setIsNavColor:m}=ie(),w=localStorage.getItem("user_email"),{data:g,isLoading:C}=Oe(w),R=!!g&&(g==null?void 0:g.role)==="agent",P=(q=g==null?void 0:g.approved)!=null?q:!1,F=!!g&&(g==null?void 0:g.role)==="corporate",$=(X=g==null?void 0:g.approved)!=null?X:!1,{data:y}=oe(w);console.log(y);const{mutate:E}=Ee();f.useEffect(()=>(m(!0),()=>{m(!1)}),[m]);const[p,U]=f.useState({legalName:"",email:"",mobile:"",dateOfBirth:"",gender:"",cityOfResidence:""});f.useEffect(()=>{if(y!=null&&y.data){const{firstName:a,lastName:A,email:H,phone:Z,dateOfBirth:de,gender:ce,cityOfResidence:me}=y.data;U({legalName:`${a||""} ${A||""}`.trim(),email:H||"",mobile:Z?`+91 - ${Z}`:"",dateOfBirth:de||"",gender:ce||"",cityOfResidence:me||""})}},[y]);const[j,N]=f.useState({}),I=(()=>{const a=[{id:"loyalty",label:"Loyalty",icon:ne},{id:"bookings",label:"Bookings",icon:K},{id:"profile",label:"Profile",icon:Re}];return!C&&R&&P&&a.push({id:"agent",label:"Agent",icon:re}),!C&&F&&$&&a.push({id:"corporate",label:"Corporate",icon:re}),a})(),T=I.find(a=>a.id===t)||I[0],O=a=>{x(a),N({[a]:p[a]})},k=a=>{const A=j[a];if(A===p[a]||A.trim()===""){x(null),N({});return}const H=S(B({},p),{[a]:A});U(H),x(null),N({}),E(H)},s=()=>{x(null),N({})},h=a=>{o(a),i(!1)},c=()=>{switch(t){case"loyalty":return e.jsx(Fe,{onViewAll:()=>o("bookings")});case"bookings":return e.jsx(Ie,{});case"corporate":return C?e.jsx("div",{className:"p-4",children:"Loading corporate data..."}):F?$?e.jsx(Ue,{}):e.jsx("div",{className:"p-4",children:"Your corporate account is pending approval."}):e.jsx("div",{className:"p-4 text-red-600",children:"Not authorized as Corporate."});case"agent":return C?e.jsx("div",{className:"p-4",children:"Loading agent data..."}):R?P?e.jsx($e,{}):e.jsx("div",{className:"p-4",children:"Your agent account is pending approval."}):e.jsx("div",{className:"p-4 text-red-600",children:"Not authorized as Agent."});case"profile":default:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Legal Name"}),n==="legalName"?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:j.legalName||"",onChange:a=>N(S(B({},j),{legalName:a.target.value})),className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-teal-500 flex-1 min-w-0"}),e.jsx("button",{onClick:()=>k("legalName"),className:"text-teal-500 hover:text-teal-600 p-1",children:e.jsx(M,{className:"w-4 h-4"})}),e.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-600 p-1",children:e.jsx(D,{className:"w-4 h-4"})})]}):e.jsx("p",{className:"text-gray-800 break-words",children:p.legalName})]}),n!=="legalName"&&e.jsx("button",{onClick:()=>O("legalName"),className:"text-teal-500 hover:text-teal-600 text-sm font-medium self-start sm:self-center",children:"Edit"})]}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Email Address"}),n==="email"?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"email",value:j.email||"",onChange:a=>N(S(B({},j),{email:a.target.value})),className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-teal-500 flex-1 min-w-0"}),e.jsx("button",{onClick:()=>k("email"),className:"text-teal-500 hover:text-teal-600 p-1",children:e.jsx(M,{className:"w-4 h-4"})}),e.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-600 p-1",children:e.jsx(D,{className:"w-4 h-4"})})]}):e.jsx("p",{className:"text-gray-800 break-words",children:p.email})]}),n!=="email"&&e.jsx("button",{onClick:()=>O("email"),className:"text-teal-500 hover:text-teal-600 text-sm font-medium self-start sm:self-center",children:"Edit"})]}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Mobile Number"}),n==="mobile"?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"tel",value:j.mobile||"",onChange:a=>N(S(B({},j),{mobile:a.target.value})),className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-teal-500 flex-1 min-w-0"}),e.jsx("button",{onClick:()=>k("mobile"),className:"text-teal-500 hover:text-teal-600 p-1",children:e.jsx(M,{className:"w-4 h-4"})}),e.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-600 p-1",children:e.jsx(D,{className:"w-4 h-4"})})]}):e.jsx("p",{className:"text-gray-800 break-words",children:p.mobile})]}),n!=="mobile"&&e.jsx("button",{onClick:()=>O("mobile"),className:"text-teal-500 hover:text-teal-600 text-sm font-medium self-start sm:self-center",children:"Edit"})]}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Date of Birth"}),n==="dateOfBirth"?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"date",value:j.dateOfBirth||"",onChange:a=>N(S(B({},j),{dateOfBirth:a.target.value})),className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-teal-500 flex-1 min-w-0"}),e.jsx("button",{onClick:()=>k("dateOfBirth"),className:"text-teal-500 hover:text-teal-600 p-1",children:e.jsx(M,{className:"w-4 h-4"})}),e.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-600 p-1",children:e.jsx(D,{className:"w-4 h-4"})})]}):e.jsx("p",{className:`break-words ${p.dateOfBirth?"text-gray-800":"text-gray-400"}`,children:p.dateOfBirth||"Date of Birth"})]}),n!=="dateOfBirth"&&e.jsx("button",{onClick:()=>O("dateOfBirth"),className:"text-teal-500 hover:text-teal-600 text-sm font-medium self-start sm:self-center",children:"Edit"})]}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Gender"}),n==="gender"?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:j.gender||"",onChange:a=>N(S(B({},j),{gender:a.target.value})),className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-teal-500 flex-1 min-w-0",children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"})]}),e.jsx("button",{onClick:()=>k("gender"),className:"text-teal-500 hover:text-teal-600 p-1",children:e.jsx(M,{className:"w-4 h-4"})}),e.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-600 p-1",children:e.jsx(D,{className:"w-4 h-4"})})]}):e.jsx("p",{className:`break-words ${p.gender?"text-gray-800":"text-gray-400"}`,children:p.gender||"Gender"})]}),n!=="gender"&&e.jsx("button",{onClick:()=>O("gender"),className:"text-teal-500 hover:text-teal-600 text-sm font-medium self-start sm:self-center",children:"Edit"})]}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"City of Residence"}),n==="cityOfResidence"?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:j.cityOfResidence||"",onChange:a=>N(S(B({},j),{cityOfResidence:a.target.value})),className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-teal-500 flex-1 min-w-0",placeholder:"Enter your city"}),e.jsx("button",{onClick:()=>k("cityOfResidence"),className:"text-teal-500 hover:text-teal-600 p-1",children:e.jsx(M,{className:"w-4 h-4"})}),e.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-600 p-1",children:e.jsx(D,{className:"w-4 h-4"})})]}):e.jsx("p",{className:`break-words ${p.cityOfResidence?"text-gray-800":"text-gray-400"}`,children:p.cityOfResidence||"City of Residence"})]}),n!=="cityOfResidence"&&e.jsx("button",{onClick:()=>O("cityOfResidence"),className:"text-teal-500 hover:text-teal-600 text-sm font-medium self-start sm:self-center",children:"Edit"})]})]})}},L=()=>{localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(a=>{const A=a.split("=")[0].trim();document.cookie=`${A}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;`}),"caches"in window&&caches.keys().then(a=>{a.forEach(A=>caches.delete(A))}),window.location.href="/"};return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"content mt-28 sm:mt-28 mx-auto px-4 sm:px-6",children:[e.jsx("div",{className:"lg:hidden mb-4 pt-6 mt-4",children:e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>i(!d),className:"flex items-center justify-between w-full text-gray-700 bg-white px-4 py-2 rounded-lg shadow-sm border",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T.icon,{className:"w-5 h-5"}),e.jsx("span",{children:T.label})]}),e.jsx(Ce,{className:`w-4 h-4 transform transition-transform duration-200 ${d?"rotate-180":""}`})]}),d&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:I.map(a=>e.jsxs("button",{onClick:()=>h(a.id),className:`w-full flex items-center space-x-2 px-4 py-3 text-left hover:bg-gray-50 first:rounded-t-lg last:rounded-b-lg transition-colors ${t===a.id?"bg-primary-green text-white hover:bg-primary-green":"text-gray-700"}`,children:[e.jsx(a.icon,{className:"w-5 h-5"}),e.jsx("span",{children:a.label})]},a.id))})]})}),e.jsxs("div",{className:"flex gap-6 min-h-[calc(100vh-120px)]",children:[v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>u(!1)}),e.jsx("div",{className:`
            fixed lg:sticky lg:top-0 top-0 left-0 h-full lg:h-auto
            w-80 max-w-[90vw] bg-white lg:bg-transparent
            transform transition-transform duration-300 ease-in-out
            ${v?"translate-x-0":"-translate-x-full lg:translate-x-0"}
            z-50 lg:z-auto overflow-y-auto
          `,children:e.jsxs("div",{className:"p-4 lg:p-0 space-y-4",children:[e.jsx("div",{className:"lg:hidden flex justify-end",children:e.jsx("button",{onClick:()=>u(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(D,{className:"w-6 h-6"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"hidden lg:block",children:e.jsx("img",{src:"/images/loyalty-illustration.svg",alt:"",className:"mx-auto h-[180px]"})}),e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm",children:[e.jsxs("div",{className:"p-4 border-b",children:[e.jsx("h3",{className:"font-medium text-gray-800",children:"Account Details"}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:p.email})]}),e.jsx("div",{className:"space-y-1",children:I.map(a=>e.jsxs("button",{onClick:()=>{o(a.id),u(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 text-left transition-colors ${t===a.id?"bg-primary-green text-white":"hover:bg-gray-50 text-gray-700"}`,children:[e.jsx(a.icon,{className:"w-5 h-5"}),e.jsx("span",{className:t===a.id?"font-medium":"",children:a.label})]},a.id))})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[e.jsx("h3",{className:"font-medium text-gray-800 mb-4",children:"Need Help?"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("a",{href:"mailto:booking@sunstarhospitality.com",className:"flex items-center space-x-2 text-primary-green hover:text-primary-green",children:[e.jsx(ke,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"text-sm break-all",children:"booking@sunstarhospitality.com"})]}),e.jsxs("a",{href:"tel:+91-9310831646",className:"flex items-center space-x-2 text-primary-green hover:text-primary-green",children:[e.jsx(Be,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:"+91-91 9310831646"})]})]})]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("a",{href:"/terms-conditions&cancellation",className:"block hover:text-gray-800 transition-colors",children:"Cancellation Policy"}),e.jsx("a",{href:"/terms-conditions&cancellation",className:"block hover:text-gray-800 transition-colors",children:"Terms & Conditions"}),e.jsx("a",{href:"/privacy-policies",className:"block hover:text-gray-800 transition-colors",children:"Privacy Policy"})]})]})}),e.jsxs("div",{className:"flex-1 bg-white my-6 hotelSelection rounded-lg p-4 sm:p-6 overflow-y-auto max-h-full",children:[c(),t==="profile"&&e.jsx("div",{className:"mt-12 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[e.jsx(Se,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:"Having trouble with your profile? Contact Support"})]}),e.jsx("button",{onClick:L,className:"bg-primary-green hover:bg-primary-green text-white px-6 py-2 rounded-md text-sm font-medium transition-colors self-start sm:self-center",children:"Logout"})]})})]})]})]})})};export{Ze as default};
