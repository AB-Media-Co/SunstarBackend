var e=Object.defineProperty,r=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(r,l,o)=>l in r?e(r,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[l]=o,a=(e,r,l)=>new Promise(((o,n)=>{var a=e=>{try{s(l.next(e))}catch(r){n(r)}},t=e=>{try{s(l.throw(e))}catch(r){n(r)}},s=e=>e.done?o(e.value):Promise.resolve(e.value).then(a,t);s((l=l.apply(e,r)).next())}));import{h as t,l as s,g as u,_ as i}from"./react-vendor-tq68JOgp.js";import{c as d}from"./index-BZBH8CwT.js";const y=(e={})=>t(((e,a)=>{for(var t in a||(a={}))l.call(a,t)&&n(e,t,a[t]);if(r)for(var t of r(a))o.call(a,t)&&n(e,t,a[t]);return e})({queryKey:["loyaltyProgram"],queryFn:()=>a(void 0,null,(function*(){return(yield d.get("/api/loyalty")).data})),staleTime:3e4,refetchOnWindowFocus:!1},e)),c=()=>{const e=s();return u({mutationFn:e=>a(void 0,null,(function*(){return(yield d.put("/api/loyalty",e)).data})),onSuccess:r=>{i.success("Loyalty Program saved"),e.invalidateQueries({queryKey:["loyaltyProgram"]})},onError:e=>{var r,l,o,n;const a=null!=(n=null!=(o=null==(l=null==(r=null==e?void 0:e.response)?void 0:r.data)?void 0:l.message)?o:null==e?void 0:e.message)?n:"Error saving program";i.error(a)}})},v=()=>{const e=s();return u({mutationFn:e=>a(void 0,null,(function*(){return(yield d.post("/api/loyalty/tiers",e)).data})),onSuccess:()=>{i.success("Tier added"),e.invalidateQueries({queryKey:["loyaltyProgram"]})},onError:e=>{var r,l,o,n;const a=null!=(n=null!=(o=null==(l=null==(r=null==e?void 0:e.response)?void 0:r.data)?void 0:l.message)?o:null==e?void 0:e.message)?n:"Error adding tier";i.error(a)}})},m=()=>{const e=s();return u({mutationFn:e=>a(void 0,[e],(function*({level:e,updateData:r}){return(yield d.put(`/api/loyalty/tiers/${e}`,r)).data})),onSuccess:()=>{i.success("Tier updated"),e.invalidateQueries({queryKey:["loyaltyProgram"]})},onError:e=>{var r,l,o,n;const a=null!=(n=null!=(o=null==(l=null==(r=null==e?void 0:e.response)?void 0:r.data)?void 0:l.message)?o:null==e?void 0:e.message)?n:"Error updating tier";i.error(a)}})},p=()=>{const e=s();return u({mutationFn:e=>a(void 0,null,(function*(){return(yield d.delete(`/api/loyalty/tiers/${e}`)).data})),onSuccess:()=>{i.success("Tier deleted"),e.invalidateQueries({queryKey:["loyaltyProgram"]})},onError:e=>{var r,l,o,n;const a=null!=(n=null!=(o=null==(l=null==(r=null==e?void 0:e.response)?void 0:r.data)?void 0:l.message)?o:null==e?void 0:e.message)?n:"Error deleting tier";i.error(a)}})},g=()=>{const e=s();return u({mutationFn:e=>a(void 0,null,(function*(){return(yield d.post("/api/seed/loyalty",null!=e?e:{})).data})),onSuccess:()=>{i.success("Seeded loyalty program"),e.invalidateQueries({queryKey:["loyaltyProgram"]})},onError:e=>{var r,l,o,n;const a=null!=(n=null!=(o=null==(l=null==(r=null==e?void 0:e.response)?void 0:r.data)?void 0:l.message)?o:null==e?void 0:e.message)?n:"Error seeding program";i.error(a)}})};export{c as a,v as b,m as c,p as d,g as e,y as u};
