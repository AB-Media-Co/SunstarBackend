import{j as e,L as Y,B as se,D as K,E as te,w as Q,G as h,b as M,r as p,J as re,a as X,K as ne,M as oe,N as Z,Q as D,z as le,f as ae,h as ie}from"./index-DcyV_sC9.js";import{R as ce}from"./Remove-wK6gl4sN.js";const de=({ContactUsDetail:r})=>e.jsxs("div",{className:"flex flex-col gap-6 md:gap-10 md:flex-row justify-between md:items-center text-gray-600 px-4 py-6",children:[e.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[e.jsx("p",{className:"text-lg md:text-2xl font-bold tracking-tight",children:"Facing an Issue? Call us for assistance."}),e.jsx("a",{href:`tel:${r==null?void 0:r.phoneNumber}`,className:"text-base md:text-xl font-semibold underline hover:text-gray-800 transition-colors duration-300",children:r==null?void 0:r.phoneNumber})]}),e.jsxs("div",{className:"flex gap-6 md:gap-8",children:[e.jsx(Y,{to:"/terms-conditions&cancellation",className:"text-base md:text-lg font-medium underline hover:text-gray-800 transition-colors duration-300",children:"Cancellation Policy"}),e.jsx(Y,{to:"/terms-conditions&cancellation",className:"text-base md:text-lg font-medium underline hover:text-gray-800 transition-colors duration-300",children:"Terms & Conditions"})]})]}),me=(r,m,x,a,l)=>K({mutationFn:async o=>{const t={Room_Details:l.reduce((n,s,i)=>(n[`Room_${i+1}`]={Rateplan_Id:s.rateplanId||"",Ratetype_Id:s.RateTypeID||"",Roomtype_Id:s.RoomTypeID||"",baserate:s.price?s.price.toString():"0",extradultrate:s.extraAdultRate?s.extraAdultRate.toString():"0",extrachildrate:s.extraChildRate?s.extraChildRate.toString():"0",number_adults:s.guestQty?s.guestQty.toString():"1",number_children:s.childrenQty?s.childrenQty.toString():"0",ExtraChild_Age:s.childrenQty>0?s.childAge||"0":"",Title:o.title||"",First_Name:o.firstName||"",Last_Name:o.lastName||"",Gender:o.gender||"",SpecialRequest:o.specialRequest||""},n),{}),check_in_date:x,check_out_date:a,Booking_Payment_Mode:o.paymentMethod||"",Email_Address:o.email||"",MobileNo:o.phoneNumber||"",Address:o.address||"",Country:o.country||"",City:o.city||"",Zipcode:o.zipcode||""};return(await Q.post("/api/booking",{roomData:t,hotelDetail:{hotelCode:r,authKey:m}})).data},onSuccess:o=>{if(o&&o.ReservationNo)return h.success(`Booking successful! Reservation #${o.ReservationNo}`),o;throw h.error("Booking failed: "+(o.message||"Unknown error")),new Error(o.message||"Unknown error")},onError:o=>{var t,c;throw console.error("Booking error:",o),h.error("Error making booking: "+(((c=(t=o==null?void 0:o.response)==null?void 0:t.data)==null?void 0:c.message)||o.message)),o}}),xe=()=>{const r=se();return K({mutationFn:async m=>(await Q.post("/api/newBooking/createBooking",m)).data,onSuccess:()=>{r.invalidateQueries({queryKey:["bookings"]}),h.success("Booking created successfully")},onError:m=>{var x,a;h.error(`Failed to create booking: ${((a=(x=m.response)==null?void 0:x.data)==null?void 0:a.message)||m.message}`)}})},ue=(r,m)=>te({queryKey:["user-bookings",r,m],queryFn:async()=>{var a;const x=await Q.get("/api/hotel-booking",{params:{email:r,phone:m}});return console.log(x),((a=x.data)==null?void 0:a.data)||[]},enabled:!!r&&!!m,staleTime:6e4,refetchOnWindowFocus:!1}),he=({hotelDetail:r,guestFormRef:m,checkIn:x,checkOut:a})=>{const{selectedRooms:l}=M(),[o,t]=p.useState(""),{mutate:c,isLoading:n}=me(r==null?void 0:r.hotelCode,r==null?void 0:r.authKey,x,a,l),s=u=>{t(u)},{mutate:i}=re(),f=async()=>{if(m.current&&!m.current.validateForm()){h.error("Please fill all required guest information");return}const u=m.current.getGuestDetails();if(!u.firstName||!u.lastName||!u.email){h.error("Please provide name and email information");return}u.paymentMethod=o,console.log(u);const y={userEmail:u.email,userPhone:u.phoneNumber,checkIn:x,checkOut:a,hotelCode:r==null?void 0:r.hotelCode,Hoteldata:r==null?void 0:r.authKey,selectedRooms:l,submittedAt:new Date().toISOString()};i(y,{onSuccess:()=>{},onError:j=>{console.error("Submission error:",j)}})};return e.jsxs("div",{id:"payment-method",className:"flex flex-col bg-white mt-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-1 h-8 rounded-full mr-3",style:{backgroundColor:"#058FA2"}}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Payment Method"})]}),e.jsx("div",{className:"flex flex-col gap-4",children:(r==null?void 0:r.payAtHotel)==="yes"&&e.jsxs("label",{htmlFor:"pay-at-hotel",className:"flex items-center gap-4 p-4 rounded-lg cursor-pointer border-2 border-gray-200 hover:border-teal-200 hover:bg-gray-50 transition-all shadow-sm hover:shadow-lg",children:[e.jsx("input",{type:"radio",id:"pay-at-hotel",name:"payment-method",className:"w-5 h-5",onChange:()=>s("pay-at-hotel"),checked:o==="pay-at-hotel"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Pay at Hotel"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Reserve now and pay directly at the hotel upon check-in."})]})]})}),o&&e.jsx("div",{className:"w-full flex justify-end",children:e.jsx("button",{className:"mt-6 w-[200px] bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded transition-all",style:{backgroundColor:"#058FA2"},onClick:f,disabled:n,children:n?"Processing...":"Continue to Pay"})})]})},U=r=>r?new Date(r).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short",year:"numeric"}):"",J=({hotelDetail:r,checkIn:m,checkOut:x,days:a,showButton:l,isPaymentVisible:o})=>{const t=X(),{setEditAddPricing:c,selectedRooms:n,totalOtherCharges:s,finalPrice:i,baseFinalPrice:f,setNights:u}=M();p.useEffect(()=>{a&&(u(a),localStorage.setItem("days",a))},[a,u]);const y=()=>{c(!0),localStorage.setItem("editAddPricing",!0),t(`/hotels/${r==null?void 0:r.hotelCode}`)};return e.jsxs("div",{className:"p-4 bg-primary-white sticky top-4 border-2 rounded-lg w-full md:w-[24rem] mx-auto font-sans",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Reservation Summary"}),e.jsxs("div",{className:"flex flex-col gap-4 border border-gray-200 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Check-In"}),e.jsx("p",{className:"md:text-lg font-semibold text-teal-600",children:U(m)}),e.jsxs("p",{className:"text-sm text-gray-500",children:["From ",(r==null?void 0:r.checkIn)||"10:00 AM"]})]}),e.jsx("hr",{className:"w-[2px] bg-gray-400 h-16"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Check-Out"}),e.jsx("p",{className:"md:text-lg font-semibold text-teal-600",children:U(x)}),e.jsxs("p",{className:"text-sm text-gray-500",children:["By ",(r==null?void 0:r.checkOut)||"2:00 PM"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-sm text-gray-700 flex items-center",children:["Total Length Of Stay:",e.jsxs("span",{className:"ml-2 font-semibold text-gray-800",children:[a," Days"]})]}),e.jsx("div",{onClick:y,className:"mt-2 text-sm cursor-pointer text-orange-600 underline hover:text-orange-500 transition-colors",children:"Change Your Selection"})]})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Your Price Summary"}),n&&n.length>0&&n.map((j,v)=>e.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[e.jsxs("p",{children:[j.roomName," (",j.option==="roomOnly"?"Room Only":"Continental Plan",") X ",a," Night"]}),e.jsxs("p",{className:"font-medium text-gray-800",children:["₹ ",j.price*a]})]},v))]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-700 mt-4",children:[e.jsx("p",{children:"Other Charges"}),e.jsxs("p",{className:"font-medium text-gray-800",children:["₹ ",s]})]}),e.jsxs("div",{className:"border-t mt-2 pt-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[e.jsx("p",{children:"Original Amount"}),e.jsxs("p",{className:"font-medium text-gray-800",children:["₹ ",f]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-700 mt-1",children:[e.jsx("p",{children:"Discount"}),e.jsxs("p",{className:"font-medium text-gray-800",children:["₹ ",f-i]})]}),e.jsxs("div",{className:"flex justify-between text-base font-semibold mt-1",children:[e.jsx("p",{children:"Payable Amount"}),e.jsxs("p",{className:"text-primary-green",children:["₹ ",i]})]})]}),e.jsx("a",{href:"#payment-method",className:"hidden lg:block",children:l&&e.jsx("button",{className:`mt-6 w-full bg-primary-dark-green text-primary-white font-semibold py-3 rounded transition-opacity duration-300 ${o?"opacity-0":"opacity-100"}`,children:"See Payment Options"})})]})};/*! js-cookie v3.0.5 | MIT */function F(r){for(var m=1;m<arguments.length;m++){var x=arguments[m];for(var a in x)r[a]=x[a]}return r}var fe={read:function(r){return r[0]==='"'&&(r=r.slice(1,-1)),r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(r){return encodeURIComponent(r).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function z(r,m){function x(l,o,t){if(!(typeof document>"u")){t=F({},m,t),typeof t.expires=="number"&&(t.expires=new Date(Date.now()+t.expires*864e5)),t.expires&&(t.expires=t.expires.toUTCString()),l=encodeURIComponent(l).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var n in t)t[n]&&(c+="; "+n,t[n]!==!0&&(c+="="+t[n].split(";")[0]));return document.cookie=l+"="+r.write(o,l)+c}}function a(l){if(!(typeof document>"u"||arguments.length&&!l)){for(var o=document.cookie?document.cookie.split("; "):[],t={},c=0;c<o.length;c++){var n=o[c].split("="),s=n.slice(1).join("=");try{var i=decodeURIComponent(n[0]);if(t[i]=r.read(s,i),l===i)break}catch{}}return l?t[l]:t}}return Object.create({set:x,get:a,remove:function(l,o){x(l,"",F({},o,{expires:-1}))},withAttributes:function(l){return z(this.converter,F({},this.attributes,l))},withConverter:function(l){return z(F({},this.converter,l),this.attributes)}},{attributes:{value:Object.freeze(m)},converter:{value:Object.freeze(r)}})}var R=z(fe,{path:"/"});const ge=({hotelDetail:r,checkIn:m})=>{const[x,a]=p.useState(""),[l,o]=p.useState(null),[,t]=p.useState(null),[c,n]=p.useState(!1),s="#058FA2",{mutate:i,data:f}=ne(),{mutateAsync:u}=oe(),{finalPrice:y,setFinalPrice:j,baseFinalPrice:v,phoneVerified:N,setPhoneVerified:k}=M(),[L,P]=p.useState(!1),[S,q]=p.useState(""),[B,A]=p.useState(""),[T,H]=p.useState(!1),{mutate:V}=Z(),{mutate:W}=D();p.useEffect(()=>{r&&r._id&&i(r._id)},[i,r]),p.useEffect(()=>{R.get("phoneVerified")==="true"&&k(!0)},[]);const _=()=>{if(!S.trim()){h.error("Please enter a valid phone number");return}V(`+91${S}`,{onSuccess:d=>{d&&d.sessionId&&localStorage.setItem("otpSessionId",d.sessionId),P(!0),h.success("OTP sent to your phone")},onError:()=>{h.error("Error sending OTP")}})},$=()=>{if(!B.trim()){h.error("Please enter the OTP");return}let d=S.trim();d.startsWith("+91")||(d="+91"+d);const w=localStorage.getItem("otpSessionId");if(!w){h.error("Session expired. Please request a new OTP");return}W({phone:d,code:B,sessionId:w},{onSuccess:b=>{b&&b.status==="OTP Matched"?(R.set("phoneVerified","true",{expires:30}),k(!0),P(!1),h.success("Phone number verified")):h.error("Invalid OTP")},onError:()=>{h.error("OTP verification failed")}})},G=async()=>{var d,w,b,E;if(x.trim())try{const C=await u({hotelId:r._id,rate:y,offerCode:x.trim(),checkInDate:m});t(C),C.discountedRate&&j(C.discountedRate),h.success("Discounted rate calculated successfully")}catch(C){h.error((w=(d=C==null?void 0:C.response)==null?void 0:d.data)!=null&&w.error?(E=(b=C==null?void 0:C.response)==null?void 0:b.data)==null?void 0:E.error:"Error calculating discounted rate")}},g=()=>{o(null),t(null),j(v)},O=async d=>{var w,b,E,C;o(d),n(!1);try{const I=await u({hotelId:r._id,rate:y,offerCode:d.offerCode,checkInDate:m});t(I),I.discountedRate&&j(I.discountedRate),n(!0)}catch(I){h.error((b=(w=I==null?void 0:I.response)==null?void 0:w.data)!=null&&b.error?(C=(E=I==null?void 0:I.response)==null?void 0:E.data)==null?void 0:C.error:"Error calculating discounted rate")}};return N?e.jsxs("div",{className:"flex flex-col bg-white w-full mx-auto font-sans",children:[e.jsxs("div",{className:"flex items-center mb-8",children:[e.jsx("div",{className:"w-10 h-10 flex items-center justify-center rounded-full bg-cyan-600 text-white mr-3",style:{backgroundColor:s},children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),e.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Exclusive Offers"})]}),!l&&e.jsx("div",{className:"relative mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4 md:gap-3",children:[e.jsxs("div",{className:"relative flex-grow",children:[e.jsx("input",{type:"text",id:"promo",placeholder:"Enter Offer Code Here",className:"w-full h-14 shadow-md border border-gray-300 rounded-lg py-2 pl-12 pr-4 text-lg focus:outline-none focus:ring-2 focus:border-cyan-300 transition-all",style:{"--tw-ring-color":s},value:x,onChange:d=>a(d.target.value)}),e.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),e.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),e.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]})})]}),e.jsx("button",{onClick:G,className:"h-14 px-6 md:w-40 rounded-lg text-white font-bold transition-all hover:shadow-lg flex items-center justify-center",style:{backgroundColor:s},children:"Apply Code"})]})}),!l&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-1 h-6 rounded-full mr-3",style:{backgroundColor:s}}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Available Offer Codes"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:f&&f.map(d=>e.jsxs("div",{onClick:()=>O(d),className:"p-4 rounded-lg border-2 cursor-pointer transition-all border-gray-200 hover:bg-cyan-50 transform hover:-translate-y-1 hover:shadow-md",style:{"--tw-hover-border-opacity":1,"--tw-hover-border-color":s},children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-bold text-lg text-gray-800",children:d.offerCode}),e.jsxs("span",{className:"text-sm font-semibold px-3 py-1 rounded-full text-white",style:{backgroundColor:s},children:[d.discountPercent,"%"]})]}),e.jsx("div",{className:"mt-3 flex justify-end",children:e.jsxs("span",{className:"text-xs font-medium flex items-center",style:{color:s},children:["Click to apply",e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"ml-1",children:[e.jsx("path",{d:"M5 12h14"}),e.jsx("path",{d:"M12 5l7 7-7 7"})]})]})})]},d.offerCode))})]}),l&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-1 h-6 rounded-full mr-3",style:{backgroundColor:s}}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Applied Offer"})]}),e.jsxs("button",{onClick:g,className:"flex items-center text-sm px-4 py-2 bg-red-50 text-red-600 rounded-full hover:bg-red-100 transition-colors",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Remove & Change"]})]}),e.jsxs("div",{className:"relative overflow-hidden p-6 bg-cyan-50 border-2 rounded-lg shadow-sm",style:{borderColor:s},children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 transform translate-x-8 -translate-y-8",children:e.jsx("div",{className:"absolute transform rotate-45 text-white font-bold py-1 w-32 text-center text-xs",style:{backgroundColor:s},children:"APPLIED"})}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-2xl text-gray-800",children:l.offerCode}),e.jsx("div",{className:"text-gray-600 mt-2",children:l.description})]}),e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsxs("span",{className:"text-lg font-semibold px-4 py-2 rounded-full text-white",style:{backgroundColor:s},children:[l.discountPercent,"%"]})})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-cyan-200 flex items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",style:{color:s},children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),c&&e.jsx("p",{className:"font-medium",style:{color:s},children:"Offer successfully applied to your order!"})]})]})]})]}):e.jsxs("div",{className:"flex flex-col font-sans",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-1 h-8 rounded-full mr-3",style:{backgroundColor:s}}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Exclusive Offers"})]}),e.jsxs("div",{className:"mb-6 p-6 bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"bg-cyan-100 p-2 rounded-full mr-3",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-xl text-gray-800",children:"Verify Your Phone Number"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Unlock special discounts exclusive to verified users"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 my-4",children:[e.jsxs("div",{className:"flex items-center flex-grow gap-2 bg-gray-50 p-3 rounded-lg",children:[e.jsx("div",{className:"h-10 w-10 bg-cyan-600 rounded-full flex items-center justify-center",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),e.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Exclusive Offers"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Up to 25% off on bookings"})]})]}),e.jsxs("div",{className:"flex items-center flex-grow gap-2 bg-gray-50 p-3 rounded-lg",children:[e.jsx("div",{className:"h-10 w-10 bg-cyan-600 rounded-full flex items-center justify-center",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Secure Process"}),e.jsx("p",{className:"text-xs text-gray-500",children:"OTP verification for security"})]})]})]}),e.jsxs("button",{onClick:()=>P(!0),className:"w-full py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:shadow-lg flex items-center justify-center gap-2 transition-all",style:{backgroundColor:s},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.94z"})}),"Verify Phone Number"]})]}),L&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg w-96 shadow-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Phone Verification"}),e.jsx("button",{onClick:()=>P(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),T?e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6 text-center",children:[e.jsx("div",{className:"inline-block p-3 rounded-full bg-cyan-100 mb-4",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0110 0v4"})]})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Enter Verification Code"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["We've sent a 6-digit code to +91 ",S]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("input",{type:"text",value:B,onChange:d=>A(d.target.value),placeholder:"Enter 6-digit OTP",className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-center text-lg tracking-widest focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all",maxLength:"6"})}),e.jsx("button",{onClick:$,className:"w-full py-3 bg-gradient-to-r from-cyan-600 to-cyan-700 text-white font-semibold rounded-lg shadow hover:shadow-lg transition-all",children:"Verify & Continue"}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-gray-600 text-sm",children:["Didn't receive the code?"," ",e.jsx("button",{onClick:_,className:"text-cyan-600 font-medium hover:underline",children:"Resend"})]})})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6 text-center",children:[e.jsx("div",{className:"inline-block p-3 rounded-full bg-cyan-100 mb-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z"})})}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Enter your phone number to receive a verification code"})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx("span",{className:"text-gray-500",children:"+91"})}),e.jsx("input",{type:"text",value:S,onChange:d=>q(d.target.value),placeholder:"Your phone number",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all",maxLength:"10"})]}),e.jsx("button",{onClick:_,className:"w-full py-3 bg-gradient-to-r from-cyan-600 to-cyan-700 text-white font-semibold rounded-lg shadow hover:shadow-lg transition-all",children:"Send Verification Code"}),e.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})]})})]})},pe=({data:r})=>{const m=r==null?void 0:r.addToYourStay,[x,a]=p.useState({}),{selectedOtherCharges:l,setSelectedOtherCharges:o}=M(),t=s=>{a(i=>({...i,[s]:!i[s]}))},c=(s,i)=>{i.stopPropagation(),o(f=>f.find(y=>y._id===s._id)?f.filter(y=>y._id!==s._id):[...f,s])},n=s=>l.some(i=>i._id===s);return e.jsxs("div",{className:"bg-white w-full mx-auto p-6",children:[e.jsxs("div",{className:"flex items-center mb-8",children:[e.jsx("div",{className:"w-1 h-8 bg-primary-green rounded-full mr-4",style:{backgroundColor:"#058FA2"}}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Add To Your Stay"})]}),e.jsx("div",{className:"space-y-6",children:m.map(s=>{var i,f;return e.jsxs("div",{className:`transition-all duration-200 border-2 rounded-lg overflow-hidden ${n(s._id)?"border-primary-green bg-teal-50":"border-gray-200 hover:border-teal-200 hover:bg-gray-50"}`,style:{borderColor:n(s._id)?"#058FA2":"",backgroundColor:n(s._id)?"#e6f7f9":""},children:[e.jsx("div",{className:"flex w-full items-center justify-between p-5 cursor-pointer",onClick:()=>t(s._id),children:e.jsxs("div",{className:"flex items-center gap-5 flex-1",children:[e.jsx("div",{className:`w-6 h-6 rounded-md border flex items-center justify-center cursor-pointer transition-colors ${n(s._id)?"bg-primary-green border-primary-green":"border-gray-300"}`,style:{backgroundColor:n(s._id)?"#058FA2":"",borderColor:n(s._id)?"#058FA2":""},onClick:u=>c(s,u),children:n(s._id)&&e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-white",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})})}),e.jsx("div",{className:"flex gap-4 items-center flex-1",children:e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 leading-tight",children:s.heading}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-lg font-medium mr-4 text-teal-600",style:{color:"#058FA2"},children:["₹ ",(i=s.rate)==null?void 0:i.amount," ",e.jsx("span",{className:"text-base",children:((f=s.rate)==null?void 0:f.period)||""})]}),e.jsx("button",{className:`w-7 h-7 flex items-center justify-center rounded-full transition-colors text-lg ${x[s._id]?"bg-teal-100 text-teal-600":"bg-gray-100 text-gray-500"}`,style:{backgroundColor:x[s._id]?"#e6f7f9":"",color:x[s._id]?"#058FA2":""},children:x[s._id]?"−":"+"})]})]})})})]})}),x[s._id]&&e.jsxs("div",{className:"px-16 pb-5 pt-1 text-gray-600 border-t border-gray-100",children:[e.jsx("p",{className:"text-base leading-relaxed",children:s.description}),n(s._id)&&e.jsx("div",{className:"mt-4 text-sm font-medium bg-teal-100 text-primay-green py-2 px-4 rounded-md inline-block",style:{backgroundColor:"#e6f7f9",color:"#058FA2"},children:"✓ Added to your stay"})]})]},s._id)})})]})},ee=p.forwardRef((r,m)=>{const{phoneVerified:x,setPhoneVerified:a}=M(),[l,o]=p.useState(""),[t,c]=p.useState(""),[n,s]=p.useState(""),[i,f]=p.useState(""),[u,y]=p.useState(""),[j,v]=p.useState(!1),N=localStorage.getItem("hotelInfo"),k=N?JSON.parse(N):null,L=R.get("userEmail");let P=R.get("userPhone");P&&(P=P.replace(/[^0-9]/g,"").replace(/^91/,"")),console.log("SavedEmail:",L),console.log("Normalized SavedPhone:",P);const{data:S,isLoading:q,isError:B}=ue(L==null?void 0:L.toLowerCase(),P);console.log("User bookings:",S),p.useEffect(()=>{(S==null?void 0:S.length)>0&&console.log("User booking history:",S)},[S]);const A=p.useRef(null),{mutate:T}=Z(),{mutate:H}=D(),{mutate:V}=xe();p.useEffect(()=>{const g=R.get("phoneVerified"),O=R.get("userPhone"),d=localStorage.getItem("userInfo");if(g==="true"&&O){if(a(!0),f(O),d){const{firstName:w,lastName:b,email:E}=JSON.parse(d);o(w),c(b),s(E)}h.success("Welcome back! Your information is loaded.")}},[a]);const W=()=>l.trim()?t.trim()?n.trim()?i.trim()?!0:(h.error("Please enter your phone number"),!1):(h.error("Please enter your email address"),!1):(h.error("Please enter your last name"),!1):(h.error("Please enter your first name"),!1),_=()=>{W()&&T(`+91${i}`,{onSuccess:g=>{g&&g.sessionId&&localStorage.setItem("otpSessionId",g.sessionId),v(!0),h.success("OTP sent to your phone")},onError:()=>{h.error("Error sending OTP")}})},$=()=>{if(!u.trim()){h.error("Please enter the OTP");return}let g=i.trim();g.startsWith("+91")||(g="+91"+g);const O=localStorage.getItem("otpSessionId");if(!O){h.error("Session expired. Please request a new OTP");return}H({phone:g,code:u,sessionId:O,firstName:l,lastName:t,email:n},{onSuccess:d=>{d&&(d.status==="OTP Matched"||d.valid===!0)?(a(!0),v(!1),y(""),R.set("phoneVerified","true",{expires:30}),R.set("userPhone",g,{expires:30}),R.set("userEmail",n,{expires:30}),localStorage.setItem("userInfo",JSON.stringify({firstName:l,lastName:t,email:n})),h.success("Phone number verified"),V({name:`${l} ${t}`,email:n,mobileNumber:g,hotelcode:(k==null?void 0:k.hotelCode)||"",authcode:(k==null?void 0:k.authKey)||"",roomDetails:[]})):h.error("Invalid OTP")},onError:d=>{var w,b;(b=(w=d==null?void 0:d.response)==null?void 0:w.data)!=null&&b.message?h.error(`OTP verification failed: ${d.response.data.message}`):h.error("OTP verification failed. Please try again.")}})},G=()=>{var g,O,d,w,b;return l.trim()?t.trim()?n.trim()?i.trim()?x?!0:(h.error("Please verify your phone number"),(b=A.current)==null||b.scrollIntoView({behavior:"smooth"}),!1):(h.error("Please enter your mobile number"),(w=A.current)==null||w.scrollIntoView({behavior:"smooth"}),!1):(h.error("Please enter your email address"),(d=A.current)==null||d.scrollIntoView({behavior:"smooth"}),!1):(h.error("Please enter your last name"),(O=A.current)==null||O.scrollIntoView({behavior:"smooth"}),!1):(h.error("Please enter your first name"),(g=A.current)==null||g.scrollIntoView({behavior:"smooth"}),!1)};return p.useImperativeHandle(m,()=>({validateForm:G,getGuestDetails:()=>({firstName:l,lastName:t,email:n,phoneNumber:i})})),e.jsxs("div",{ref:A,className:"flex flex-col gap-8 bg-white p-8 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-1.5 h-10 bg-primary-green rounded-full mr-4",style:{backgroundColor:"#058FA2"}}),e.jsx("h2",{className:"text-4xl font-bold text-gray-900 tracking-tight",children:"Enter Your Details"})]}),e.jsx("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[{id:"firstName",label:"First Name *",placeholder:"John",type:"text"},{id:"lastName",label:"Last Name *",placeholder:"Smith",type:"text"},{id:"email",label:"Email Address *",placeholder:"abc@example.com",type:"email"},{id:"mobile",label:"Mobile Number *",placeholder:"1234567896",type:"tel"}].map(({id:g,label:O,placeholder:d,type:w})=>e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{htmlFor:g,className:"block text-base font-semibold text-gray-800 tracking-wide",children:O}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:w,id:g,placeholder:d,className:"w-full h-[54px] shadow-sm border border-gray-300 rounded-lg py-2.5 px-4 text-base text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-green focus:border-transparent transition-all duration-200",value:g==="mobile"?i:g==="firstName"?l:g==="lastName"?t:g==="email"?n:void 0,onChange:b=>{g==="mobile"?f(b.target.value):g==="firstName"?o(b.target.value):g==="lastName"?c(b.target.value):g==="email"&&s(b.target.value)}}),g==="mobile"&&!x&&e.jsx("button",{type:"button",onClick:_,className:`ml-3 px-6 py-2 rounded-lg font-medium transition-all duration-200 ${l.trim()&&t.trim()&&n.trim()&&i.trim()?"bg-cyan-600 hover:bg-cyan-700 text-white":"bg-gray-400 cursor-not-allowed text-white"}`,disabled:!l.trim()||!t.trim()||!n.trim()||!i.trim(),children:"Verify"})]})]},g))}),j&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg w-96 shadow-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Enter Verification Code"}),e.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"mb-6 text-center",children:[e.jsx("div",{className:"inline-block p-3 rounded-full bg-cyan-100 mb-4"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["We've sent a 6-digit code to +91 ",i]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("input",{type:"text",value:u,onChange:g=>y(g.target.value),placeholder:"Enter 6-digit OTP",className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-center text-lg tracking-widest focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all",maxLength:"6"})}),e.jsx("button",{onClick:$,className:"w-full py-3 bg-gradient-to-r from-cyan-600 to-cyan-700 text-white font-semibold rounded-lg shadow hover:shadow-lg transition-all",children:"Verify & Continue"}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-gray-600 text-sm",children:["Didn't receive the code?"," ",e.jsx("button",{onClick:_,className:"text-cyan-600 font-medium hover:underline",children:"Resend"})]})})]})}),x&&e.jsx("div",{className:"mt-4 py-3 px-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("p",{className:"text-green-700 font-medium flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Phone number verified successfully"]})})]})});ee.displayName="GuestDetailsForm";const ye=()=>{const{details:r,setDetails:m,selectedRooms:x,setSelectedRooms:a}=M(),l=(t,c)=>{a(n=>{var y,j,v,N,k;const s=[...n],i=((j=(y=r[t])==null?void 0:y.roomData)==null?void 0:j.discountRate)||0,f=((k=(N=(v=r[t])==null?void 0:v.continentalPlan)==null?void 0:N.rate)==null?void 0:k.amount)||0;let u=i;return c==="continental"&&(u+=f),s[t]={...s[t],option:c,price:u},s})},o=(t,c)=>{a(n=>{var y,j,v,N;const s=[...n],i=((j=(y=r[t])==null?void 0:y.roomData)==null?void 0:j.maxGuests)||1;let f=((v=s[t])==null?void 0:v.guestQty)??1,u=((N=s[t])==null?void 0:N.showMaxGuestAlert)??!1;return c==="increment"?f<i?(f+=1,u=!1):u=!0:c==="decrement"&&(f>0&&(f-=1),u=!1),s[t]={...s[t],guestQty:f,showMaxGuestAlert:u},f===0&&(s.splice(t,1),m(k=>k.filter((L,P)=>P!==t))),s})};return e.jsxs(e.Fragment,{children:[r==null?void 0:r.map((t,c)=>{var s,i,f,u,y,j;const n=x[c]||{roomName:((s=t==null?void 0:t.roomData)==null?void 0:s.RoomName)||"",option:"roomOnly",price:((i=t==null?void 0:t.roomData)==null?void 0:i.discountRate)||0,guestQty:1,showMaxGuestAlert:!1};return n.guestQty===0?null:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:h-[200px] w-full border p-4 rounded-md border-gray-300 bg-white gap-4 font-sans",children:[e.jsxs("div",{className:"w-full lg:w-1/3 relative",children:[e.jsx("img",{src:(f=t==null?void 0:t.aboutUs)==null?void 0:f.img,alt:"Hotel Room",className:"rounded-md w-full h-full object-cover"}),e.jsx("div",{className:"absolute top-4 left-4 bg-white bg-opacity-75 px-3 py-1 rounded-full",children:e.jsx("p",{className:"text-xs font-bold text-yellow-600 uppercase tracking-wider",children:"Best Choice"})})]}),e.jsxs("div",{className:"flex flex-col justify-center w-full gap-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#288592] mb-1",children:t==null?void 0:t.name}),e.jsx("p",{className:"text-lg font-semibold text-black mb-1",children:(u=t==null?void 0:t.roomData)==null?void 0:u.RoomName}),e.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:[t==null?void 0:t.name,", ",(y=t==null?void 0:t.cityLocation)==null?void 0:y.name]}),e.jsxs("p",{className:"text-md font-semibold text-gray-800",children:["Price: ",e.jsxs("span",{className:"text-[#288592]",children:["₹",n.price]})]})]}),e.jsxs("div",{className:"flex flex-col items-start w-full lg:w-[400px] gap-4 relative",children:[e.jsxs("div",{className:"flex items-center justify-between w-full lg:w-[180px] border-2 p-2 gap-4 rounded-xl text-[#288592] font-medium text-lg",children:[e.jsx("span",{className:"cursor-pointer hover:text-yellow-500",onClick:()=>o(c,"decrement"),children:e.jsx(ce,{})}),e.jsx("span",{children:n.guestQty>1?`${n.guestQty} Guests`:"1 Guest"}),e.jsx("span",{className:"cursor-pointer hover:text-yellow-500",onClick:()=>o(c,"increment"),children:e.jsx(le,{})})]}),n.showMaxGuestAlert&&e.jsxs("div",{className:"absolute top-[3rem] right-0 z-10 bg-white border border-gray-300 px-4 py-3 rounded-md shadow-md w-64",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-800",children:["Maximum of ",(j=t==null?void 0:t.roomData)==null?void 0:j.maxGuests," guests allowed."]}),e.jsx("div",{className:"flex items-center justify-end gap-2 mt-2",children:e.jsx("button",{onClick:()=>a(v=>{const N=[...v];return N[c].showMaxGuestAlert=!1,N}),className:"px-2 py-1 bg-gray-200 text-sm rounded-md",children:"Dismiss"})})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-600 mb-2",children:"Room Options:"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:`roomOption-${c}`,value:"roomOnly",checked:n.option==="roomOnly",onChange:()=>l(c,"roomOnly"),className:"w-4 h-4 text-[#288592] cursor-pointer border-2 border-[#288592] focus:ring-[#288592]"}),e.jsx("span",{className:"text-base text-gray-700 font-medium",children:"Room Only"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:`roomOption-${c}`,value:"continental",checked:n.option==="continental",onChange:()=>l(c,"continental"),className:"w-4 h-4 text-[#288592] cursor-pointer border-2 border-[#288592] focus:ring-[#288592]"}),e.jsx("span",{className:"text-base text-gray-700 font-medium",children:"Continental Plan (Breakfast)"})]})]})]})]})]},c)}),r.length<=0&&e.jsx("p",{className:"text-center text-gray-500 text-lg font-medium",children:"No data available."})]})},je=(r,m)=>{if(!r||!m)return 0;const x=new Date(r),a=new Date(m),l=Math.abs(a-x);return Math.ceil(l/(1e3*60*60*24))},we=()=>{const{ContactUsDetail:r}=ae(),{details:m,hotelData:x}=M(),a=m[0],l=X(),o=localStorage.getItem("hotelInfo"),t=JSON.parse(o),c=localStorage.getItem("checkInDate"),n=localStorage.getItem("checkOutDate"),s=je(c,n),[i,f]=p.useState(!1),[u,y]=p.useState(!0),j=p.useRef();return p.useEffect(()=>{const v=document.querySelector("#payment-method");if(v){const N=new IntersectionObserver(([k])=>{f(k.isIntersecting)},{threshold:.1});return N.observe(v),()=>N.disconnect()}},[]),p.useEffect(()=>{i?setTimeout(()=>y(!1),300):y(!0)},[i]),p.useEffect(()=>{(!m||m.length===0||!a)&&l(`/hotels/${t==null?void 0:t.hotelCode}`)},[m,x,a,l,t]),!m||m.length===0||!a?null:e.jsxs("div",{className:"p-4 content md:flex gap-5",children:[e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs(ie,{children:[e.jsx("title",{children:"Booking Details"}),e.jsx("meta",{name:"",content:""}),e.jsx("meta",{name:"",content:""})]}),e.jsx(ye,{}),e.jsx(ee,{ref:j}),a.addToYourStay.length>0&&e.jsx(pe,{data:a}),e.jsx(ge,{hotelDetail:a,checkIn:c}),e.jsx("div",{className:"lg:hidden",children:e.jsx(J,{hotelDetail:a,checkIn:c,checkOut:n,days:s,showButton:u,isPaymentVisible:i})}),e.jsx(he,{hotelDetail:a,guestFormRef:j,checkIn:c,checkOut:n}),e.jsx(de,{ContactUsDetail:r})]}),e.jsx("div",{className:"hidden lg:block",children:e.jsx(J,{hotelDetail:a,checkIn:c,checkOut:n,days:s,showButton:u,isPaymentVisible:i})})]})};export{we as default};
