var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,a=(t,s,o)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[s]=o,n=(e,t)=>{for(var s in t||(t={}))r.call(t,s)&&a(e,s,t[s]);if(o)for(var s of o(t))i.call(t,s)&&a(e,s,t[s]);return e},l=(e,o)=>t(e,s(o));import{r as m,j as c,H as d,q as u}from"./react-vendor-tq68JOgp.js";import g from"./TestimonialSection-DzWWsg1i.js";import{C as p}from"./CommonUseEnquiryForm-CDYyxfHp.js";import{u as x}from"./useEnquiryFormHook-BaheUHnu.js";import{f as y,c as h,d as f,e as b}from"./useAgentHook-mFF-a1SR.js";import{u as v}from"./useMetaHook-llqDwa3j.js";import{P as j}from"./Partnerlogos-BSO1LaPD.js";import w from"./ImageGallery-iYlYWeWQ.js";import{u as N}from"./useTravelAgentPage-B_FZFRg-.js";import{C as k,av as S}from"./ui-vendor-DiJ4VKpG.js";import"./animation-vendor-DJegggv9.js";import"./vendor-DwD9zxym.js";import"./query-vendor-iDpT9gG9.js";import"./swiper-vendor-DEzR9mKq.js";import"./date-vendor-9E3U4XI3.js";import"./CommonSlider-CkiIcF-i.js";import"./Icons-DdOEP3uY.js";import"./useTestimonialHook-ISjptQnS.js";import"./index-D89k_Hd_.js";import"./usePartnersHooks-kSfr66aQ.js";import"./useUpdatePagesHook-Dih8rx9i.js";import"./Loader-BEd0M6qd.js";const P=({open:e,onClose:t})=>{const s=h(),o=f(),r=b(),[i,a]=m.useState("form"),[d,u]=m.useState({name:"",email:"",phone:"",role:"agent",companyName:""}),[g,p]=m.useState(""),[x,y]=m.useState(120);m.useEffect((()=>{e||(a("form"),u({name:"",email:"",phone:"",role:"agent",companyName:""}),p(""),y(120))}),[e]),m.useEffect((()=>{if("otp"!==i||x<=0)return;const e=setInterval((()=>y((e=>e-1))),1e3);return()=>clearInterval(e)}),[i,x]);const v=m.useMemo((()=>!d.name.trim()||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)||!/^\d{7,}$/.test(d.phone)||s.isPending),[d,s.isPending]),j=m.useMemo((()=>6!==g.trim().length||o.isPending),[g,o.isPending]);return e?c.jsxs("div",{className:"fixed inset-0 z-[1000]",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:t}),c.jsxs("div",{className:"relative mx-auto mt-20 w-[92%] max-w-xl bg-white rounded-2xl shadow-xl p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"form"===i?"Join as Travel Agent":"Enter OTP"}),c.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-100",children:c.jsx(k,{fontSize:"small"})})]}),"form"===i?c.jsxs("form",{onSubmit:e=>{e.preventDefault(),s.mutate({name:d.name.trim(),email:d.email.trim().toLowerCase(),phone:d.phone.trim(),role:"agent"},{onSuccess:()=>{a("otp"),y(120)},onError:e=>{}})},className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),c.jsx("input",{type:"text",value:d.name,onChange:e=>u((t=>l(n({},t),{name:e.target.value}))),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"Agent Name",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),c.jsx("input",{type:"email",value:d.email,onChange:e=>u((t=>l(n({},t),{email:e.target.value}))),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"you@example.com",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),c.jsx("input",{type:"tel",value:d.phone,onChange:e=>u((t=>l(n({},t),{phone:e.target.value.replace(/\D/g,"")}))),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"9876543210",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company (optional)"}),c.jsx("input",{type:"text",value:d.companyName,onChange:e=>u((t=>l(n({},t),{companyName:e.target.value}))),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"Company Name"})]}),c.jsxs("button",{type:"submit",disabled:v,className:"w-full flex items-center justify-center gap-2 rounded-lg px-4 py-2 font-semibold text-white transition\n                "+(v?"bg-gray-400 cursor-not-allowed":"bg-primary-yellow hover:brightness-110"),children:[s.isPending?"Sending OTP...":"Get OTP",!s.isPending&&c.jsx(S,{fontSize:"small"})]}),c.jsx("p",{className:"text-xs text-gray-500 text-center",children:"By continuing you agree to receive a one-time password on your email."})]}):c.jsxs("form",{onSubmit:e=>{e.preventDefault(),o.mutate({email:d.email.trim().toLowerCase(),otp:g.trim()},{onSuccess:e=>{var s;(null==e?void 0:e.ok)&&(localStorage.setItem("user_email",(null==(s=null==e?void 0:e.data)?void 0:s.email)||d.email.trim().toLowerCase()),null==t||t())},onError:e=>{}})},className:"space-y-4",children:[c.jsxs("p",{className:"text-sm text-gray-600",children:["We sent a 6-digit code to ",c.jsx("b",{children:d.email}),". Enter it below to verify your login."]}),c.jsx("input",{type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:6,value:g,onChange:e=>p(e.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full text-center tracking-[0.5em] text-2xl rounded-lg border border-gray-300 px-3 py-3 focus:outline-none focus:ring-2 focus:ring-primary-yellow",placeholder:"______",autoFocus:!0}),c.jsx("button",{type:"submit",disabled:j,className:"w-full flex items-center justify-center gap-2 rounded-lg px-4 py-2 font-semibold text-white transition\n                "+(j?"bg-gray-400 cursor-not-allowed":"bg-primary-green hover:brightness-110"),children:o.isPending?"Verifying...":"Verify & Continue"}),c.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[c.jsx("button",{type:"button",onClick:()=>a("form"),className:"underline underline-offset-2",children:"Change email"}),c.jsx("button",{type:"button",onClick:()=>{x>0||r.mutate({email:d.email.trim().toLowerCase(),phone:d.phone.trim(),name:d.name.trim(),role:"agent"},{onSuccess:()=>y(120),onError:e=>{}})},disabled:x>0||r.isPending,className:"underline underline-offset-2 "+(x>0?"opacity-50 cursor-not-allowed":""),title:x>0?`Resend in ${x}s`:"Resend OTP",children:x>0?`Resend in ${x}s`:r.isPending?"Resending...":"Resend OTP"})]}),c.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Didn’t receive the email? Check your spam folder or try resending."})]})]})]}):null},C=({title:e,description:t,imageSrc:s,onSignupClick:o,buttonText:r,showProfileBtn:i,loadingAgent:a,isApprovalPending:n})=>{const l=u();return c.jsxs("section",{className:"relative h-[100vh] md:h-[100vh] bg-cover bg-center",style:{backgroundImage:`url(${s})`},children:[c.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),c.jsxs("div",{className:"relative content mx-auto h-full flex flex-col justify-center pt-20 items-start px-4",children:[c.jsx("h1",{className:"text-mobile/h3 md:text-desktop/h2 text-primary-white max-w-2xl font-bold",children:e}),c.jsx("p",{className:"mt-4 text-mobile/body/2 md:text-desktop/body/2/regular text-primary-white max-w-2xl",children:t}),!a&&i?c.jsx("button",{onClick:()=>l("/user/profile",{state:{tab:"agent"}}),className:"mt-8 bg-primary-white text-primary-yellow px-8 py-3 rounded-lg font-bold hover:bg-opacity-90 transition duration-300 flex items-center",children:"View My Profile"}):n?c.jsx("button",{disabled:!0,title:"Your account is verified but pending approval",className:"mt-8 bg-primary-white/70 text-primary-yellow/70 px-8 py-3 rounded-lg font-bold cursor-not-allowed transition duration-300 flex items-center",children:"Approval Pending"}):c.jsxs("button",{onClick:o,className:"mt-8 bg-primary-white text-primary-yellow px-8 py-3 rounded-lg font-bold hover:bg-opacity-90 transition duration-300 flex items-center",children:[r," ",c.jsx(S,{className:"ml-2"})]})]})]})},A=({benefits:e=[],align:t="left"})=>{const s="center"===t,o=s?"text-center":"text-left",r=s?"items-center":"items-start";return c.jsx("section",{className:"md:py-16 py-10",children:c.jsxs("div",{className:"content max-w-screen-xl mx-auto px-4",children:[c.jsx("h2",{className:"text-mobile/h3 md:text-desktop/h3 text-gray-700 font-bold mb-12 text-start",children:"Why Partner With Us?"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 auto-rows-fr",children:e.map(((e,t)=>c.jsxs("article",{className:`h-[93%] bg-white p-6 rounded-xl text-gray-700 border border-gray-100 shadow-sm hover:shadow-md transition-shadow flex flex-col ${r} ${o}`,children:[c.jsx("div",{className:(s?"mx-auto":"")+" mb-4 flex items-center justify-center",children:(null==e?void 0:e.icon)?c.jsx("img",{src:e.icon,alt:e.title?`${e.title} icon`:"Benefit icon",className:"block w-[4rem] object-contain",loading:"lazy"}):null}),c.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-900",children:e.title}),c.jsx("p",{className:"text-mobile/body/2 pb-4 md:text-desktop/body/1 text-primary-gray leading-relaxed",children:e.desc})]},t)))})]})})},E=({steps:e})=>c.jsx("section",{className:"md:py-16 py-10 px-2 bg-gray-50",children:c.jsxs("div",{className:"content mx-auto",children:[c.jsx("h2",{className:"text-mobile/h3 md:text-desktop/h3 text-gray-700 text-start font-bold mb-12",children:"How It Works"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8",children:e.map(((e,t)=>c.jsxs("div",{className:"flex flex-col items-start text-start",children:[c.jsx("div",{className:"bg-primary-green text-white rounded-full w-24 h-24 flex items-center justify-center mb-4",children:c.jsx("img",{src:e.icon,alt:"",className:"w-16 h-16"})}),c.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-2",children:e.title}),c.jsx("p",{className:"text-mobile/body/2 md:text-desktop/body/1 text-primary-gray",children:e.desc})]},t)))})]})}),O=({page:e="Agent Registration",gid:t=[226066483]})=>{const{mutate:s,isLoading:o}=x();return c.jsx(p,{title:"Agent Registration Form",subtitle:"Register now to join our travel agent network",fields:[{name:"agentName",placeholder:"Name",required:!0},{name:"companyName",placeholder:"Company Name",required:!0},{name:"phone",type:"tel",placeholder:"Phone",required:!0},{name:"email",type:"email",placeholder:"Email",required:!0},{name:"cityState",placeholder:"City / State",required:!0},{name:"gstDetails",placeholder:"Company GST Details",required:!0},{name:"requirements",type:"textarea",placeholder:"Your Requirements / Queries",rows:4,colSpan:"md:col-span-2",required:!0}],onSubmit:(o,r)=>{s(l(n({},o),{page:e,gid:t}),{onSuccess:()=>{r.onSuccess(),alert("Thank you for registering! Our team will contact you shortly.")},onError:r.onError})},isLoading:o,submitButtonText:"Submit & Join Now"})},q=()=>{var e,t,s,o,r;const[i,a]=m.useState(!1),{data:u}=v(),p=Array.isArray(u)?u.find((e=>"travel-agent"===e.page)):null,x=localStorage.getItem("user_email")||"",{data:h,isLoading:f}=y(x),b=!!h&&"agent"===(null==h?void 0:h.role),k=null!=(e=null==h?void 0:h.approved)&&e,S=null!=(t=null==h?void 0:h.isVerified)&&t,q=!f&&b&&k,T=!f&&b&&S&&!k,{data:D,isFetching:H}=N(),M={title:null==(s=null==D?void 0:D.hero)?void 0:s.heading,description:null==(o=null==D?void 0:D.hero)?void 0:o.description,imageSrc:"https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",buttonText:"Login Or Sign Up"},R=["/images/t1.svg","/images/t2.svg","/images/t3.svg","/images/t4.svg","/images/t5.svg","/images/t6.svg","/images/t7.svg"],G=m.useMemo((()=>{var e;const t=(null==(e=null==D?void 0:D.partnerWithUs)?void 0:e.cards)||[];return t.length?t.map(((e,t)=>({icon:R[t%R.length],title:e.title,desc:e.description}))):[{icon:"/images/t1.svg",title:"Earn Commission",desc:"Attractive commission structure to maximize your earnings on every booking."},{icon:"/images/t2.svg",title:"Exclusive Discounts",desc:"Offer your clients up to 5% off on standard online room rates."},{icon:"/images/t3.svg",title:"Free Rooms",desc:"Get 1 complimentary room for every 15 rooms booked (valid for group bookings only)."},{icon:"/images/t4.svg",title:"Exclusive Gifts",desc:"Enjoy surprise rewards and special gifts after every 25 nights booked through your account."},{icon:"/images/t5.svg",title:"Dedicated Support",desc:"Quick resolutions and smooth coordination through our single-window partner support system."},{icon:"/images/t6.svg",title:"Marketing Materials",desc:"Access to ready-to-use banners, booking kits, brochures, and other promotional content."},{icon:"/images/t7.svg",title:"Award-Winning Hospitality",desc:"Recognized for excellence in service, cleanliness, dining, and guest satisfaction."}]}),[D]),I=["/images/1a.svg","/images/2a.svg","/images/3a.svg","/images/4a.svg","/images/5a.svg"],L=m.useMemo((()=>{var e;const t=(null==(e=null==D?void 0:D.howItWorks)?void 0:e.cards)||[];return t.length?t.map(((e,t)=>({icon:I[t%I.length],title:e.title,desc:e.description}))):[{icon:"/images/1a.svg",title:"Register",desc:"Sign up as a travel agent with us — quick, simple, and absolutely free."},{icon:"/images/2a.svg",title:"Submit for Approval",desc:"Once registered, submit your details for verification. Our team will review and approve your application promptly."},{icon:"/images/3a.svg",title:"Get Portal Access",desc:"After approval, unlock your personal agent dashboard to manage bookings and track commissions with ease."},{icon:"/images/4a.svg",title:"Book & Earn",desc:"Start booking rooms with instant confirmation and earn attractive commissions on every successful booking."},{icon:"/images/5a.svg",title:"Unlock Exclusive Gifts",desc:"Get surprise rewards like free meals, room upgrades, or special discounts — gifted after every 25 nights booked!"}]}),[D]);return m.useEffect((()=>{window.scrollTo(0,0)}),[]),c.jsxs("div",{children:[c.jsxs(d,{children:[c.jsx("title",{children:(null==p?void 0:p.metaTitle)||"Tour & Travel - Sunstar Hotels"}),c.jsx("meta",{name:"description",content:(null==p?void 0:p.metaDescription)||""}),c.jsx("meta",{name:"keywords",content:(null==(r=null==p?void 0:p.metaKeywords)?void 0:r.join(", "))||""})]}),c.jsx(C,l(n({},M),{onSignupClick:()=>a(!0),showProfileBtn:q,loadingAgent:f,isApprovalPending:T})),c.jsx(A,{benefits:G}),c.jsx(E,{steps:L}),c.jsx(j,{}),c.jsx("div",{className:"relative flex flex-col justify-between content items-center mt-10 py-10 z-0",children:c.jsx(w,{})}),c.jsx(O,{}),c.jsx(g,{page:"travel-agent",head:"What Our Partners Say"}),c.jsx(P,{open:i,onClose:()=>a(!1)})]})};export{q as default};
