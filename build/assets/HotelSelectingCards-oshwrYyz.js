const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Calendar-jxkvmHBJ.js","assets/index-DWNkKmWE.js","assets/index-CkD9PpCG.css","assets/isSameMonth-Do8SqO4m.js","assets/ArrowRightAlt-Bej7e5b-.js"])))=>i.map(i=>d[i]);
import{bJ as w,r as n,_ as N,j as e,m as v,g as C}from"./index-DWNkKmWE.js";import{S as k}from"./Star-BZeKBP5O.js";const I={some:0,all:1};function S(s,l,{root:o,margin:x,amount:r="some"}={}){const d=w(s),a=new WeakMap,m=t=>{t.forEach(i=>{const f=a.get(i.target);if(i.isIntersecting!==!!f)if(i.isIntersecting){const p=l(i);typeof p=="function"?a.set(i.target,p):c.unobserve(i.target)}else f&&(f(i),a.delete(i.target))})},c=new IntersectionObserver(m,{root:o,rootMargin:x,threshold:typeof r=="number"?r:I[r]});return d.forEach(t=>c.observe(t)),()=>c.disconnect()}function E(s,{root:l,margin:o,amount:x,once:r=!1}={}){const[d,a]=n.useState(!1);return n.useEffect(()=>{if(!s.current||r&&d)return;const m=()=>(a(!0),r?void 0:()=>a(!1)),c={root:l&&l.current||void 0,margin:o,amount:x};return S(s.current,m,c)},[l,s,o,r,x]),d}const O=n.lazy(()=>N(()=>import("./Calendar-jxkvmHBJ.js").then(s=>s.a),__vite__mapDeps([0,1,2,3,4]))),b=n.memo(({hotel:s,close:l})=>{var p,y;const o={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}},[x,r]=n.useState(!1),[,d]=n.useState(null),[,a]=n.useState(null);n.useEffect(()=>{const u=localStorage.getItem("checkInDate"),g=localStorage.getItem("checkOutDate");u&&g&&(d(u),a(g))},[]);const m=((p=s==null?void 0:s.amenities)==null?void 0:p.slice(0,3))||[],c=(((y=s==null?void 0:s.amenities)==null?void 0:y.length)||0)-m.length,t=n.useCallback(()=>{localStorage.setItem("hotelInfo",JSON.stringify(s)),r(!0)},[s]),i=n.useCallback(()=>{r(!1),l()},[l]),f=u=>{const g=Math.floor(u),j=u-g>=.5;return e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((H,h)=>e.jsx(k,{className:`${h<g?"text-yellow-400":h===g&&j?"text-yellow-400 opacity-60":"text-gray-300"}`,style:{fontSize:"16px"}},h))})};return e.jsxs(v.div,{className:"bg-primary-white rounded-2xl shadow-lg overflow-hidden w-full h-full transition-transform duration-300 hover:scale-105 flex flex-col",variants:o,initial:"hidden",animate:"visible",children:[e.jsx("img",{src:s==null?void 0:s.images[0],alt:s.name,onClick:t,className:"w-full h-48 object-cover cursor-pointer transition-transform duration-500 ease-in-out hover:scale-110",loading:"lazy",decoding:"async"}),e.jsxs("div",{className:"p-4 flex flex-col flex-grow justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center gap-4",children:[e.jsx("h1",{className:"text-xl  text-start font-bold text-black cursor-pointer hover:text-primary-green   transition-colors duration-300",onClick:t,children:s==null?void 0:s.name}),f(s.rating)]}),e.jsxs("ul",{className:"flex items-center mt-2 flex-wrap",children:[m.length>0?m.map((u,g)=>{const j=typeof u=="object"?u.value:u;return e.jsx("li",{className:"bg-gradient-to-r from-primary-green to-primary-green text-primary-white text-xs px-3 py-1 rounded-full m-1",children:e.jsx("span",{children:j})},g)}):e.jsx("li",{children:"No amenities listed"}),c>0&&e.jsxs("li",{className:"text-gray-600 text-xs m-1",children:["+",c," more"]})]})]}),e.jsxs("div",{className:"mt-4 w-full",children:[e.jsxs("div",{className:"text-start",children:[e.jsxs("span",{className:"text-2xl leading-none font-bold text-primary-green",children:["â‚¹ ",s==null?void 0:s.price,e.jsx("span",{className:"text-gray-400 text-sm font-medium",children:" / night onwards"}),e.jsx("br",{}),e.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Incl. taxes"})]}),e.jsx("p",{className:"text-primary-green text-[12px] font-semibold",children:"Lowest Price, Guaranteed!"})]}),e.jsx("button",{onClick:t,className:"bg-primary-green cursor-pointer w-full text-primary-white px-4 py-2 rounded-lg shadow-md flex justify-center items-center transition duration-300 hover:bg-primary-dark-green mt-4",children:"Select Hotel"})]})]}),x&&e.jsx("div",{className:"fixed inset-0 flex justify-center items-center z-50",children:e.jsx(n.Suspense,{fallback:e.jsx("div",{className:"bg-white p-8 rounded-lg animate-pulse",children:e.jsx("div",{className:"h-64 w-96 bg-gray-200 rounded"})}),children:e.jsx(O,{setCheckInDate:d,setCheckOutDate:a,setOpenCalender:i,hotelCode:s.hotelCode})})})]})});b.displayName="HotelCard";const _=n.memo(({data:s,close:l})=>{var c;const o=n.useRef(null),x=E(o,{once:!0,amount:.1}),{data:r,isLoading:d}=C(),a=s||r,m=((c=a==null?void 0:a.hotels)==null?void 0:c.filter(t=>t==null?void 0:t.active))||[];return d?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:[...Array(6)].map((t,i)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 h-48 rounded-2xl mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},i))}):e.jsx(v.div,{ref:o,className:"grid grid-cols-1 items-stretch bg-primary-white sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-6 p-6",initial:{opacity:0},animate:x?{opacity:1}:{opacity:0},transition:{duration:.4,ease:"easeOut"},children:m.map(t=>e.jsx(b,{hotel:t,close:l},t._id||t.hotelCode))})});_.displayName="HotelSelectingCards";export{_ as default};
