import{j as e}from"./ui-vendor-ib5n1sau.js";import{L as l}from"./Loader-CTAUwaKQ.js";import{H as t}from"./Helmet-DQgaajfZ.js";import{k as s,u as a,i as r,a as o}from"./react-vendor-TJBKpoaW.js";import{u as i,d as n}from"./useBlogs2-BBXylrQE.js";import"./query-vendor-B-W3jWpx.js";import"./index-Bl04lSVd.js";const d=e=>e?e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,""):"",c=()=>{var c,m,x,u,g;const{slug:f}=s(),{state:j}=a(),{data:p,isLoading:h}=i({status:"all"});let v=null==j?void 0:j.blog;!v&&(null==p?void 0:p.blogs)&&f&&(v=p.blogs.find((e=>d(e.title)===f)));const{data:b,isLoading:N,error:w}=n(null==v?void 0:v._id),y=r();if(o.useEffect((()=>{window.scrollTo(0,0)}),[]),N||h)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsx(l,{})});if(w)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("p",{className:"text-red-500 text-xl",children:["Error loading blog: ",w.message]})});const k=null==(c=null==p?void 0:p.blogs)?void 0:c.filter((e=>e.slug!==f)).slice(0,3);return e.jsxs(e.Fragment,{children:[e.jsxs(t,{children:[e.jsx("title",{children:(null==(m=null==b?void 0:b.meta)?void 0:m.title)||"Sunstar Hotel Blog"}),e.jsx("meta",{name:"description",content:(null==(x=null==b?void 0:b.meta)?void 0:x.description.slice(0,150))||"Blog post from Sunstar Hotel"}),e.jsx("meta",{name:"keywords",content:(null==(u=null==b?void 0:b.meta)?void 0:u.keywords.join(","))||"hotel, blog, sunstar, travel"})]}),e.jsxs("div",{className:"mx-auto",children:[(null==(g=null==b?void 0:b.featuredImage)?void 0:g.url)&&e.jsx("div",{className:"relative w-full h-[80vh] mb-6",children:e.jsx("img",{src:b.featuredImage.url,alt:b.title,className:"w-full h-full object-cover object-center",onError:e=>e.target.src="/fallback-image.jpg"})}),e.jsxs("div",{className:"flex flex-col md:flex-row w-full py-6 gap-6 content",children:[e.jsxs("div",{className:"text-gray-600 w-full md:w-[70%] text-lg leading-relaxed whitespace-pre-wrap",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-4",children:[e.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full font-medium",children:b.category||"Uncategorized"}),e.jsxs("span",{children:["By ",b.author]})]}),e.jsxs("div",{className:"",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4 leading-tight",children:b.title}),e.jsx("div",{className:"prose prose-lg max-w-none text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:b.content}})]})]}),e.jsx("div",{className:"w-full md:w-1/3",children:(null==k?void 0:k.length)>0&&e.jsxs("section",{className:"sticky top-0 pt-4 pb-8 ",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-8 md:px-4",children:"More Blogs"}),e.jsx("div",{className:"flex flex-col gap-6 md:px-4",children:k.map((l=>e.jsxs("div",{className:"relative overflow-hidden rounded-xl shadow-lg cursor-pointer group h-72",onClick:()=>y(`/sunstar-blogs/${d(l.title)}`,{state:{blog:l}}),children:[l.featuredImage.url&&e.jsx("img",{src:l.featuredImage.url,alt:l.title,className:"w-full h-full object-cover transform transition duration-500 group-hover:scale-110",onError:e=>e.target.src="/fallback-image.jpg"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent opacity-70 group-hover:opacity-80 transition duration-300"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 transform transition-transform duration-300",children:e.jsx("h2",{className:"text-white text-lg md:text-xl font-bold mb-2",children:l.title})})]},l._id)))})]})})]})]})]})};export{c as default};
