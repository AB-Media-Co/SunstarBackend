const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/useHotelHook2-Dg3SXKg3.js","assets/query-vendor-B-W3jWpx.js","assets/react-vendor-TJBKpoaW.js","assets/ui-vendor-ib5n1sau.js","assets/index-Bl04lSVd.js","assets/index-DNV6QApR.css"])))=>i.map(i=>d[i]);
import{_ as e}from"./index-Bl04lSVd.js";import{j as t}from"./ui-vendor-ib5n1sau.js";import{a,b as r}from"./react-vendor-TJBKpoaW.js";import{u as s,a as l,b as n,c as o,d as i}from"./useBlogs2-BBXylrQE.js";import{I as d}from"./ImageUpload-DjYKuoa9.js";import{P as c}from"./pen-line-CTW6zBJk.js";import{$ as u,a as x,w as m,e as p}from"./use-resolve-button-type-DJ46b43P.js";import{f as g,a as h,s as b,O as y,K as f,b as v,y as j,o as k,n as w,P as N,L as I,_ as P,u as C,c as T,d as S,e as M,g as E,T as A,t as F}from"./use-is-mounted-COoFf7n5.js";import{E as L}from"./eye-C86dauII.js";import{F as q}from"./file-text-By6rrZTa.js";import{X as $}from"./x-BOzcIeat.js";import{c as B}from"./createLucideIcon-qEM6W6i8.js";import{S as H}from"./save-DqCVYX3i.js";import{T as D}from"./trash-2-CcgACtNU.js";import{P as z}from"./plus-0fMx0FGL.js";import"./query-vendor-B-W3jWpx.js";import"./useHotelHook2-Dg3SXKg3.js";
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=B("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]),_=B("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),U=B("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]),V=B("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]),O=B("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),G=B("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),W=B("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),K=B("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]),Q=B("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),Y=B("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]),J=B("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function X({onFocus:e}){let[t,s]=a.useState(!0),l=g();return t?r.createElement(h,{as:"button",type:"button",features:b.Focusable,onFocus:t=>{t.preventDefault();let a,r=50;a=requestAnimationFrame((function t(){if(r--<=0)a&&cancelAnimationFrame(a);else if(e()){if(cancelAnimationFrame(a),!l.current)return;s(!1)}else a=requestAnimationFrame(t)}))}}):null}const Z=a.createContext(null);function ee({children:e}){let t=a.useRef({groups:new Map,get(e,t){var a;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let s=null!=(a=r.get(t))?a:0;return r.set(t,s+1),[Array.from(r.keys()).indexOf(t),function(){let e=r.get(t);e>1?r.set(t,e-1):r.delete(t)}]}});return a.createElement(Z.Provider,{value:t},e)}function te(e){let t=a.useContext(Z);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let r=a.useId(),[s,l]=t.current.get(e,r);return a.useEffect((()=>l),[]),s}var ae,re,se,le=((se=le||{})[se.Forwards=0]="Forwards",se[se.Backwards=1]="Backwards",se),ne=((re=ne||{})[re.Less=-1]="Less",re[re.Equal=0]="Equal",re[re.Greater=1]="Greater",re),oe=((ae=oe||{})[ae.SetSelectedIndex=0]="SetSelectedIndex",ae[ae.RegisterTab=1]="RegisterTab",ae[ae.UnregisterTab=2]="UnregisterTab",ae[ae.RegisterPanel=3]="RegisterPanel",ae[ae.UnregisterPanel=4]="UnregisterPanel",ae);let ie={0(e,t){var a;let r=N(e.tabs,(e=>e.current)),s=N(e.panels,(e=>e.current)),l=r.filter((e=>{var t;return!(null!=(t=e.current)&&t.hasAttribute("disabled"))})),n={...e,tabs:r,panels:s};if(t.index<0||t.index>r.length-1){let a=C(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>C(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(0===l.length)return n;let s=C(a,{0:()=>r.indexOf(l[0]),1:()=>r.indexOf(l[l.length-1])});return{...n,selectedIndex:-1===s?e.selectedIndex:s}}let o=r.slice(0,t.index),i=[...r.slice(t.index),...o].find((e=>l.includes(e)));if(!i)return n;let d=null!=(a=r.indexOf(i))?a:e.selectedIndex;return-1===d&&(d=e.selectedIndex),{...n,selectedIndex:d}},1(e,t){if(e.tabs.includes(t.tab))return e;let a=e.tabs[e.selectedIndex],r=N([...e.tabs,t.tab],(e=>e.current)),s=e.selectedIndex;return e.info.current.isControlled||(s=r.indexOf(a),-1===s&&(s=e.selectedIndex)),{...e,tabs:r,selectedIndex:s}},2:(e,t)=>({...e,tabs:e.tabs.filter((e=>e!==t.tab))}),3:(e,t)=>e.panels.includes(t.panel)?e:{...e,panels:N([...e.panels,t.panel],(e=>e.current))},4:(e,t)=>({...e,panels:e.panels.filter((e=>e!==t.panel))})},de=a.createContext(null);function ce(e){let t=a.useContext(de);if(null===t){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ce),t}return t}de.displayName="TabsDataContext";let ue=a.createContext(null);function xe(e){let t=a.useContext(ue);if(null===t){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,xe),t}return t}function me(e,t){return C(t.type,ie,e,t)}ue.displayName="TabsActionsContext";let pe=y.RenderStrategy|y.Static;let ge=f((function(e,t){var r,s;let l=a.useId(),{id:n=`headlessui-tabs-tab-${l}`,disabled:o=!1,autoFocus:i=!1,...d}=e,{orientation:c,activation:g,selectedIndex:h,tabs:b,panels:y}=ce("Tab"),f=xe("Tab"),v=ce("Tab"),[N,L]=a.useState(null),q=a.useRef(null),$=j(q,t,L);w((()=>f.registerTab(q)),[f,q]);let B=te("tabs"),H=b.indexOf(q);-1===H&&(H=B);let D=H===h,z=k((e=>{var t;let a=e();if(a===T.Success&&"auto"===g){let e=null==(t=S(q))?void 0:t.activeElement,a=v.tabs.findIndex((t=>t.current===e));-1!==a&&f.change(a)}return a})),R=k((e=>{let t=b.map((e=>e.current)).filter(Boolean);if(e.key===M.Space||e.key===M.Enter)return e.preventDefault(),e.stopPropagation(),void f.change(H);switch(e.key){case M.Home:case M.PageUp:return e.preventDefault(),e.stopPropagation(),z((()=>E(t,A.First)));case M.End:case M.PageDown:return e.preventDefault(),e.stopPropagation(),z((()=>E(t,A.Last)))}return z((()=>C(c,{vertical:()=>e.key===M.ArrowUp?E(t,A.Previous|A.WrapAround):e.key===M.ArrowDown?E(t,A.Next|A.WrapAround):T.Error,horizontal:()=>e.key===M.ArrowLeft?E(t,A.Previous|A.WrapAround):e.key===M.ArrowRight?E(t,A.Next|A.WrapAround):T.Error})))===T.Success?e.preventDefault():void 0})),_=a.useRef(!1),U=k((()=>{var e;_.current||(_.current=!0,null==(e=q.current)||e.focus({preventScroll:!0}),f.change(H),F((()=>{_.current=!1})))})),V=k((e=>{e.preventDefault()})),{isFocusVisible:O,focusProps:G}=u({autoFocus:i}),{isHovered:W,hoverProps:K}=x({isDisabled:o}),{pressed:Q,pressProps:Y}=m({disabled:o}),J=a.useMemo((()=>({selected:D,hover:W,active:Q,focus:O,autofocus:i,disabled:o})),[D,W,O,Q,i,o]),X=P({ref:$,onKeyDown:R,onMouseDown:V,onClick:U,id:n,role:"tab",type:p(e,N),"aria-controls":null==(s=null==(r=y[H])?void 0:r.current)?void 0:s.id,"aria-selected":D,tabIndex:D?0:-1,disabled:o||void 0,autoFocus:i},G,K,Y);return I()({ourProps:X,theirProps:d,slot:J,defaultTag:"button",name:"Tabs.Tab"})})),he=f((function(e,t){let{defaultIndex:s=0,vertical:l=!1,manual:n=!1,onChange:o,selectedIndex:i=null,...d}=e;const c=l?"vertical":"horizontal",u=n?"manual":"auto";let x=null!==i,m=v({isControlled:x}),p=j(t),[g,h]=a.useReducer(me,{info:m,selectedIndex:null!=i?i:s,tabs:[],panels:[]}),b=a.useMemo((()=>({selectedIndex:g.selectedIndex})),[g.selectedIndex]),y=v(o||(()=>{})),f=v(g.tabs),P=a.useMemo((()=>({orientation:c,activation:u,...g})),[c,u,g]),C=k((e=>(h({type:1,tab:e}),()=>h({type:2,tab:e})))),T=k((e=>(h({type:3,panel:e}),()=>h({type:4,panel:e})))),S=k((e=>{M.current!==e&&y.current(e),x||h({type:0,index:e})})),M=v(x?e.selectedIndex:g.selectedIndex),E=a.useMemo((()=>({registerTab:C,registerPanel:T,change:S})),[]);w((()=>{h({type:0,index:null!=i?i:s})}),[i]),w((()=>{if(void 0===M.current||g.tabs.length<=0)return;let e=N(g.tabs,(e=>e.current));e.some(((e,t)=>g.tabs[t]!==e))&&S(e.indexOf(g.tabs[M.current]))}));let A={ref:p},F=I();return r.createElement(ee,null,r.createElement(ue.Provider,{value:E},r.createElement(de.Provider,{value:P},P.tabs.length<=0&&r.createElement(X,{onFocus:()=>{var e,t;for(let a of f.current)if(0===(null==(e=a.current)?void 0:e.tabIndex))return null==(t=a.current)||t.focus(),!0;return!1}}),F({ourProps:A,theirProps:d,slot:b,defaultTag:"div",name:"Tabs"}))))})),be=f((function(e,t){let{orientation:r,selectedIndex:s}=ce("Tab.List"),l=j(t),n=a.useMemo((()=>({selectedIndex:s})),[s]),o=e,i={ref:l,role:"tablist","aria-orientation":r};return I()({ourProps:i,theirProps:o,slot:n,defaultTag:"div",name:"Tabs.List"})})),ye=f((function(e,t){let{selectedIndex:r}=ce("Tab.Panels"),s=j(t),l=a.useMemo((()=>({selectedIndex:r})),[r]),n=e,o={ref:s};return I()({ourProps:o,theirProps:n,slot:l,defaultTag:"div",name:"Tabs.Panels"})})),fe=f((function(e,t){var s,l,n,o;let i=a.useId(),{id:d=`headlessui-tabs-panel-${i}`,tabIndex:c=0,...x}=e,{selectedIndex:m,tabs:p,panels:g}=ce("Tab.Panel"),b=xe("Tab.Panel"),y=a.useRef(null),f=j(y,t);w((()=>b.registerPanel(y)),[b,y]);let v=te("panels"),k=g.indexOf(y);-1===k&&(k=v);let N=k===m,{isFocusVisible:C,focusProps:T}=u(),S=a.useMemo((()=>({selected:N,focus:C})),[N,C]),M=P({ref:f,id:d,role:"tabpanel","aria-labelledby":null==(l=null==(s=p[k])?void 0:s.current)?void 0:l.id,tabIndex:N?c:-1},T),E=I();return N||null!=(n=x.unmount)&&!n||null!=(o=x.static)&&o?E({ourProps:M,theirProps:x,slot:S,defaultTag:"div",features:pe,visible:N,name:"Tabs.Panel"}):r.createElement(h,{"aria-hidden":"true",...M})})),ve=Object.assign(ge,{Group:he,List:be,Panels:ye,Panel:fe});const je=["Hospitality","First-Time Visitors","Location & Access","Hotel Features","Travel Tips","Nearby Tours","Shopping","Wellness","Guest Stories","Dining","Tourism & Culture","Day Trips","Events & Festivities","International Travel","Local Life","Behind the Scenes","Luxury on Budget","Sustainability","Travel Essentials","Scam Awareness"];function ke(){var r,u,x;const[m,p]=a.useState(""),[g,h]=a.useState(""),[b,y]=a.useState(""),[f,v]=a.useState(""),[j,k]=a.useState(""),[w,N]=a.useState(0),[I,P]=a.useState(""),[C,T]=a.useState(""),[S,M]=a.useState(""),[E,A]=a.useState(null),[F,B]=a.useState(!1),{data:X,refetch:Z}=s({status:"all"}),{mutate:ee}=l(),{mutate:te}=n(),{mutate:ae}=o(),{data:re,isLoading:se}=i(E),le=a.useRef(null);a.useEffect((()=>{var e,t,a,r;re&&!se&&(p(re.title||""),h(re.author||""),v(re.category||""),k((null==(e=re.featuredImage)?void 0:e.url)||""),y(re.content||""),P((null==(t=re.meta)?void 0:t.title)||""),T((null==(a=re.meta)?void 0:a.description)||""),M((null==(r=re.meta)?void 0:r.keywords.join(", "))||""))}),[re,se]);const ne=()=>{p(""),h(""),y(""),v(""),k(""),A(null),P(""),T(""),M("")},oe=e=>{const t=window.getSelection(),a=null==t?void 0:t.toString();if(!a)return void alert("Please select text to format");let r;switch(e){case"link":const t=prompt("Enter URL:","https://");t&&(r=`<a href='${t}' target='_blank' class='text-blue-600 underline hover:text-blue-800'>${a}</a>`);break;case"h1":r=`<h1 class='text-3xl font-bold mb-4'>${a}</h1>`;break;case"h2":r=`<h2 class='text-2xl font-semibold mb-3'>${a}</h2>`;break;case"blockquote":r=`<blockquote class='border-l-4 border-gray-300 pl-4 italic text-gray-700 my-4'>${a}</blockquote>`;break;case"code":r=`<code class='bg-gray-100 px-2 py-1 rounded text-sm font-mono'>${a}</code>`;break;case"ul":r=`<ul class='list-disc list-inside my-4'><li>${a}</li></ul>`;break;case"ol":r=`<ol class='list-decimal list-inside my-4'><li>${a}</li></ol>`;break;default:r=`<${e}>${a}</${e}>`}r&&y(b.replace(a,r))},ie=({onClick:e,icon:a,tooltip:r,active:s=!1,disabled:l=!1})=>t.jsxs("button",{onClick:e,disabled:l,className:`\n        relative group p-2.5 rounded-full transition-all duration-200 \n        ${s?"bg-blue-600 text-white shadow-lg":l?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-600 hover:bg-gray-50 hover:text-gray-900 border border-gray-200"}\n        ${!l&&"hover:shadow-md hover:scale-105 active:scale-95"}\n      `,title:r,children:[t.jsx(a,{className:"h-4 w-4"}),t.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10",children:r})]});return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:t.jsx("div",{className:"content mt-14 mx-auto px-4 py-8",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[t.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-6",children:[t.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[t.jsx(c,{className:"h-6 w-6"}),"Blog Editor"]}),t.jsx("p",{className:"text-blue-100 mt-1",children:"Create and manage your blog posts"})]}),t.jsxs(ve.Group,{selectedIndex:w,onChange:N,children:[t.jsx(ve.List,{className:"flex border-b border-gray-200 bg-gray-50",children:[{name:"Editor",icon:c},{name:"Preview",icon:L},{name:"All Blogs",icon:q}].map((e=>t.jsxs(ve,{className:({selected:e})=>`\n                  flex items-center gap-2 px-6 py-4 text-sm font-medium transition-all duration-200\n                  ${e?"text-blue-600 border-b-2 border-blue-600 bg-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}\n                `,children:[t.jsx(e.icon,{className:"h-4 w-4"}),e.name]},e.name)))}),t.jsx(ve.Panel,{className:"p-8",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:E?"Edit Blog Post":"Create New Blog Post"}),E&&t.jsxs("button",{onClick:ne,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[t.jsx($,{className:"h-4 w-4"}),"Cancel Edit"]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Title"}),t.jsx("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter meta title...",value:I,onChange:e=>P(e.target.value)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Description"}),t.jsx("textarea",{rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter meta description...",value:C,onChange:e=>T(e.target.value)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Keywords"}),t.jsx("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter keywords, separated by commas",value:S,onChange:e=>M(e.target.value)})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blog Title *"}),t.jsx("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your blog title...",value:m,onChange:e=>p(e.target.value)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Author *"}),t.jsx("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Author name...",value:g,onChange:e=>h(e.target.value)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),t.jsxs("select",{value:f,onChange:e=>v(e.target.value),className:"w-full px-4  py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",children:[t.jsx("option",{value:"",children:"-- Select Category --"}),je.map((e=>t.jsx("option",{value:e,children:e},e)))]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Featured Image"}),t.jsx(d,{index:0,feature:{image:j},setImageUpload:B,handleFeatureChange:(e,t)=>k(t)})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),t.jsxs("div",{className:"flex flex-wrap gap-2 p-4 bg-gray-50 border border-gray-200 rounded-t-lg",children:[t.jsx(ie,{onClick:()=>oe("h1"),icon:U,tooltip:"Heading 1"}),t.jsx(ie,{onClick:()=>oe("h2"),icon:V,tooltip:"Heading 2"}),t.jsx("div",{className:"w-px h-8 bg-gray-300 mx-1"}),t.jsx(ie,{onClick:()=>oe("b"),icon:R,tooltip:"Bold"}),t.jsx(ie,{onClick:()=>oe("i"),icon:G,tooltip:"Italic"}),t.jsx(ie,{onClick:()=>oe("code"),icon:_,tooltip:"Code"}),t.jsx("div",{className:"w-px h-8 bg-gray-300 mx-1"}),t.jsx(ie,{onClick:()=>oe("link"),icon:W,tooltip:"Add Link"}),t.jsx(ie,{onClick:()=>oe("blockquote"),icon:Y,tooltip:"Quote"}),t.jsx(ie,{onClick:()=>oe("ul"),icon:Q,tooltip:"Bullet List"}),t.jsx(ie,{onClick:()=>oe("ol"),icon:K,tooltip:"Numbered List"}),t.jsx("div",{className:"w-px h-8 bg-gray-300 mx-1"}),t.jsxs("label",{className:"cursor-pointer",children:[t.jsx(ie,{onClick:()=>{var e;return null==(e=le.current)?void 0:e.click()},icon:O,tooltip:"Insert Image",disabled:F}),t.jsx("input",{type:"file",ref:le,accept:"image/*",className:"hidden",onChange:t=>{var a;return(null==(a=t.target.files)?void 0:a[0])&&(async t=>{var a;if(t)try{B(!0);const{uploadSingleImagesAPIV2:r}=await e((async()=>{const{uploadSingleImagesAPIV2:e}=await import("./useHotelHook2-Dg3SXKg3.js");return{uploadSingleImagesAPIV2:e}}),__vite__mapDeps([0,1,2,3,4,5])),s=await r([t]),l=null==(a=null==s?void 0:s.imageUrls)?void 0:a[0];if(!l)throw new Error("No image URL returned");y((e=>e+`<img src="${l}" alt="Content Image" class="my-4 rounded-lg shadow-md max-w-full h-auto" />`)),alert("Image uploaded successfully!")}catch(r){alert("Failed to upload image. Please try again.")}finally{B(!1)}})(t.target.files[0])},disabled:F})]})]}),t.jsx("textarea",{rows:12,className:"w-full px-4 py-4 border border-gray-200 border-t-0 rounded-b-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 font-mono text-sm",placeholder:"Write your blog content here... You can use HTML tags for formatting.",value:b,onChange:e=>y(e.target.value)})]}),t.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[t.jsxs("div",{className:"text-sm text-gray-500",children:["* Required fields",F&&t.jsxs("span",{className:"ml-4 text-blue-600",children:[t.jsx(J,{className:"inline h-4 w-4 animate-spin mr-1"}),"Uploading image..."]})]}),t.jsx("div",{className:"flex gap-3",children:t.jsxs("button",{onClick:()=>{if(!m||!b||!g)return void alert("Title, content, and author are required.");const e={title:m,content:b,author:g,category:f,featuredImage:{url:j},meta:{title:I,description:C,keywords:S.split(",").map((e=>e.trim()))},status:"published"};E?te({id:E,updateData:e},{onSuccess:()=>{A(null),ne(),Z(),N(2)},onError:e=>{alert("Failed to update blog. Please try again.")}}):ee(e,{onSuccess:()=>{ne(),Z(),N(2)},onError:e=>{alert("Failed to create blog. Please try again.")}})},disabled:F||!m||!b||!g,className:"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(H,{className:"h-4 w-4"}),E?"Update Blog":"Publish Blog"]})})]})]})}),t.jsx(ve.Panel,{className:"p-8",children:t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Blog Preview"}),t.jsx("p",{className:"text-gray-600",children:"See how your blogs will look to readers"})]}),(null==(r=null==X?void 0:X.blogs)?void 0:r.length)?t.jsx("div",{className:"space-y-8",children:X.blogs.map((e=>{var a;return t.jsxs("article",{className:"bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200 overflow-hidden",children:[(null==(a=e.featuredImage)?void 0:a.url)&&t.jsx("div",{className:"aspect-video overflow-hidden",children:t.jsx("img",{src:e.featuredImage.url||"/placeholder.svg",alt:"Featured",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),t.jsxs("div",{className:"p-8",children:[t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-4",children:[t.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full font-medium",children:e.category||"Uncategorized"}),t.jsxs("span",{children:["By ",e.author]})]}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4 leading-tight",children:e.title}),t.jsx("div",{className:"prose prose-lg max-w-none text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:e.content}})]})]},e._id)}))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx(q,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),t.jsx("p",{className:"text-gray-500 text-lg",children:"No blogs to preview yet."}),t.jsx("p",{className:"text-gray-400",children:"Create your first blog post to see it here!"})]})]})}),t.jsx(ve.Panel,{className:"p-8",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"All Blog Posts"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your published content"})]}),t.jsxs("div",{className:"text-sm text-gray-500",children:[(null==(u=null==X?void 0:X.blogs)?void 0:u.length)||0," posts total"]})]}),(null==(x=null==X?void 0:X.blogs)?void 0:x.length)?t.jsx("div",{className:"grid gap-6",children:X.blogs.map((e=>t.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-md transition-all duration-200 group",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:e.title}),e.category&&t.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs font-medium",children:e.category})]}),t.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["by ",e.author]}),t.jsx("div",{className:"text-gray-700 text-sm leading-relaxed line-clamp-2",dangerouslySetInnerHTML:{__html:e.excerpt||e.content.substring(0,150)+"..."}})]}),t.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[t.jsxs("button",{onClick:()=>{A(e._id),N(0),window.scrollTo({top:0,behavior:"smooth"})},className:"flex items-center gap-1 px-3 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors text-sm font-medium",children:[t.jsx(c,{className:"h-4 w-4"}),"Edit"]}),t.jsxs("button",{onClick:()=>{return t=e._id,void(confirm("Are you sure you want to delete this blog?")&&ae(t,{onSuccess:()=>{Z()},onError:e=>{alert("Failed to delete blog. Please try again.")}}));var t},className:"flex items-center gap-1 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors text-sm font-medium",children:[t.jsx(D,{className:"h-4 w-4"}),"Delete"]})]})]})},e._id)))}):t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:t.jsx(z,{className:"h-8 w-8 text-gray-400"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No blog posts yet"}),t.jsx("p",{className:"text-gray-500 mb-6",children:"Get started by creating your first blog post."})]})]})})]})]})})})}export{ke as default};
