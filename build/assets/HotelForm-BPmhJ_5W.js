var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,o=(a,t,n)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,i=(e,a)=>{for(var t in a||(a={}))s.call(a,t)&&o(e,t,a[t]);if(n)for(var t of n(a))l.call(a,t)&&o(e,t,a[t]);return e},r=(e,n)=>a(e,t(n)),d=(e,a,t)=>new Promise(((n,s)=>{var l=e=>{try{i(t.next(e))}catch(a){s(a)}},o=e=>{try{i(t.throw(e))}catch(a){s(a)}},i=e=>e.done?n(e.value):Promise.resolve(e.value).then(l,o);i((t=t.apply(e,a)).next())}));import{j as c,r as m,q as u,_ as h}from"./react-vendor-tq68JOgp.js";import{useAddHotel as g,useEditHotel as x,uploadImagesAPIV2 as p}from"./useHotelHook2-lvucTAR8.js";import{M as b}from"./MultipleImageUpload-BSLbV8L8.js";import{u as f}from"./useUpdatePagesHook-9YRdH3R2.js";import{I as v}from"./ImageUpload-DBA0P0hK.js";import{u as j}from"./useLocationHook-6LSyzia_.js";import{ai as y,t as N,ae as w,ad as S}from"./ui-vendor-DiJ4VKpG.js";const C=({formData:e,handleAboutUsChange:a,handleAboutUsFeatureChange:t})=>c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"About Us Description:"}),c.jsx("textarea",{name:"description",value:e.aboutUs.description,onChange:a,placeholder:"Enter about us description",className:"w-full md:h-[180px] border rounded-md p-3 focus:ring focus:ring-blue-200"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"About Us Image:"}),c.jsx(v,{feature:e.aboutUs,handleFeatureChange:t,setImageUpload:()=>{},index:0})]})]}),k=({formData:e,setFormData:a,testimonialInput:t,setTestimonialInput:n,handleAddTestimonial:s,handleRemoveTestimonial:l})=>{const[o,d]=m.useState(null),[u,h]=m.useState({name:"",location:"",heading:"",description:""}),g=e=>{const{name:a,value:t}=e.target;h((e=>r(i({},e),{[a]:t})))},x=()=>{d(null)};return c.jsxs("div",{className:"space-y-8",children:[c.jsx("div",{children:e.testimonials.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.testimonials.map(((t,n)=>c.jsx("div",{className:"border rounded-lg p-6 shadow-md hover:shadow-xl transition-shadow bg-white",children:o===n?c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"text",name:"heading",value:u.heading,onChange:g,placeholder:"Edit Heading",className:"text-xl font-bold text-blue-600 mb-2 border rounded p-2 w-full"}),c.jsxs("div",{className:"mb-2",children:[c.jsx("label",{className:"font-medium",children:"Name: "}),c.jsx("input",{type:"text",name:"name",value:u.name,onChange:g,className:"border rounded p-2 w-full"})]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("label",{className:"font-medium",children:"Location: "}),c.jsx("input",{type:"text",name:"location",value:u.location,onChange:g,className:"border rounded p-2 w-full"})]}),c.jsx("textarea",{name:"description",value:u.description,onChange:g,placeholder:"Edit testimonial description",className:"border rounded p-2 w-full mb-2"}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{type:"button",onClick:()=>(t=>{const n=[...e.testimonials];n[t]=u,a((e=>r(i({},e),{testimonials:n}))),d(null)})(n),className:"bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-4 rounded",children:"Save"}),c.jsx("button",{type:"button",onClick:x,className:"bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded",children:"Cancel"})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("h4",{className:"text-xl font-bold text-blue-600 mb-2",children:t.heading}),c.jsxs("p",{className:"text-gray-800 font-medium",children:["Name: ",c.jsx("span",{className:"font-normal",children:t.name})]}),c.jsxs("p",{className:"text-gray-800 font-medium",children:["Location: ",c.jsx("span",{className:"font-normal",children:t.location})]}),c.jsx("p",{className:"text-gray-700 mt-2",children:t.description}),c.jsxs("div",{className:"flex gap-4 mt-4",children:[c.jsx("button",{type:"button",onClick:()=>(a=>{d(a),h(i({},e.testimonials[a]))})(n),className:"inline-block text-blue-500 hover:underline font-medium",children:"Edit"}),c.jsx("button",{type:"button",onClick:()=>l(n),className:"inline-block text-red-500 hover:underline font-medium",children:"Remove"})]})]})},n)))}):c.jsx("p",{className:"text-gray-600 text-center",children:"No testimonials added yet."})}),c.jsxs("div",{className:"border rounded-lg p-6 shadow-sm bg-gray-50",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Add Testimonial"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Name:"}),c.jsx("input",{type:"text",name:"name",value:t.name,onChange:e=>{const{value:a}=e.target;n((e=>r(i({},e),{name:a})))},placeholder:"Enter name",className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Location:"}),c.jsx("input",{type:"text",name:"location",value:t.location,onChange:e=>{const{value:a}=e.target;n((e=>r(i({},e),{location:a})))},placeholder:"Enter location",className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Heading:"}),c.jsx("input",{type:"text",name:"heading",value:t.heading,onChange:e=>{const{value:a}=e.target;n((e=>r(i({},e),{heading:a})))},placeholder:"Enter heading",className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Description:"}),c.jsx("textarea",{name:"description",value:t.description,onChange:e=>{const{value:a}=e.target;n((e=>r(i({},e),{description:a})))},placeholder:"Enter testimonial description",className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"})]})]}),c.jsx("button",{type:"button",onClick:s,className:"mt-6 w-full bg-green-500 hover:bg-green-600 text-white font-medium py-3 rounded-md transition-colors",children:"Add Testimonial"})]})]})},I=({formData:e,isUploading:a,handleImagesUpload:t,handleRemoveImageUrl:n})=>c.jsx("div",{className:"space-y-5",children:c.jsx(b,{onUploadSuccess:t,isUploading:a,imagesUrls:e.images,onRemoveImageUrl:n})}),A=({formData:e,handleHotelAddressChange:a,handleTransportChange:t,transportLocations:n,pointsOfInterest:s,locationInputs:l,handleLocationInputChange:o,addLocationItem:i,removeLocationItem:r,handleCityLocationChange:d})=>{const{data:m,isLoading:u,isError:h}=j();return c.jsxs("div",{className:"space-y-8",children:[c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),c.jsx("div",{className:"ml-3",children:c.jsx("p",{className:"text-sm text-yellow-700",children:"Please fill in the correct location information. Accuracy is important for guest experience."})})]})}),c.jsxs("div",{className:"flex gap-4 w-full",children:[c.jsxs("div",{className:"bg-white border  w-full rounded-lg p-6 shadow-md transition-shadow duration-300",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Hotel Address"}),c.jsx("input",{type:"text",name:"hotelAddress",value:e.location.hotelAddress,onChange:a,required:!0,placeholder:"Enter hotel address",className:"w-full border rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),c.jsxs("div",{className:"bg-white border  w-full rounded-lg p-6 shadow-md transition-shadow duration-300",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Select City"}),u?c.jsx("p",{children:"Loading cities..."}):h?c.jsx("p",{children:"Error loading cities"}):c.jsxs("select",{value:e.cityLocation||"",onChange:d,className:"w-full border rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[c.jsx("option",{value:"",children:"Select a city"}),m&&m.map((e=>c.jsx("option",{value:e._id,children:e.name},e._id)))]})]})]}),c.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[c.jsx("h3",{className:"text-xl font-semibold mt-6",children:"Transportation Options"}),c.jsx("div",{className:"flex gap-6 w-full",children:n.map((a=>c.jsxs("div",{className:"bg-white border w-full rounded-lg p-6 shadow-md transition-shadow duration-300",children:[c.jsx("h3",{className:"text-xl font-semibold capitalize",children:"railwayStation"===a?"Railway Station":a}),c.jsx("input",{type:"text",placeholder:"Enter name",value:e.location[a]||"",onChange:e=>t(a,e.target.value),className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"})]},a)))})]}),c.jsx("h3",{className:"text-xl font-semibold mt-6",children:"Points of Interest"}),s.map((a=>c.jsxs("div",{className:"bg-white border rounded-lg p-6 shadow-md transition-shadow duration-300",children:[c.jsx("h3",{className:"text-xl font-semibold capitalize",children:a}),e.location[a]&&e.location[a].length>0&&c.jsx("ul",{className:"mb-4 space-y-2",children:e.location[a].map(((e,t)=>c.jsxs("li",{className:"flex justify-between items-center bg-gray-100 rounded-md p-3",children:[c.jsx("span",{className:"text-gray-800",children:e.name}),c.jsx("button",{type:"button",onClick:()=>r(a,t),className:"text-red-500 hover:underline font-medium",children:"Remove"})]},t)))}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[c.jsx("input",{type:"text",placeholder:"Name",value:l[a].name,onChange:e=>o(a,"name",e.target.value),className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"}),c.jsx("button",{type:"button",onClick:()=>i(a),className:"bg-blue-500 text-white px-4 py-2 rounded-md",children:"Add"})]})]},a)))]})},U=({rating:e,onChange:a,maxRating:t=5})=>c.jsxs("div",{className:"flex relative",children:[Array.from({length:t},((t,n)=>{const s=n+1,l=e>=s,o=!l&&e>=s-.5;return c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 w-1/2 cursor-pointer z-10",onClick:()=>{a(s-.5)}}),c.jsx("div",{className:"absolute inset-y-0 right-0 w-1/2 cursor-pointer z-10",onClick:()=>{a(s)}}),c.jsx("div",{className:"flex",children:l?c.jsx("span",{className:"text-4xl text-yellow-500",children:"★"}):o?c.jsxs("div",{className:"relative text-4xl",children:[c.jsx("span",{className:"text-gray-300",children:"★"}),c.jsx("div",{className:"absolute inset-0 overflow-hidden w-1/2",children:c.jsx("span",{className:"text-yellow-500",children:"★"})})]}):c.jsx("span",{className:"text-4xl text-gray-300",children:"★"})})]},n)})),c.jsx("span",{className:"ml-2 text-lg self-center",children:e.toFixed(1)})]}),P=({initialTime:e,onChange:a,name:t})=>{const[n,s]=m.useState(!1),[l,o]=m.useState(e||""),[d,u]=m.useState(12),[h,g]=m.useState(0),[x,p]=m.useState("AM"),[b,f]=m.useState("hour");m.useEffect((()=>{e&&v(e)}),[e]);const v=e=>{if(e)try{if(e.includes("AM")||e.includes("PM")){const[a,t]=e.split(" "),[n,s]=a.split(":");return u(parseInt(n,10)),g(parseInt(s,10)),void p(t)}const[a,t]=e.split(":"),n=parseInt(a,10);u(n>12?n-12:0===n?12:n),g(parseInt(t,10)),p(n>=12?"PM":"AM")}catch(a){}},j=e=>{p(e);const n=`${d}:${h.toString().padStart(2,"0")} ${e}`;o(n),a&&a({target:{name:t,value:n,type:"text"}})};return c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"w-full border rounded-md p-3 cursor-pointer flex justify-between items-center bg-white",onClick:()=>s(!n),children:[c.jsx("span",{children:l||"Select Time"}),c.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),n&&c.jsxs("div",{className:"absolute z-20 mt-1 p-4 bg-white shadow-xl rounded-lg border",style:{width:"250px"},children:[c.jsxs("div",{className:"mb-4 text-center text-2xl font-bold cursor-pointer",onClick:()=>{f("hour"===b?"minute":"hour")},children:[d,":",h.toString().padStart(2,"0"),c.jsx("span",{className:"ml-2",children:x})]}),c.jsxs("div",{className:"flex justify-center mb-4 space-x-4",children:[c.jsx("button",{className:"px-4 py-1 rounded "+("AM"===x?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>j("AM"),children:"AM"}),c.jsx("button",{className:"px-4 py-1 rounded "+("PM"===x?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>j("PM"),children:"PM"})]}),c.jsxs("div",{className:"relative w-48 h-48 mx-auto mb-4",children:[c.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-gray-200"}),c.jsx("div",{className:"absolute rounded-full bg-blue-500 h-3 w-3",style:{left:"100px",top:"100px",transform:"translate(-50%, -50%)"}}),c.jsx("div",{className:"absolute w-1 bg-blue-500 rounded-full",style:r(i({},(()=>{if("hour"===b){const e=60;return{transform:`translate(0, 0) rotate(${d%12/12*2*Math.PI-Math.PI/2+Math.PI/2}rad)`,transformOrigin:"bottom center",height:`${e}px`}}{const e=70;return{transform:`translate(0, 0) rotate(${h/60*2*Math.PI-Math.PI/2+Math.PI/2}rad)`,transformOrigin:"bottom center",height:`${e}px`}}})()),{left:"100px",bottom:"100px"})}),"hour"===b?Array.from({length:12},((e,a)=>{const t=a+1,n=t/12*2*Math.PI-Math.PI/2,s=80*Math.cos(n)+100,l=80*Math.sin(n)+100;return c.jsx("div",{className:"absolute rounded-full h-8 w-8 flex items-center justify-center cursor-pointer "+(d===t?"bg-blue-500 text-white":"hover:bg-blue-100"),style:{left:`${s}px`,top:`${l}px`,transform:"translate(-50%, -50%)"},onClick:()=>(e=>{u(e),f("minute")})(t),children:t},t)})):Array.from({length:12},((e,n)=>{const s=5*n,l=s/60*2*Math.PI-Math.PI/2,i=80*Math.cos(l)+100,r=80*Math.sin(l)+100;return c.jsx("div",{className:"absolute rounded-full h-8 w-8 flex items-center justify-center cursor-pointer "+(h===s?"bg-blue-500 text-white":"hover:bg-blue-100"),style:{left:`${i}px`,top:`${r}px`,transform:"translate(-50%, -50%)"},onClick:()=>(e=>{g(e);const n=`${d}:${e.toString().padStart(2,"0")} ${x}`;o(n),a&&a({target:{name:t,value:n,type:"text"}})})(s),children:s},s)}))]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300",onClick:()=>s(!1),children:"Cancel"}),c.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",onClick:()=>{const e=`${d}:${h.toString().padStart(2,"0")} ${x}`;o(e),s(!1),a&&a({target:{name:t,value:e,type:"text"}})},children:"Apply"})]})]})]})},T=({formData:e,handleDetailsChange:a,amenities:t,handleAmenitiesChange:n,setFormData:s})=>{const l=e=>{e.target,a(e)};return c.jsxs("div",{className:"space-y-5",children:[c.jsx(y,{control:c.jsx(y,{control:c.jsx(N,{checked:"yes"===e.payAtHotel,onChange:e=>a({target:{name:"payAtHotel",value:e.target.checked?"yes":"no",checked:e.target.checked,type:"checkbox"}}),color:"primary"}),label:"Pay at Hotel"})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Name:"}),c.jsx("input",{type:"text",name:"name",value:e.name,onChange:a,required:!0,placeholder:"Enter hotel name",className:"w-full border rounded-md p-3 focus:ring focus:ring-blue-200"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Rating:"}),c.jsx(U,{rating:e.rating,onChange:e=>a({target:{name:"rating",value:e,type:"number"}})})]})]}),c.jsx("div",{className:"border-t pt-6",children:c.jsxs("div",{className:"group",children:[c.jsx("summary",{className:"text-xl font-semibold cursor-pointer list-none flex justify-between items-center",children:"SEO & Meta Data"}),c.jsxs("div",{className:"mt-4 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Meta Title"}),c.jsx("input",{type:"text",name:"title",value:e.meta.title,onChange:a,placeholder:"Enter meta title",className:"w-full border rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Meta Description"}),c.jsx("input",{type:"text",name:"description",value:e.meta.description,onChange:a,placeholder:"Enter meta description",className:"w-full border rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-blue-300"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Keywords"}),c.jsx("input",{type:"text",name:"keywords",value:e.meta.keywords.join(", "),onChange:a,placeholder:"e.g., hotel in Dehradun, best hotels, luxury stay",className:"w-full border rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-blue-300"}),c.jsx("small",{className:"text-gray-500",children:"Use commas to separate keywords."})]})]})]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Continental Plan (Breakfast)"}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("input",{type:"number",name:"amount",value:e.continentalPlan.rate.amount,onChange:a=>s(r(i({},e),{continentalPlan:r(i({},e.continentalPlan),{rate:r(i({},e.continentalPlan.rate),{amount:Number(a.target.value)})})})),placeholder:"Rate Amount",className:"w-full border rounded-md p-2"}),c.jsxs("select",{name:"period",value:e.continentalPlan.rate.period,onChange:a=>s(r(i({},e),{continentalPlan:r(i({},e.continentalPlan),{rate:r(i({},e.continentalPlan.rate),{period:a.target.value})})})),className:"w-full border rounded-md p-2",children:[c.jsx("option",{value:"per person",children:"Per Person"}),c.jsx("option",{value:"per breakfast",children:"Per Breakfast"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Description:"}),c.jsx("textarea",{name:"description",value:e.description,onChange:a,required:!0,placeholder:"Enter description",className:"w-full border rounded-md p-3 focus:ring focus:ring-blue-200"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-center",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-medium ",children:"Price:"}),c.jsx("input",{type:"number",name:"price",value:e.price,onChange:a,min:"0",placeholder:"Price",className:"w-full border rounded-md p-3 focus:ring focus:ring-blue-200"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Phone Number:"}),c.jsx("input",{type:"number",name:"phoneNumber",value:e.phoneNumber,onChange:a,placeholder:"Phone Number",className:"w-full border rounded-md p-3 focus:ring focus:ring-blue-200"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Amenities:"}),c.jsx(w,{multiple:!0,id:"amenities-select",options:null==t?void 0:t.map((e=>({label:e.label,value:e.value}))),value:e.amenities,onChange:n,isOptionEqualToValue:(e,a)=>e.label===a.label,getOptionLabel:e=>e.label,renderInput:e=>c.jsx(S,r(i({},e),{label:"Select amenities",placeholder:"Select amenities"}))})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Check In:"}),c.jsx(P,{initialTime:e.checkIn,onChange:l,name:"checkIn"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Check Out:"}),c.jsx(P,{initialTime:e.checkOut,onChange:l,name:"checkOut"})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",name:"soldOut",checked:e.soldOut,onChange:a,className:"mr-2"}),c.jsx("label",{className:"text-gray-700 font-medium",children:"Sold Out"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Hotel Code:"}),c.jsx("input",{type:"text",name:"hotelCode",value:e.hotelCode,onChange:a,required:!0,placeholder:"Enter hotel code",className:"w-full border rounded-md p-3 focus:ring focus:ring-blue-200"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Auth Key:"}),c.jsx("input",{type:"text",name:"authKey",value:e.authKey,onChange:a,required:!0,placeholder:"Enter authentication key",className:"w-full border rounded-md p-3 focus:ring focus:ring-blue-200"})]})]})]})},q=({formData:e,isUploading:a,newSectionHeading:t,setNewSectionHeading:n,handleCarouselImagesUpload:s,handleRemoveCarouselImage:l,handleAddImageSection:o,handleSectionHeadingChange:i,handleRemoveImageSection:r,handleSectionImagesUpload:d,handleRemoveSectionImageUrl:m})=>{var u,h,g;return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"",children:[c.jsx("h3",{className:"text-xl font-bold mb-4",children:"Carousel Images"}),c.jsx(b,{onUploadSuccess:e=>s(e),isUploading:a,imagesUrls:null==(u=null==e?void 0:e.imageSections)?void 0:u.carouselImages,onRemoveImageUrl:l})]}),c.jsxs("div",{className:"",children:[c.jsx("h3",{className:"text-xl font-bold mb-4",children:"Image Sections"}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 mb-6",children:[c.jsx("input",{type:"text",value:t,onChange:e=>n(e.target.value),placeholder:"Section Heading (e.g., Lobby, King Size Room)",className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"}),c.jsx("button",{type:"button",onClick:o,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md transition-colors",children:"Add Section"})]}),c.jsx("h1",{className:"text-2xl font-semibold",children:"Heading"}),(null==(g=null==(h=null==e?void 0:e.imageSections)?void 0:h.sections)?void 0:g.length)>0?e.imageSections.sections.map(((e,t)=>c.jsxs("div",{className:"p-6 mb-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4",children:[c.jsx("input",{type:"text",value:e.heading,onChange:e=>i(t,e.target.value),placeholder:"Section Heading",className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"}),c.jsx("button",{type:"button",onClick:()=>r(t),className:"mt-2 sm:mt-0 sm:ml-4 text-red-500 hover:underline",children:"Remove Section"})]}),c.jsx(b,{onUploadSuccess:e=>d(t,e),isUploading:a,imagesUrls:e.images,onRemoveImageUrl:e=>m(t,e)})]},t))):c.jsx("p",{className:"text-gray-600 italic",children:"No image sections added yet."})]})]})},H=({initialData:e=null})=>{var a,t,n,s,l,o,b,v,j,y,N,w,S,U;const P=Boolean(e),H=u(),{amenities:D}=f(),M=a=>{var t;const n=null==(t=null==e?void 0:e.location)?void 0:t[a];return"string"==typeof n?n:Array.isArray(n)&&n.length>0&&n[0].name||""},E=(O=null==e?void 0:e.imageSections)?Array.isArray(O.sections)&&Array.isArray(O.carouselImages)?O:O.images?{sections:[],carouselImages:O.images}:{sections:[],carouselImages:[]}:{sections:[],carouselImages:[]};var O;const[L,R]=m.useState({name:(null==e?void 0:e.name)||"",description:(null==e?void 0:e.description)||"",phoneNumber:(null==e?void 0:e.phoneNumber)||"",location:{hotelAddress:(null==(a=null==e?void 0:e.location)?void 0:a.hotelAddress)||"",metro:M("metro"),airport:M("airport"),railwayStation:M("railwayStation"),attractions:(null==(t=null==e?void 0:e.location)?void 0:t.attractions)||[],restaurants:(null==(n=null==e?void 0:e.location)?void 0:n.restaurants)||[],activities:(null==(s=null==e?void 0:e.location)?void 0:s.activities)||[],nightlife:(null==(l=null==e?void 0:e.location)?void 0:l.nightlife)||[]},meta:{title:(null==(o=null==e?void 0:e.meta)?void 0:o.title)||"",description:(null==(b=null==e?void 0:e.meta)?void 0:b.description)||"",keywords:(null==(v=null==e?void 0:e.meta)?void 0:v.keywords)||[],ogTitle:(null==(j=null==e?void 0:e.meta)?void 0:j.ogTitle)||"",ogDescription:(null==(y=null==e?void 0:e.meta)?void 0:y.ogDescription)||"",ogImage:(null==(N=null==e?void 0:e.meta)?void 0:N.ogImage)||"",canonicalUrl:(null==(w=null==e?void 0:e.meta)?void 0:w.canonicalUrl)||""},amenities:(null==e?void 0:e.amenities)||[],rating:(null==e?void 0:e.rating)||0,price:(null==e?void 0:e.price)||0,discountedPrice:(null==e?void 0:e.discountedPrice)||0,soldOut:(null==e?void 0:e.soldOut)||!1,payAtHotel:(null==e?void 0:e.payAtHotel)||"no",hotelCode:(null==e?void 0:e.hotelCode)||"",authKey:(null==e?void 0:e.authKey)||"",images:(null==e?void 0:e.images)||[],testimonials:(null==e?void 0:e.testimonials)||[],checkIn:(null==e?void 0:e.checkIn)||"",checkOut:(null==e?void 0:e.checkOut)||"",aboutUs:{description:(null==(S=null==e?void 0:e.aboutUs)?void 0:S.description)||"",image:(null==(U=null==e?void 0:e.aboutUs)?void 0:U.img)||""},imageSections:E,cityLocation:(null==e?void 0:e.cityLocation)||"",faqs:(null==e?void 0:e.faqs)||[],addToYourStay:(null==e?void 0:e.addToYourStay)||[],continentalPlan:(null==e?void 0:e.continentalPlan)||{rate:{amount:0,period:"per person"}}}),[Y,$]=m.useState({question:"",answer:""}),[F,z]=m.useState(null),[K,Q]=m.useState({question:"",answer:""}),[B,_]=m.useState("details"),[V,W]=m.useState({attractions:{name:""},restaurants:{name:""},activities:{name:""},nightlife:{name:""}}),[G,J]=m.useState({name:"",location:"",heading:"",description:""}),[X,Z]=m.useState(""),[ee,ae]=m.useState(!1),{mutate:te}=g(),{mutate:ne}=x(),se=(e,a)=>{$((t=>r(i({},t),{[e]:a})))},le=e=>{const{name:a,value:t}=e.target;Q((e=>r(i({},e),{[a]:t})))},oe=()=>{z(null)};return c.jsx("div",{className:"mx-auto py-16 px-8",children:c.jsxs("div",{className:"bg-white p-8 shadow-lg rounded-lg",children:[c.jsx("h1",{className:"text-3xl font-bold text-center mb-6",children:P?"Edit Hotel":"Add Hotel"}),c.jsx("div",{className:"flex justify-center mb-6 border-b",children:["details","aboutUs","location","headerImages","hotelImages","testimonials","faqs","addToYourStay"].map((e=>c.jsxs("button",{onClick:()=>_(e),className:"relative text-xl px-4 py-2 mx-2 font-medium focus:outline-none transition-colors duration-300",children:[c.jsx("span",{className:B===e?"text-blue-500":"text-gray-500 hover:text-blue-500",children:"hotelImages"===e?"Hotel Images":e.charAt(0).toUpperCase()+e.slice(1)}),c.jsx("span",{className:"absolute left-0 bottom-0 h-0.5 bg-blue-500 transition-all duration-300 "+(B===e?"w-full":"w-0")})]},e)))}),c.jsxs("form",{onSubmit:e=>{e.preventDefault();const a=r(i({},L),{location:{hotelAddress:L.location.hotelAddress,metro:L.location.metro?[{name:L.location.metro}]:[],airport:L.location.airport?[{name:L.location.airport}]:[],railwayStation:L.location.railwayStation?[{name:L.location.railwayStation}]:[],attractions:L.location.attractions,restaurants:L.location.restaurants,activities:L.location.activities,nightlife:L.location.nightlife},phoneNumber:L.phoneNumber,amenities:L.amenities,rating:Number(L.rating),price:Number(L.price),discountedPrice:Number(L.discountedPrice),aboutUs:{description:L.aboutUs.description,img:L.aboutUs.image},imageSections:L.imageSections,faqs:L.faqs,cityLocation:L.cityLocation,addToYourStay:L.addToYourStay,continentalPlan:L.continentalPlan});P?ne({hotelCode:L.hotelCode,hotelData:a},{onSuccess:()=>{h.success("Hotel updated successfully!"),H("/admin/hotels")},onError:e=>h.error(`Error updating hotel: ${e.message}`)}):te(a,{onSuccess:()=>{h.success("Hotel added successfully!"),H("/admin/hotels")},onError:e=>h.error(`Error adding hotel: ${e.message}`)})},children:["details"===B&&c.jsx(T,{formData:L,handleDetailsChange:e=>{const{name:a,value:t,type:n,checked:s}=e.target,l="payAtHotel"===a?s?"yes":"no":"checkbox"===n?s:t;["title","description","keywords","ogTitle","ogDescription","ogImage","canonicalUrl"].includes(a)?R((e=>r(i({},e),{meta:r(i({},e.meta),{[a]:"keywords"===a?t.split(",").map((e=>e.trim())):l})}))):R("amount"===a||"period"===a?e=>r(i({},e),{continentalPlan:r(i({},e.continentalPlan),{rate:r(i({},e.continentalPlan.rate),{[a]:"amount"===a?Number(t):t})})}):e=>r(i({},e),{[a]:l}))},amenities:D,handleAmenitiesChange:(e,a)=>{R((e=>r(i({},e),{amenities:a})))},setFormData:R}),"location"===B&&c.jsx(A,{formData:L,handleHotelAddressChange:e=>{const{value:a}=e.target;R((e=>r(i({},e),{location:r(i({},e.location),{hotelAddress:a})})))},handleTransportChange:(e,a)=>{R((t=>r(i({},t),{location:r(i({},t.location),{[e]:a})})))},transportLocations:["metro","airport","railwayStation"],pointsOfInterest:["attractions","restaurants","activities","nightlife"],locationInputs:V,handleLocationInputChange:(e,a,t)=>{W((n=>r(i({},n),{[e]:r(i({},n[e]),{[a]:t})})))},addLocationItem:e=>{const{name:a}=V[e];if(!a.trim())return h.error(`Please provide a name for ${e}`);R((t=>r(i({},t),{location:r(i({},t.location),{[e]:[...t.location[e]||[],{name:a.trim()}]})}))),W((a=>r(i({},a),{[e]:{name:""}})))},removeLocationItem:(e,a)=>{R((t=>{const n=[...t.location[e]||[]];return n.splice(a,1),r(i({},t),{location:r(i({},t.location),{[e]:n})})}))},handleCityLocationChange:e=>{R((a=>r(i({},a),{cityLocation:e.target.value})))}}),"headerImages"===B&&c.jsx(I,{formData:L,isUploading:ee,handleImagesUpload:e=>d(void 0,null,(function*(){var a,t;if(!e.length)return h.error("No images selected");ae(!0);try{const a=yield p(e),t=Array.isArray(a)?a:[a];R((e=>r(i({},e),{images:[...e.images,...t[0].imageUrls]}))),h.success("Images uploaded successfully!")}catch(n){h.error(null==(t=null==(a=null==n?void 0:n.response)?void 0:a.data)?void 0:t.message)}ae(!1)})),handleRemoveImageUrl:e=>{R((a=>r(i({},a),{images:a.images.filter((a=>a!==e))})))}}),"hotelImages"===B&&c.jsx(q,{formData:L,isUploading:ee,newSectionHeading:X,setNewSectionHeading:Z,handleCarouselImagesUpload:e=>d(void 0,null,(function*(){var a,t;if(!e.length)return h.error("No images selected for carousel");ae(!0);try{const a=yield p(e),t=Array.isArray(a)?a:[a];R((e=>r(i({},e),{imageSections:r(i({},e.imageSections),{carouselImages:[...e.imageSections.carouselImages,...t[0].imageUrls]})}))),h.success("Carousel images uploaded successfully!")}catch(n){h.error(null==(t=null==(a=null==n?void 0:n.response)?void 0:a.data)?void 0:t.message)}ae(!1)})),handleRemoveCarouselImage:e=>{R((a=>r(i({},a),{imageSections:r(i({},a.imageSections),{carouselImages:a.imageSections.carouselImages.filter((a=>a!==e))})})))},handleAddImageSection:()=>{if(!X.trim())return h.error("Please provide a heading for the image section");R((e=>r(i({},e),{imageSections:r(i({},e.imageSections),{sections:[...e.imageSections.sections,{heading:X.trim(),images:[]}]})}))),Z("")},handleSectionHeadingChange:(e,a)=>{R((t=>{const n=[...t.imageSections.sections];return n[e].heading=a,r(i({},t),{imageSections:r(i({},t.imageSections),{sections:n})})}))},handleRemoveImageSection:e=>{R((a=>{const t=[...a.imageSections.sections];return t.splice(e,1),r(i({},a),{imageSections:r(i({},a.imageSections),{sections:t})})}))},handleSectionImagesUpload:(e,a)=>d(void 0,null,(function*(){var t,n;if(!a.length)return h.error("No images selected for this section");ae(!0);try{const t=yield p(a),n=Array.isArray(t)?t:[t];R((a=>{const t=[...a.imageSections.sections];return t[e].images=[...t[e].images,...n[0].imageUrls],r(i({},a),{imageSections:r(i({},a.imageSections),{sections:t})})})),h.success("Section images uploaded successfully!")}catch(s){h.error(null==(n=null==(t=null==s?void 0:s.response)?void 0:t.data)?void 0:n.message)}ae(!1)})),handleRemoveSectionImageUrl:(e,a)=>{R((t=>{const n=[...t.imageSections.sections];return n[e].images=n[e].images.filter((e=>e!==a)),r(i({},t),{imageSections:r(i({},t.imageSections),{sections:n})})}))}}),"testimonials"===B&&c.jsx(k,{formData:L,setFormData:R,testimonialInput:G,setTestimonialInput:J,handleAddTestimonial:()=>{const e=i({},G);R((a=>r(i({},a),{testimonials:[...a.testimonials,e]}))),J({name:"",location:"",heading:"",description:""})},handleRemoveTestimonial:e=>{const a=L.testimonials.filter(((a,t)=>t!==e));R((e=>r(i({},e),{testimonials:a})))}}),"aboutUs"===B&&c.jsx(C,{formData:L,handleAboutUsChange:e=>{const{name:a,value:t}=e.target;R((e=>r(i({},e),{aboutUs:r(i({},e.aboutUs),{[a]:t})})))},handleAboutUsFeatureChange:(e,a)=>{R((t=>r(i({},t),{aboutUs:r(i({},t.aboutUs),{[e]:a})})))}}),"faqs"===B&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"FAQs"}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsx("input",{type:"text",value:Y.question,onChange:e=>se("question",e.target.value),placeholder:"FAQ Question",className:"flex-1 border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"}),c.jsx("input",{type:"text",value:Y.answer,onChange:e=>se("answer",e.target.value),placeholder:"FAQ Answer",className:"flex-1 border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"}),c.jsx("button",{type:"button",onClick:()=>{if(!Y.question.trim()||!Y.answer.trim())return h.error("Please fill in both question and answer for the FAQ.");R((e=>r(i({},e),{faqs:[...e.faqs,{question:Y.question.trim(),answer:Y.answer.trim()}]}))),$({question:"",answer:""})},className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md transition-colors",children:"Add FAQ"})]}),L.faqs.length>0?L.faqs.map(((e,a)=>c.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-center p-4 border rounded-md",children:F===a?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("input",{type:"text",name:"question",value:K.question,onChange:le,placeholder:"Edit question",className:"w-full border rounded-md p-2 mb-2 focus:outline-none focus:ring-2 focus:ring-blue-200"}),c.jsx("input",{type:"text",name:"answer",value:K.answer,onChange:le,placeholder:"Edit answer",className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),c.jsxs("div",{className:"flex gap-2 mt-2 sm:mt-0",children:[c.jsx("button",{type:"button",onClick:()=>(e=>{const a=[...L.faqs];a[e]=K,R((e=>r(i({},e),{faqs:a}))),z(null)})(a),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-md transition-colors",children:"Save"}),c.jsx("button",{type:"button",onClick:oe,className:"bg-gray-500 hover:bg-gray-600 text-white px-3 py-2 rounded-md transition-colors",children:"Cancel"})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-semibold",children:e.question}),c.jsx("p",{className:"text-gray-600",children:e.answer})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{type:"button",onClick:()=>(e=>{z(e),Q(i({},L.faqs[e]))})(a),className:"text-blue-500 hover:underline",children:"Edit"}),c.jsx("button",{type:"button",onClick:()=>(e=>{R((a=>{const t=[...a.faqs];return t.splice(e,1),r(i({},a),{faqs:t})}))})(a),className:"text-red-500 hover:underline",children:"Remove"})]})]})},a))):c.jsx("p",{className:"text-gray-600 italic",children:"No FAQs added yet."})]})]}),"addToYourStay"===B&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Add To Your Stay"}),L.addToYourStay.length>0&&L.addToYourStay.map(((e,a)=>{var t,n;return c.jsxs("div",{className:"border p-4 rounded-md space-y-2",children:[c.jsx("input",{type:"text",value:e.heading,onChange:e=>{const t=[...L.addToYourStay];t[a].heading=e.target.value,R(r(i({},L),{addToYourStay:t}))},placeholder:"Heading",className:"w-full border rounded-md p-2"}),c.jsx("textarea",{value:e.description,onChange:e=>{const t=[...L.addToYourStay];t[a].description=e.target.value,R(r(i({},L),{addToYourStay:t}))},placeholder:"Description",className:"w-full border rounded-md p-2"}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("input",{type:"number",value:(null==(t=e.rate)?void 0:t.amount)||0,onChange:e=>{const t=[...L.addToYourStay];t[a].rate=r(i({},t[a].rate),{amount:Number(e.target.value)}),R(r(i({},L),{addToYourStay:t}))},placeholder:"Rate Amount",className:"w-full border rounded-md p-2"}),c.jsxs("select",{value:(null==(n=e.rate)?void 0:n.period)||"",onChange:e=>{const t=[...L.addToYourStay];t[a].rate=r(i({},t[a].rate),{period:e.target.value}),R(r(i({},L),{addToYourStay:t}))},className:"w-full border rounded-md p-2",children:[c.jsx("option",{value:"",children:"Default"}),c.jsx("option",{value:"per night",children:"Per Night"}),c.jsx("option",{value:"per day",children:"Per Day"})]})]}),c.jsx("button",{type:"button",onClick:()=>{const e=L.addToYourStay.filter(((e,t)=>t!==a));R(r(i({},L),{addToYourStay:e}))},className:"text-red-500 hover:underline",children:"Remove Entry"})]},a)})),c.jsx("button",{type:"button",onClick:()=>{R(r(i({},L),{addToYourStay:[...L.addToYourStay,{heading:"",description:"",rate:{amount:0,period:"per night"}}]}))},className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md transition-colors",children:"Add New Entry"})]}),c.jsx("div",{className:"mt-8",children:c.jsx("button",{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 rounded-md transition-colors",children:P?"Update Hotel":"Add Hotel"})})]})]})})};export{H};
