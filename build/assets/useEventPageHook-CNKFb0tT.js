var r=(a,e,s)=>new Promise((t,p)=>{var l=u=>{try{g(s.next(u))}catch(d){p(d)}},v=u=>{try{g(s.throw(u))}catch(d){p(d)}},g=u=>u.done?t(u.value):Promise.resolve(u.value).then(l,v);g((s=s.apply(a,e)).next())});import{h as y,l as c,g as i,_ as n}from"./react-vendor-CU6lFo1N.js";import{c as o}from"./index-DTQi_YP9.js";const E=(a=!1)=>y({queryKey:["eventPages",a],queryFn:()=>r(void 0,null,function*(){const e=a?"?active=true":"";return(yield o.get(`/api/event-pages${e}`)).data}),staleTime:6e4,refetchOnWindowFocus:!1}),F=a=>y({queryKey:["eventPage",a],queryFn:()=>r(void 0,null,function*(){return(yield o.get(`/api/event-pages/${a}`)).data}),enabled:!!a,staleTime:6e4,refetchOnWindowFocus:!1}),f=()=>{const a=c();return i({mutationFn:e=>r(void 0,null,function*(){return(yield o.post("/api/event-pages",e)).data}),onSuccess:e=>{a.invalidateQueries({queryKey:["eventPages"]}),n.success("Event page created successfully")},onError:e=>{var s,t;n.error(`Failed to create page: ${((t=(s=e.response)==null?void 0:s.data)==null?void 0:t.message)||e.message}`)}})},$=()=>{const a=c();return i({mutationFn:t=>r(void 0,[t],function*({slug:e,updateData:s}){return(yield o.put(`/api/event-pages/${e}`,s)).data}),onSuccess:(e,s)=>{a.invalidateQueries({queryKey:["eventPages"]}),a.invalidateQueries({queryKey:["eventPage",s.slug]}),n.success("Event page updated successfully")},onError:e=>{var s,t;n.error(`Failed to update page: ${((t=(s=e.response)==null?void 0:s.data)==null?void 0:t.message)||e.message}`)}})},K=()=>{const a=c();return i({mutationFn:p=>r(void 0,[p],function*({slug:e,section:s,sectionData:t}){return(yield o.patch(`/api/event-pages/${e}/section/${s}`,t)).data}),onSuccess:(e,s)=>{a.invalidateQueries({queryKey:["eventPages"]}),a.invalidateQueries({queryKey:["eventPage",s.slug]}),n.success(`${s.section} updated successfully`)},onError:e=>{var s,t;n.error(`Failed to update section: ${((t=(s=e.response)==null?void 0:s.data)==null?void 0:t.message)||e.message}`)}})},Q=()=>{const a=c();return i({mutationFn:e=>r(void 0,null,function*(){return(yield o.patch(`/api/event-pages/${e}/toggle-status`)).data}),onSuccess:(e,s)=>{a.invalidateQueries({queryKey:["eventPages"]}),a.invalidateQueries({queryKey:["eventPage",s]}),n.success(e.message||"Status updated successfully")},onError:e=>{var s,t;n.error(`Failed to toggle status: ${((t=(s=e.response)==null?void 0:s.data)==null?void 0:t.message)||e.message}`)}})},S=()=>{const a=c();return i({mutationFn:e=>r(void 0,null,function*(){return(yield o.delete(`/api/event-pages/${e}`)).data}),onSuccess:()=>{a.invalidateQueries({queryKey:["eventPages"]}),n.success("Event page deleted successfully")},onError:e=>{var s,t;n.error(`Failed to delete page: ${((t=(s=e.response)==null?void 0:s.data)==null?void 0:t.message)||e.message}`)}})};export{F as a,f as b,$ as c,K as d,Q as e,S as f,E as u};
