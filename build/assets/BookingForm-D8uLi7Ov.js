import{q as B,r as o,j as e,az as q,_ as E}from"./react-vendor-CU6lFo1N.js";import{ag as M,ah as i,ai as D,aj as F}from"./vendor-DnuN4cIi.js";import{useGetHotels as $}from"./useHotelHook2-4z4wAkLq.js";import{u as I}from"./useEnquiryFormHook-DGt-elI4.js";import{L}from"./Loader-XhNNeGJs.js";import{G as P,l as b}from"./date-vendor-BpmxrJb6.js";import"./animation-vendor-DE7fCS50.js";import"./query-vendor-B8s5OfyV.js";import"./ui-vendor-BNgsC25r.js";import"./swiper-vendor-CoL_RVtK.js";import"./index-DTQi_YP9.js";const U=()=>{const{data:a,isLoading:N}=$(),m=B(),[n,u]=o.useState(null),[d,h]=o.useState(null),[x,c]=o.useState(0),[f,y]=o.useState(!1),{mutate:j,isLoading:w}=I();o.useEffect(()=>{window.scrollTo(0,0)},[]),o.useEffect(()=>{if(n&&d){const t=P(d,n);c(t)}else c(0)},[n,d]);const k=M({propertyName:i().required("Property name is required"),dates:i().required("Check-in and check-out dates are required"),guests:D().required("Number of guests is required").positive("Number of guests must be positive").integer("Number of guests must be an integer"),email:i().email("Invalid email address").required("Email is required"),mobileNumber:i().required("Mobile number is required").matches(/^[0-9+\s-]+$/,"Invalid mobile number"),firstName:i().required("First name is required"),lastName:i().required("Last name is required")}),g=localStorage.getItem("hotelInfo");let p="";try{if(g){const t=JSON.parse(g);p=(t==null?void 0:t.name)||""}}catch(t){console.error("Error parsing hotelInfo from localStorage:",t)}const r=F({initialValues:{propertyName:p,dates:"",guests:"",email:"",mobileNumber:"",firstName:"",lastName:""},validationSchema:k,onSubmit:t=>{const s={page:"Bulk Booking",companyName:t==null?void 0:t.propertyName,name:(t==null?void 0:t.firstName)+" "+(t==null?void 0:t.lastName),email:t==null?void 0:t.email,phone:t==null?void 0:t.mobileNumber,decisionMaker:(t==null?void 0:t.nights)+" Nights",enquiry:t==null?void 0:t.dates,gid:[729945248],submittedAt:new Date().toISOString()};j(s,{onSuccess:()=>{y(!0),r.resetForm(),u(null),h(null),c(0)},onError:l=>{E.error("Failed to submit enquiry. Please try again."),console.error("Submission error:",l)}})}}),v=t=>{const[s,l]=t;if(u(s),h(l),s&&l){const S=`${b(s,"EEE, MMM d")} - ${b(l,"EEE, MMM d")}`;r.setFieldValue("dates",S)}else r.setFieldValue("dates","")},C=()=>e.jsx("div",{className:"bg-primary-green min-h-screen flex items-center justify-center border-b py-28 p-4",children:e.jsxs("div",{className:"text-center max-w-2xl w-full bg-white rounded-2xl shadow-lg p-12",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"w-32 h-32 text-primary-green mx-auto mb-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h1",{className:"text-4xl font-bold text-primary-green mb-4",children:"Booking Submitted Successfully!"}),e.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"Thank you for your booking enquiry. Our team will contact you soon to confirm your reservation and provide further details."}),e.jsxs("div",{className:"flex justify-center space-x-4 mt-8",children:[e.jsx("button",{onClick:()=>m("/"),className:"bg-primary-green hover:bg-primary-dark-green text-white font-medium rounded-md px-6 py-3 transition duration-300 ease-in-out",children:"Back to Home"}),e.jsx("button",{onClick:()=>m("/contact"),className:"border-2 border-primary-green text-primary-green hover:bg-primary-green hover:text-white font-medium rounded-md px-6 py-3 transition duration-300 ease-in-out",children:"Contact Us"})]})]})});return N||w?e.jsx(L,{}):e.jsx(e.Fragment,{children:f?e.jsx(C,{}):e.jsx("div",{className:"bg-primary-green min-h-screen flex items-center justify-center border-b py-28 p-4",children:e.jsxs("div",{className:"w-full content",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-5xl font-bold text-white mb-4",children:"Booking Form"}),e.jsx("p",{className:"text-white mb-8",children:"For bookings longer than 10 nights or large groups"})]}),e.jsx("div",{className:"w-full bg-white rounded-2xl shadow-lg p-6 md:p-12",children:e.jsxs("div",{className:"flex flex-col lg:flex-row",children:[e.jsx("div",{className:"w-full lg:w-2/3 lg:pr-8",children:e.jsxs("form",{onSubmit:r.handleSubmit,className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("select",{name:"propertyName",className:`w-full border rounded-md p-3 ${r.touched.propertyName&&r.errors.propertyName?"border-red-500":"border-gray-300"}`,value:r.values.propertyName,onChange:r.handleChange,onBlur:r.handleBlur,children:[e.jsx("option",{value:"",children:"Select Property"}),(a==null?void 0:a.hotels)&&(a==null?void 0:a.hotels.map((t,s)=>e.jsx("option",{value:t.name,children:t.name},s)))]}),r.touched.propertyName&&r.errors.propertyName&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:r.errors.propertyName})]}),e.jsxs("div",{className:"mb-4 w-full sm:col-span-2",children:[e.jsxs("div",{className:"relative w-full border rounded-md",children:[e.jsx(q,{selected:n,onChange:v,startDate:n,endDate:d,selectsRange:!0,minDate:new Date,placeholderText:"Pick Dates",className:`w-full p-3 pl-10 focus:outline-none focus:ring-2 focus:ring-[#404040] rounded-md ${r.touched.dates&&r.errors.dates?"border-red-500":"border-gray-300"}`,onBlur:r.handleBlur,name:"dates",dateFormat:"EEE, MMM d",showPopperArrow:!1}),e.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})]}),r.touched.dates&&r.errors.dates&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:r.errors.dates}),x>0&&e.jsxs("div",{className:"text-green-600 text-sm mt-1",children:["Stay duration: ",x," nights"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("input",{type:"number",name:"guests",placeholder:"Number of Guests",className:`w-full border rounded-md p-3 ${r.touched.guests&&r.errors.guests?"border-red-500":"border-gray-300"}`,value:r.values.guests,onChange:r.handleChange,onBlur:r.handleBlur}),r.touched.guests&&r.errors.guests&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:r.errors.guests})]}),e.jsxs("div",{children:[e.jsx("input",{type:"email",name:"email",placeholder:"Email ID",className:`w-full border rounded-md p-3 ${r.touched.email&&r.errors.email?"border-red-500":"border-gray-300"}`,value:r.values.email,onChange:r.handleChange,onBlur:r.handleBlur}),r.touched.email&&r.errors.email&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:r.errors.email})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("input",{type:"text",name:"mobileNumber",placeholder:"Mobile Number",className:`w-full border rounded-md p-3 ${r.touched.mobileNumber&&r.errors.mobileNumber?"border-red-500":"border-gray-300"}`,value:r.values.mobileNumber,onChange:r.handleChange,onBlur:r.handleBlur}),r.touched.mobileNumber&&r.errors.mobileNumber&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:r.errors.mobileNumber})]}),e.jsxs("div",{children:[e.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",className:`w-full border rounded-md p-3 ${r.touched.firstName&&r.errors.firstName?"border-red-500":"border-gray-300"}`,value:r.values.firstName,onChange:r.handleChange,onBlur:r.handleBlur}),r.touched.firstName&&r.errors.firstName&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:r.errors.firstName})]}),e.jsxs("div",{children:[e.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",className:`w-full border rounded-md p-3 ${r.touched.lastName&&r.errors.lastName?"border-red-500":"border-gray-300"}`,value:r.values.lastName,onChange:r.handleChange,onBlur:r.handleBlur}),r.touched.lastName&&r.errors.lastName&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:r.errors.lastName})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",className:"bg-primary-green hover:bg-primary-dark-green text-white font-medium rounded-md px-6 py-3 transition duration-300 ease-in-out",children:"Submit Enquiry"})})]})}),e.jsxs("div",{className:"w-full lg:w-1/3 mt-8 lg:mt-0 bg-gray-100 p-6 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-600 mb-6",children:"Need Help?"}),e.jsx("div",{className:"flex items-center mb-4",children:e.jsx("a",{href:"mailto:booking@sunstarhospitality.com",className:"text-primary-green font-medium",children:"booking@sunstarhospitality.com"})}),e.jsx("div",{className:"flex items-center mb-6",children:e.jsx("a",{href:"tel:+9101142503285",className:"text-primary-green font-medium",children:"+91 01142 503285"})}),e.jsxs("div",{className:"border-t border-gray-300 pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Cancellation Policy"}),e.jsx("p",{className:"text-gray-500 text-sm mb-2",children:"Cancellations can be made free of charge up to 24 hours prior to check-in, which commences at 14:00 local time on the date of stay."}),e.jsx("button",{onClick:()=>m("/terms-conditions&cancellation"),className:"text-primary-green text-sm font-medium",children:"Read More"})]}),e.jsxs("div",{className:"border-t border-gray-300 mt-6 pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Terms & Conditions"}),e.jsx("p",{className:"text-gray-500 text-sm mb-2",children:"Subject to availability and payment, you may add any additional night(s) to any Group Booking (after the dates of the original Group Booking) at the rate for the room(s) at the time you make the amendment."}),e.jsx("button",{onClick:()=>m("/terms-conditions&cancellation"),className:"text-primary-green text-sm font-medium",children:"View All Terms & Conditions"})]})]})]})})]})})})};export{U as default};
