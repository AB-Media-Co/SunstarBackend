var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,i=(a,s,r)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[s]=r,n=(e,a)=>{for(var s in a||(a={}))l.call(a,s)&&i(e,s,a[s]);if(r)for(var s of r(a))t.call(a,s)&&i(e,s,a[s]);return e},d=(e,r)=>a(e,s(r));import{r as c,j as o,P as m,af as u,A as x,y as p,X as g,ag as b}from"./react-vendor-tq68JOgp.js";import{u as h,a as v,b as j,c as y}from"./useVenues-B9fsxPbA.js";import{I as N}from"./ImageUpload-DBA0P0hK.js";import{u as f,a as w,b as C,c as P}from"./useVenueLocation-D6Nq942q.js";import"./animation-vendor-DJegggv9.js";import"./vendor-DwD9zxym.js";import"./query-vendor-iDpT9gG9.js";import"./ui-vendor-DiJ4VKpG.js";import"./swiper-vendor-DEzR9mKq.js";import"./date-vendor-9E3U4XI3.js";import"./index-BZBH8CwT.js";import"./useHotelHook2-lvucTAR8.js";const k={name:"",description:"",imageUrl:"",mapUrl:"",website:"",phone:"",email:"",isActive:!0,address:{line1:"",line2:"",area:"",city:"",state:"",postalCode:"",country:"India"}};function M(){var e,a,s;const[r,l]=c.useState(!1),[t,i]=c.useState("create"),[b,h]=c.useState(null),[v,j]=c.useState({page:1,limit:10,search:"",active:"true"}),[y,M]=c.useState(k),[A,S]=c.useState(!1),{data:V,isLoading:q,error:U}=f(),L=w(),z=C(),I=P(),E=null!=(e=null==V?void 0:V.items)?e:[],O=null!=(a=null==V?void 0:V.pages)?a:1,D=()=>{l(!1),h(null),M(k),S(!1)},_=(e,a)=>{j((s=>d(n({},s),{[e]:a,page:1})))},R=A||L.isPending||z.isPending;return U?o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:o.jsxs("p",{className:"text-red-700",children:["Failed to load venue locations: ",U.message]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold",children:"Venue Location Data"}),o.jsxs("p",{className:"text-gray-600",children:[null!=(s=null==V?void 0:V.total)?s:0," locations found"]})]}),o.jsxs("button",{onClick:()=>{i("create"),h(null),M(k),l(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[o.jsx(m,{size:18})," Add Location"]})]}),o.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(u,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),o.jsx("input",{value:v.search,onChange:e=>_("search",e.target.value),placeholder:"Search name/city/area...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("select",{value:v.active,onChange:e=>_("active",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg",children:[o.jsx("option",{value:"",children:"All"}),o.jsx("option",{value:"true",children:"Active"}),o.jsx("option",{value:"false",children:"Inactive"})]})]})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-4 py-3",children:"Name"}),o.jsx("th",{className:"text-left px-4 py-3",children:"City"}),o.jsx("th",{className:"text-left px-4 py-3",children:"Phone"}),o.jsx("th",{className:"text-left px-4 py-3",children:"Email"}),o.jsx("th",{className:"text-left px-4 py-3",children:"Active"}),o.jsx("th",{className:"text-right px-4 py-3",children:"Actions"})]})}),o.jsx("tbody",{children:q?o.jsx("tr",{children:o.jsx("td",{className:"px-4 py-6",colSpan:6,children:"Loading…"})}):0===E.length?o.jsx("tr",{children:o.jsx("td",{className:"px-4 py-6",colSpan:6,children:"No locations found"})}):E.map((e=>{var a,s;return o.jsxs("tr",{className:"border-t",children:[o.jsxs("td",{className:"px-4 py-3",children:[o.jsx("div",{className:"font-medium",children:e.name}),(null==(a=e.address)?void 0:a.line1)&&o.jsx("div",{className:"text-gray-500",children:e.address.line1})]}),o.jsx("td",{className:"px-4 py-3",children:(null==(s=e.address)?void 0:s.city)||"-"}),o.jsx("td",{className:"px-4 py-3",children:e.phone||"-"}),o.jsx("td",{className:"px-4 py-3",children:e.email||"-"}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:"px-2 py-1 text-xs rounded "+(e.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.isActive?"Active":"Inactive"})}),o.jsxs("td",{className:"px-4 py-3 text-right",children:[o.jsxs("button",{onClick:()=>(e=>{var a,s,r,t,n,d,c,o;i("edit"),h(e),M({name:e.name||"",description:e.description||"",imageUrl:e.imageUrl||"",mapUrl:e.mapUrl||"",website:e.website||"",phone:e.phone||"",email:e.email||"",isActive:null==(a=e.isActive)||a,address:{line1:(null==(s=e.address)?void 0:s.line1)||"",line2:(null==(r=e.address)?void 0:r.line2)||"",area:(null==(t=e.address)?void 0:t.area)||"",city:(null==(n=e.address)?void 0:n.city)||"",state:(null==(d=e.address)?void 0:d.state)||"",postalCode:(null==(c=e.address)?void 0:c.postalCode)||"",country:(null==(o=e.address)?void 0:o.country)||"India"}}),l(!0)})(e),className:"inline-flex items-center gap-1 px-3 py-1.5 border rounded mr-2 hover:bg-gray-50",children:[o.jsx(x,{size:14})," Edit"]}),o.jsxs("button",{onClick:()=>(e=>{window.confirm(`Delete "${e.name}"?`)&&I.mutate(e._id||e.slug)})(e),className:"inline-flex items-center gap-1 px-3 py-1.5 border rounded hover:bg-gray-50 text-red-600",children:[o.jsx(p,{size:14})," Delete"]})]})]},e._id)}))})]})}),O>1&&o.jsxs("div",{className:"flex items-center justify-center gap-2 p-4 border-t",children:[o.jsx("button",{onClick:()=>j((e=>d(n({},e),{page:Math.max(1,e.page-1)}))),disabled:1===v.page,className:"px-3 py-1.5 border rounded disabled:opacity-50",children:"Prev"}),o.jsxs("span",{className:"text-sm",children:["Page ",v.page," / ",O]}),o.jsx("button",{onClick:()=>j((e=>d(n({},e),{page:Math.min(O,e.page+1)}))),disabled:v.page===O,className:"px-3 py-1.5 border rounded disabled:opacity-50",children:"Next"})]})]}),r&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg w-full max-w-3xl max-h-[95vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"create"===t?"Add Venue Location":"Edit Venue Location"}),o.jsx("button",{onClick:D,className:"text-gray-500 hover:text-gray-700",children:o.jsx(g,{size:22})})]}),o.jsxs("form",{onSubmit:e=>{if(e.preventDefault(),!y.name.trim())return alert("Name is required");if(!y.address.city.trim())return alert("City is required");if(!y.address.line1.trim())return alert("Address line1 is required");if(A)alert("Please wait for image upload to complete");else if("create"===t)L.mutate(y,{onSuccess:D});else{const e=(null==b?void 0:b._id)||(null==b?void 0:b.slug);z.mutate({idOrSlug:e,updates:y},{onSuccess:D})}},className:"p-4 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name *"}),o.jsx("input",{className:"w-full border rounded px-3 py-2",value:y.name,onChange:e=>M((a=>d(n({},a),{name:e.target.value}))),required:!0})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Venue Image"}),o.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:[o.jsx(N,{feature:{image:y.imageUrl},handleFeatureChange:(e,a)=>{"image"===e&&M((e=>d(n({},e),{imageUrl:a})))},setImageUpload:S,index:(null==b?void 0:b._id)||"new"}),y.imageUrl&&o.jsxs("div",{className:"mt-4",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Preview:"}),o.jsxs("div",{className:"relative inline-block",children:[o.jsx("img",{src:y.imageUrl,alt:"Venue preview",className:"w-full max-w-xs h-32 object-cover rounded-lg border shadow-sm",onError:e=>{e.currentTarget.style.display="none"}}),o.jsx("button",{type:"button",onClick:()=>M((e=>d(n({},e),{imageUrl:""}))),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]})]})]})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address Line 1 *"}),o.jsx("input",{className:"w-full border rounded px-3 py-2",value:y.address.line1,onChange:e=>M((a=>d(n({},a),{address:d(n({},a.address),{line1:e.target.value})}))),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"City *"}),o.jsx("input",{className:"w-full border rounded px-3 py-2",value:y.address.city,onChange:e=>M((a=>d(n({},a),{address:d(n({},a.address),{city:e.target.value})}))),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Postal Code"}),o.jsx("input",{className:"w-full border rounded px-3 py-2",value:y.address.postalCode,onChange:e=>M((a=>d(n({},a),{address:d(n({},a.address),{postalCode:e.target.value})})))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),o.jsx("input",{className:"w-full border rounded px-3 py-2",value:y.phone,onChange:e=>M((a=>d(n({},a),{phone:e.target.value})))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),o.jsx("input",{type:"email",className:"w-full border rounded px-3 py-2",value:y.email,onChange:e=>M((a=>d(n({},a),{email:e.target.value})))})]}),o.jsx("div",{className:"md:col-span-2",children:o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:y.isActive,onChange:e=>M((a=>d(n({},a),{isActive:e.target.checked})))}),"Active"]})})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:D,className:"px-4 py-2 border rounded",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:R,className:"px-6 py-2 rounded bg-blue-600 text-white disabled:opacity-50",children:R?"Saving...":"create"===t?"Create":"Update"})]})]})]})})]})}const A=()=>{const[e,a]=c.useState(!1),[s,r]=c.useState(null),[l,t]=c.useState("venues"),[i,f]=c.useState("create"),[w,C]=c.useState(!1),[P,k]=c.useState({page:1,limit:12,search:"",minPrice:"",maxPrice:"",minCapacity:"",maxCapacity:"",minRating:"",isActive:!0}),[A,S]=c.useState(!1),{data:V,isLoading:q,error:U}=h(P),L=v(),z=j(),I=y(),E=(null==V?void 0:V.data)||[],[O,D]=c.useState({name:"",image:"",pricePerPlate:"",capacityMin:"",capacityMax:"",location:"",description:"",rating:0,isActive:!0}),_=(e,a)=>{D((s=>d(n({},s),{[e]:a})))},R=(e,s=null)=>{var l;f(e),r(s),D(s?{name:s.name||"",image:s.image||"",pricePerPlate:s.pricePerPlate||"",capacityMin:s.capacityMin||"",capacityMax:s.capacityMax||"",location:s.location||"",description:s.description||"",rating:s.rating||0,isActive:null==(l=s.isActive)||l}:{name:"",image:"",pricePerPlate:"",capacityMin:"",capacityMax:"",location:"",description:"",rating:0,isActive:!0}),a(!0)},F=()=>{a(!1),r(null),C(!1),D({name:"",image:"",pricePerPlate:"",capacityMin:"",capacityMax:"",location:"",description:"",rating:0,isActive:!0})},H=(e,a)=>{k((s=>d(n({},s),{[e]:a,page:1})))};return U?o.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:o.jsxs("p",{className:"text-red-700",children:["Error loading venues: ",U.message]})})})}):o.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[o.jsxs("div",{className:"max-w-7xl mt-20 mx-auto",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-2 mb-6 flex gap-2",children:[o.jsx("button",{onClick:()=>t("venues"),className:"px-4 py-2 rounded "+("venues"===l?"bg-blue-600 text-white":"hover:bg-gray-100"),children:"Venues"}),o.jsx("button",{onClick:()=>t("venueLocations"),className:"px-4 py-2 rounded "+("venueLocations"===l?"bg-blue-600 text-white":"hover:bg-gray-100"),children:"Venue Location Data"})]}),"venueLocations"===l&&o.jsx(M,{}),"venues"===l&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Venue Management"}),o.jsxs("p",{className:"text-gray-600 mt-2",children:[(null==V?void 0:V.total)||0," venues found"]})]}),o.jsxs("button",{onClick:()=>R("create"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-colors",children:[o.jsx(m,{size:20}),"Add New Venue"]})]}),o.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(u,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),o.jsx("input",{type:"text",placeholder:"Search venues...",value:P.search,onChange:e=>H("search",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),o.jsxs("button",{onClick:()=>S(!A),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[o.jsx(b,{size:20}),"Filters"]})]}),A&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Price"}),o.jsx("input",{type:"number",value:P.minPrice,onChange:e=>H("minPrice",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Price"}),o.jsx("input",{type:"number",value:P.maxPrice,onChange:e=>H("maxPrice",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Capacity"}),o.jsx("input",{type:"number",value:P.minCapacity,onChange:e=>H("minCapacity",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Rating"}),o.jsxs("select",{value:P.minRating,onChange:e=>H("minRating",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Any Rating"}),o.jsx("option",{value:"1",children:"1+ Stars"}),o.jsx("option",{value:"2",children:"2+ Stars"}),o.jsx("option",{value:"3",children:"3+ Stars"}),o.jsx("option",{value:"4",children:"4+ Stars"}),o.jsx("option",{value:"5",children:"5 Stars"})]})]})]}),o.jsx("div",{className:"mt-4",children:o.jsx("button",{onClick:()=>{k({page:1,limit:12,search:"",minPrice:"",maxPrice:"",minCapacity:"",maxCapacity:"",minRating:"",isActive:!0})},className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Clear all filters"})})]})]})]}),q&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map(((e,a)=>o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 animate-pulse",children:[o.jsx("div",{className:"h-48 bg-gray-200 rounded-lg mb-4"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},a)))}),!q&&E.length>0&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:E.map((e=>o.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:e.image||"/api/placeholder/300/200",alt:e.name,className:"w-full h-48 object-cover rounded-t-lg",onError:e=>{e.target.src="/api/placeholder/300/200"}}),o.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[o.jsx("button",{onClick:()=>R("edit",e),className:"bg-white bg-opacity-90 hover:bg-opacity-100 p-2 rounded-full shadow-sm transition-colors",children:o.jsx(x,{size:16,className:"text-blue-600"})}),o.jsx("button",{onClick:()=>(e=>{window.confirm(`Are you sure you want to delete "${e.name}"?`)&&I.mutate(e._id)})(e),disabled:I.isPending,className:"bg-white bg-opacity-90 hover:bg-opacity-100 p-2 rounded-full shadow-sm transition-colors disabled:opacity-50",children:o.jsx(p,{size:16,className:"text-red-600"})})]}),o.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 rounded text-xs font-medium "+(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Active":"Inactive"})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-1",children:e.name}),o.jsx("p",{className:"text-gray-600 text-sm mb-2",children:e.location}),o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs("span",{className:"text-xl font-bold text-green-600",children:["₹",e.pricePerPlate,"/plate"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-yellow-400",children:"★"}),o.jsxs("span",{className:"ml-1 text-sm text-gray-600",children:[e.rating,"/5"]})]})]}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Capacity: ",e.capacityMin," - ",e.capacityMax," people"]}),e.description&&o.jsx("p",{className:"text-gray-600 text-sm mt-2 line-clamp-2",children:e.description})]})]},e._id)))}),!q&&0===E.length&&o.jsx("div",{className:"text-center py-12",children:o.jsxs("div",{className:"max-w-md mx-auto",children:[o.jsx("div",{className:"bg-gray-100 rounded-full p-6 w-24 h-24 mx-auto mb-4 flex items-center justify-center",children:o.jsx(u,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No venues found"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search criteria or add a new venue."}),o.jsx("button",{onClick:()=>R("create"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg",children:"Add Your First Venue"})]})}),(null==V?void 0:V.pages)>1&&o.jsx("div",{className:"mt-8 flex justify-center",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>H("page",P.page-1),disabled:1===P.page,className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),[...Array(Math.min(5,V.pages))].map(((e,a)=>{const s=a+1;return o.jsx("button",{onClick:()=>H("page",s),className:"px-3 py-2 rounded-lg "+(P.page===s?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"),children:s},s)})),o.jsx("button",{onClick:()=>H("page",P.page+1),disabled:P.page===(null==V?void 0:V.pages),className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})})]})]}),"venues"===l&&e&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[95vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[o.jsx("h2",{className:"text-xl font-semibold",children:"create"===i?"Add New Venue":"Edit Venue"}),o.jsx("button",{onClick:F,className:"text-gray-400 hover:text-gray-600",children:o.jsx(g,{size:24})})]}),o.jsxs("form",{onSubmit:e=>{e.preventDefault();const a=O.name.trim()?O.location.trim()?!O.pricePerPlate||O.pricePerPlate<=0?"Valid price is required":!O.capacityMin||O.capacityMin<=0?"Valid minimum capacity is required":!O.capacityMax||O.capacityMax<=0?"Valid maximum capacity is required":Number(O.capacityMin)>Number(O.capacityMax)?"Min capacity cannot be greater than max capacity":null:"Location is required":"Venue name is required";if(a)return void alert(a);if(w)return void alert("Please wait for image upload to complete");const r=d(n({},O),{pricePerPlate:Number(O.pricePerPlate),capacityMin:Number(O.capacityMin),capacityMax:Number(O.capacityMax),rating:Number(O.rating)});"create"===i?L.mutate(r,{onSuccess:()=>F()}):"edit"===i&&z.mutate({id:s._id,updates:r},{onSuccess:()=>F()})},className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Venue Name *"}),o.jsx("input",{type:"text",required:!0,value:O.name,onChange:e=>_("name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter venue name"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Venue Image"}),o.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:[o.jsx(N,{feature:O,handleFeatureChange:_,setImageUpload:C,index:(null==s?void 0:s._id)||"new"}),O.image&&o.jsxs("div",{className:"mt-4",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Preview:"}),o.jsxs("div",{className:"relative inline-block",children:[o.jsx("img",{src:O.image,alt:"Venue preview",className:"w-full max-w-xs h-32 object-cover rounded-lg border shadow-sm",onError:e=>{e.target.style.display="none"}}),o.jsx("button",{type:"button",onClick:()=>_("image",""),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price per Plate (₹) *"}),o.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:O.pricePerPlate,onChange:e=>_("pricePerPlate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g. 500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rating (0-5)"}),o.jsx("input",{type:"number",min:"0",max:"5",step:"0.1",value:O.rating,onChange:e=>_("rating",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g. 4.5"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Capacity *"}),o.jsx("input",{type:"number",required:!0,min:"1",value:O.capacityMin,onChange:e=>_("capacityMin",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g. 50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Capacity *"}),o.jsx("input",{type:"number",required:!0,min:"1",value:O.capacityMax,onChange:e=>_("capacityMax",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g. 200"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location *"}),o.jsx("input",{type:"text",required:!0,value:O.location,onChange:e=>_("location",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g. Mumbai, Maharashtra"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{rows:"4",value:O.description,onChange:e=>_("description",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe the venue, amenities, and special features..."})]}),o.jsx("div",{className:"md:col-span-2",children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:O.isActive,onChange:e=>_("isActive",e.target.checked),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active (venue is available for bookings)"})]})})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-6 border-t",children:[o.jsx("button",{type:"button",onClick:F,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:L.isPending||z.isPending||w,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:w?"Uploading Image...":L.isPending||z.isPending?"Saving...":"create"===i?"Create Venue":"Update Venue"})]})]})]})})]})};export{A as default};
