var e=(e,a,s)=>new Promise(((t,n)=>{var r=e=>{try{o(s.next(e))}catch(a){n(a)}},u=e=>{try{o(s.throw(e))}catch(a){n(a)}},o=e=>e.done?t(e.value):Promise.resolve(e.value).then(r,u);o((s=s.apply(e,a)).next())}));import{h as a,l as s,g as t,_ as n}from"./react-vendor-tq68JOgp.js";import{c as r}from"./index-BZBH8CwT.js";const u=(s=!1)=>a({queryKey:["eventPages",s],queryFn:()=>e(void 0,null,(function*(){const e=s?"?active=true":"";return(yield r.get(`/api/event-pages${e}`)).data})),staleTime:6e4,refetchOnWindowFocus:!1}),o=s=>a({queryKey:["eventPage",s],queryFn:()=>e(void 0,null,(function*(){return(yield r.get(`/api/event-pages/${s}`)).data})),enabled:!!s,staleTime:6e4,refetchOnWindowFocus:!1}),i=()=>{const a=s();return t({mutationFn:a=>e(void 0,null,(function*(){return(yield r.post("/api/event-pages",a)).data})),onSuccess:e=>{a.invalidateQueries({queryKey:["eventPages"]}),n.success("Event page created successfully")},onError:e=>{var a,s;n.error(`Failed to create page: ${(null==(s=null==(a=e.response)?void 0:a.data)?void 0:s.message)||e.message}`)}})},l=()=>{const a=s();return t({mutationFn:a=>e(void 0,[a],(function*({slug:e,updateData:a}){return(yield r.put(`/api/event-pages/${e}`,a)).data})),onSuccess:(e,s)=>{a.invalidateQueries({queryKey:["eventPages"]}),a.invalidateQueries({queryKey:["eventPage",s.slug]}),n.success("Event page updated successfully")},onError:e=>{var a,s;n.error(`Failed to update page: ${(null==(s=null==(a=e.response)?void 0:a.data)?void 0:s.message)||e.message}`)}})},d=()=>{const a=s();return t({mutationFn:a=>e(void 0,[a],(function*({slug:e,section:a,sectionData:s}){return(yield r.patch(`/api/event-pages/${e}/section/${a}`,s)).data})),onSuccess:(e,s)=>{a.invalidateQueries({queryKey:["eventPages"]}),a.invalidateQueries({queryKey:["eventPage",s.slug]}),n.success(`${s.section} updated successfully`)},onError:e=>{var a,s;n.error(`Failed to update section: ${(null==(s=null==(a=e.response)?void 0:a.data)?void 0:s.message)||e.message}`)}})},c=()=>{const a=s();return t({mutationFn:a=>e(void 0,null,(function*(){return(yield r.patch(`/api/event-pages/${a}/toggle-status`)).data})),onSuccess:(e,s)=>{a.invalidateQueries({queryKey:["eventPages"]}),a.invalidateQueries({queryKey:["eventPage",s]}),n.success(e.message||"Status updated successfully")},onError:e=>{var a,s;n.error(`Failed to toggle status: ${(null==(s=null==(a=e.response)?void 0:a.data)?void 0:s.message)||e.message}`)}})},v=()=>{const a=s();return t({mutationFn:a=>e(void 0,null,(function*(){return(yield r.delete(`/api/event-pages/${a}`)).data})),onSuccess:()=>{a.invalidateQueries({queryKey:["eventPages"]}),n.success("Event page deleted successfully")},onError:e=>{var a,s;n.error(`Failed to delete page: ${(null==(s=null==(a=e.response)?void 0:a.data)?void 0:s.message)||e.message}`)}})};export{o as a,i as b,l as c,d,c as e,v as f,u};
