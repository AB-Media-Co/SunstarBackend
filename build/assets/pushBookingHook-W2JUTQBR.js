var e=(e,o,a)=>new Promise(((s,r)=>{var n=e=>{try{i(a.next(e))}catch(o){r(o)}},t=e=>{try{i(a.throw(e))}catch(o){r(o)}},i=e=>e.done?s(e.value):Promise.resolve(e.value).then(n,t);i((a=a.apply(e,o)).next())}));import{h as o,g as a,_ as s}from"./react-vendor-tq68JOgp.js";import{c as r}from"./index-D89k_Hd_.js";const n=()=>a({mutationFn:o=>e(void 0,null,(function*(){return(yield r.post("/api/push-booking",o)).data})),onSuccess:e=>{e.success&&s.success(e.message)},onError:e=>{var o,a;s.error((null==(a=null==(o=null==e?void 0:e.response)?void 0:o.data)?void 0:a.message)||"Failed to push booking")}}),t=({hotelCode:a,email:n,apiKey:t})=>o({queryKey:["my-bookings",a,n],queryFn:()=>e(void 0,null,(function*(){var e,o;if(!a||!n||!t)return[];try{return(yield r.get("/api/seemybookings",{params:{hotelCode:a,email:n,apiKey:t}})).data}catch(i){throw s.error("Failed to fetch bookings: "+((null==(o=null==(e=null==i?void 0:i.response)?void 0:e.data)?void 0:o.message)||i.message)),i}})),enabled:!!a&&!!n&&!!t,staleTime:3e4,refetchOnWindowFocus:!1});export{t as a,n as u};
