var q=Object.defineProperty;var g=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var U=(t,e,s)=>e in t?q(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,D=(t,e)=>{for(var s in e||(e={}))C.call(e,s)&&U(t,s,e[s]);if(g)for(var s of g(e))E.call(e,s)&&U(t,s,e[s]);return t};var u=(t,e,s)=>new Promise((a,n)=>{var d=y=>{try{p(s.next(y))}catch(m){n(m)}},f=y=>{try{p(s.throw(y))}catch(m){n(m)}},p=y=>y.done?a(y.value):Promise.resolve(y.value).then(d,f);p((s=s.apply(t,e)).next())});import{c}from"./index-DTQi_YP9.js";import{h as l,l as i,g as r,_ as o}from"./react-vendor-CU6lFo1N.js";const h=t=>u(void 0,null,function*(){return(yield c.get("/api/ezee/day-use-rooms",{params:{date:t}})).data}),k=t=>l({queryKey:["dayUseRooms",t],queryFn:()=>h(t),enabled:!!t,staleTime:5*60*1e3,onError:e=>{var a,n;const s=((n=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:n.error)||e.message;o.error(`Error fetching day use rooms: ${s}`)}}),Q=s=>u(void 0,[s],function*({month:t,hotelCode:e}){return(yield c.get("/api/ezee/monthly",{params:{month:t,hotelCode:e}})).data}),A=(t,e)=>l({queryKey:["monthlyDayUseRooms",t,e],queryFn:()=>Q({month:t,hotelCode:e}),enabled:!!t,staleTime:10*60*1e3,onError:s=>{var n,d;const a=((d=(n=s==null?void 0:s.response)==null?void 0:n.data)==null?void 0:d.error)||s.message;o.error(`Error fetching monthly data: ${a}`)}}),v=t=>u(void 0,null,function*(){return(yield c.put("/api/ezee/update-availability",t)).data}),K=()=>{const t=i();return r({mutationFn:v,onSuccess:(e,s)=>{t.invalidateQueries(["dayUseRooms",s.date]),t.invalidateQueries(["monthlyDayUseRooms"]),o.success("Availability updated successfully")},onError:e=>{var a,n;const s=((n=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:n.error)||e.message;o.error(`Error updating availability: ${s}`)}})},w=t=>u(void 0,null,function*(){return(yield c.post("/api/ezee/dayuse/bulk-update",t)).data}),$=()=>{const t=i();return r({mutationFn:w,onSuccess:(e,s)=>{s!=null&&s.date&&t.invalidateQueries(["dayUseRooms",s.date]),t.invalidateQueries(["monthlyDayUseRooms"]),o.success("Bulk availability updated successfully")},onError:e=>{var a,n;const s=((n=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:n.error)||e.message;o.error(`Error updating bulk availability: ${s}`)}})},F=t=>u(void 0,null,function*(){return(yield c.post("/api/ezee/dayuse/book",t)).data}),P=()=>{const t=i();return r({mutationFn:F,onSuccess:(e,s)=>{s!=null&&s.date&&t.invalidateQueries(["dayUseRooms",s.date]),t.invalidateQueries(["monthlyDayUseRooms"])},onError:e=>{var a,n;const s=((n=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:n.error)||e.message;o.error(`Booking failed: ${s}`)}})},z=()=>u(void 0,null,function*(){return(yield c.get("/api/ezee/dayuse/content")).data}),_=(t={})=>l(D({queryKey:["dayUseContent"],queryFn:z,staleTime:6e4,refetchOnWindowFocus:!1,onError:e=>{var a,n;const s=((n=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:n.message)||(e==null?void 0:e.message)||"Error fetching content";o.error(s)}},t)),S=t=>u(void 0,null,function*(){return(yield c.put("/api/ezee/dayuse/content",t)).data}),I=()=>{const t=i();return r({mutationFn:S,onSuccess:()=>{o.success("Content saved"),t.invalidateQueries({queryKey:["dayUseContent"]})},onError:e=>{var a,n;const s=((n=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:n.message)||(e==null?void 0:e.message)||"Content save failed";o.error(s)}})},T=()=>{const t=i();return r({mutationFn:e=>u(void 0,null,function*(){return(yield c.patch("/api/ezee/dayuse/content/hero",e)).data}),onSuccess:()=>{o.success("Hero updated"),t.invalidateQueries({queryKey:["dayUseContent"]})},onError:e=>{var s,a;return o.error(((a=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:a.message)||e.message)}})},M=()=>{const t=i();return r({mutationFn:e=>u(void 0,null,function*(){return(yield c.patch("/api/ezee/dayuse/content/desc-card",e)).data}),onSuccess:()=>{o.success("Description card updated"),t.invalidateQueries({queryKey:["dayUseContent"]})},onError:e=>{var s,a;return o.error(((a=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:a.message)||e.message)}})},x=()=>{const t=i();return r({mutationFn:s=>u(void 0,[s],function*({title:e}){return(yield c.post("/api/ezee/dayuse/content/benefits",{title:e})).data}),onSuccess:()=>{o.success("Benefit added"),t.invalidateQueries({queryKey:["dayUseContent"]})},onError:e=>{var s,a;return o.error(((a=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:a.message)||e.message)}})},H=()=>{const t=i();return r({mutationFn:a=>u(void 0,[a],function*({benefitId:e,title:s}){return(yield c.put(`/api/ezee/dayuse/content/benefits/${e}`,{title:s})).data}),onSuccess:()=>{o.success("Benefit updated"),t.invalidateQueries({queryKey:["dayUseContent"]})},onError:e=>{var s,a;return o.error(((a=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:a.message)||e.message)}})},j=()=>{const t=i();return r({mutationFn:e=>u(void 0,null,function*(){return(yield c.delete(`/api/ezee/dayuse/content/benefits/${e}`)).data}),onSuccess:()=>{o.success("Benefit deleted"),t.invalidateQueries({queryKey:["dayUseContent"]})},onError:e=>{var s,a;return o.error(((a=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:a.message)||e.message)}})},G=()=>{const t=i();return r({mutationFn:s=>u(void 0,[s],function*({points:e}){return(yield c.put("/api/ezee/dayuse/content/tandc",{points:e})).data}),onSuccess:()=>{o.success("Terms updated"),t.invalidateQueries({queryKey:["dayUseContent"]})},onError:e=>{var s,a;return o.error(((a=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:a.message)||e.message)}})};export{T as a,M as b,x as c,H as d,j as e,G as f,I as g,A as h,K as i,$ as j,P as k,k as l,_ as u};
