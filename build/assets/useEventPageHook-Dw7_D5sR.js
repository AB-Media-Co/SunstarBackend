import{a as e,b as a,u as s}from"./query-vendor-B-W3jWpx.js";import{c as t,d as n}from"./index-Bl04lSVd.js";const r=(a=!1)=>e({queryKey:["eventPages",a],queryFn:async()=>{const e=a?"?active=true":"";return(await t.get(`/api/event-pages${e}`)).data},staleTime:6e4,refetchOnWindowFocus:!1}),u=a=>e({queryKey:["eventPage",a],queryFn:async()=>(await t.get(`/api/event-pages/${a}`)).data,enabled:!!a,staleTime:6e4,refetchOnWindowFocus:!1}),i=()=>{const e=a();return s({mutationFn:async e=>(await t.post("/api/event-pages",e)).data,onSuccess:a=>{e.invalidateQueries({queryKey:["eventPages"]}),n.success("Event page created successfully")},onError:e=>{var a,s;n.error(`Failed to create page: ${(null==(s=null==(a=e.response)?void 0:a.data)?void 0:s.message)||e.message}`)}})},o=()=>{const e=a();return s({mutationFn:async({slug:e,updateData:a})=>(await t.put(`/api/event-pages/${e}`,a)).data,onSuccess:(a,s)=>{e.invalidateQueries({queryKey:["eventPages"]}),e.invalidateQueries({queryKey:["eventPage",s.slug]}),n.success("Event page updated successfully")},onError:e=>{var a,s;n.error(`Failed to update page: ${(null==(s=null==(a=e.response)?void 0:a.data)?void 0:s.message)||e.message}`)}})},c=()=>{const e=a();return s({mutationFn:async({slug:e,section:a,sectionData:s})=>(await t.patch(`/api/event-pages/${e}/section/${a}`,s)).data,onSuccess:(a,s)=>{e.invalidateQueries({queryKey:["eventPages"]}),e.invalidateQueries({queryKey:["eventPage",s.slug]}),n.success(`${s.section} updated successfully`)},onError:e=>{var a,s;n.error(`Failed to update section: ${(null==(s=null==(a=e.response)?void 0:a.data)?void 0:s.message)||e.message}`)}})},d=()=>{const e=a();return s({mutationFn:async e=>(await t.patch(`/api/event-pages/${e}/toggle-status`)).data,onSuccess:(a,s)=>{e.invalidateQueries({queryKey:["eventPages"]}),e.invalidateQueries({queryKey:["eventPage",s]}),n.success(a.message||"Status updated successfully")},onError:e=>{var a,s;n.error(`Failed to toggle status: ${(null==(s=null==(a=e.response)?void 0:a.data)?void 0:s.message)||e.message}`)}})},l=()=>{const e=a();return s({mutationFn:async e=>(await t.delete(`/api/event-pages/${e}`)).data,onSuccess:()=>{e.invalidateQueries({queryKey:["eventPages"]}),n.success("Event page deleted successfully")},onError:e=>{var a,s;n.error(`Failed to delete page: ${(null==(s=null==(a=e.response)?void 0:a.data)?void 0:s.message)||e.message}`)}})};export{u as a,i as b,o as c,c as d,d as e,l as f,r as u};
