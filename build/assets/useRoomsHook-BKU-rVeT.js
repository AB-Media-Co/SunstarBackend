var e=(e,r,o)=>new Promise(((a,t)=>{var n=e=>{try{s(o.next(e))}catch(r){t(r)}},l=e=>{try{s(o.throw(e))}catch(r){t(r)}},s=e=>e.done?a(e.value):Promise.resolve(e.value).then(n,l);s((o=o.apply(e,r)).next())}));import{c as r}from"./index-D89k_Hd_.js";import{h as o,_ as a,l as t,g as n}from"./react-vendor-tq68JOgp.js";const l=(t,n,l,s,i={})=>{var u,d,c,m,v,p;const h=Boolean(t&&n&&l&&s)&&(null==(u=i.enabled)||u);return o({queryKey:["rooms",t,n,l,s],enabled:h,queryFn:o=>e(void 0,[o],(function*({signal:e}){try{return(yield r.get("/api/ezee/syncedRooms",{params:{hotelCode:t,authCode:n,fromDate:l,toDate:s},signal:e})).data}catch(o){throw o}})),staleTime:null!=(d=i.staleTime)?d:3e5,gcTime:null!=(c=i.gcTime)?c:18e5,refetchOnWindowFocus:null!=(m=i.refetchOnWindowFocus)&&m,keepPreviousData:null==(v=i.keepPreviousData)||v,retry:null!=(p=i.retry)?p:1,onError:e=>{var r,o;a.error("Error fetching rooms: "+((null==(o=null==(r=null==e?void 0:e.response)?void 0:r.data)?void 0:o.error)||e.message))}})},s=(o,l,s,i)=>{const u=t();return n({mutationFn:a=>e(void 0,null,(function*(){if(!a._id)throw new Error("Room ID (_id) is required for updating a room");return(yield r.put(`/api/ezee/rooms/${a._id}`,a,{params:{hotelCode:o,authCode:l,fromDate:s,toDate:i}})).data})),onSuccess:()=>{u.invalidateQueries({queryKey:["rooms",o,l,s,i]}),a.success("Room updated successfully")},onError:e=>{var r,o;a.error("Error updating room: "+((null==(o=null==(r=null==e?void 0:e.response)?void 0:r.data)?void 0:o.error)||e.message))}})},i=o=>e(void 0,null,(function*(){var e,t;try{return(yield r.get(`/api/ezee/room/${o}`)).data}catch(n){throw a.error("Error fetching room: "+((null==(t=null==(e=null==n?void 0:n.response)?void 0:e.data)?void 0:t.error)||n.message)),n}}));export{s as a,i as g,l as u};
